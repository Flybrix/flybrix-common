!function(){"use strict";angular.module("flybrixCommon",[])}(),function(){"use strict";function e(){return 0}function n(e){var n=u["Uint"+e];if(void 0===n)throw new Error("Unsupported split bit count: "+e+". Allowed counts: 8, 16, 32, 64");return n}function t(e){function n(n,t,a){f.encode(n,t,r(a,e))}function t(n,t){return a(f.decode(n,t),e)}function i(){return""}var f=o(e,u.Uint8);return new c(n,t,i)}function r(e,n){var t=new Uint8Array(n);return e.split("").forEach(function(e,n){t[n]=e.charCodeAt(0)}),t[n-1]=0,t}function a(e,n){for(var t="",r=Math.min(e.length,n-1),a=0;a<r;++a){if(0===e[a])return t;t+=String.fromCharCode(e[a])}return t}function o(e,t,r){function a(n,r,a){for(var o=0;o<e;++o)t.encode(n,r,a[o])}function o(n,r){for(var a=[],o=0;o<e;++o)a.push(t.decode(n,r));return a}function i(){for(var n=[],r=0;r<e;++r)n.push(t.empty());return n}function f(n,r,a,o){var i=o.pop();s.encode(n,r,i);for(var f=0;f<e;++f)i&1<<f&&t.encodePartial(n,r,a[f],o)}function u(n,r,a){for(var o=s.decode(n,r),i=[],f=0;f<e;++f)o&1<<f?i.push(t.decodePartial(n,r,a[f])):i.push(a[f]);return i}function f(n,r,a,o){for(var i=0;i<e;++i)t.encodePartial(n,r,a[i],o)}function u(n,r,a){for(var o=[],i=0;i<e;++i)o.push(t.decodePartial(n,r,a[i]));return o}if(void 0===e)throw new Error("Array type requires length");if(!(t instanceof c))throw new Error("Array type requires Handler type as element");var l;if(void 0!==r){var s=n(r);l=new c(a,o,i,f,u)}else l=new c(a,o,i,f,u);return l.children={element:t,count:e},l}function i(e,t){function r(n,t,r){e.forEach(function(e,a){e.encode(n,t,r[a])})}function a(n,t){var r=[];return e.forEach(function(e,a){r.push(e.decode(n,t))}),r}function o(){var n=[];return e.forEach(function(e){n.push(e.empty())}),n}function i(n,t,r,a){var o=a.pop();s.encode(n,t,o),e.forEach(function(e,i){o&1<<i&&e.encodePartial(n,t,r[i],a)})}function f(n,t,r){var a=s.decode(n,t),o=[];return e.forEach(function(e,i){a&1<<i?o.push(e.decodePartial(n,t,r[i])):o.push(r[i])}),o}function i(n,t,r,a){e.forEach(function(e,o){e.encodePartial(n,t,r[o],a)})}function f(n,t,r){var a=[];return e.forEach(function(e,o){a.push(e.decodePartial(n,t,r[o]))}),a}var u=e.length;if(void 0===u)throw new Error("Polyarray type requires an array of Handler objects");e.forEach(function(e){if(!(e instanceof c))throw new Error("Polyarray type requires an array of Handler objects")});var l;if(void 0!==t){var s=n(t);l=new c(r,a,o,i,f)}else l=new c(r,a,o,i,f);return l.children=e,l}function f(e,t){function r(n,t,r){e.forEach(function(e){e.element.encode(n,t,r[e.key])})}function a(n,t){var r={};return e.forEach(function(e){r[e.key]=e.element.decode(n,t)}),r}function o(){var n={};return e.forEach(function(e){n[e.key]=e.element.empty()}),n}function i(n,t,r,a){var o=a.pop();s.encode(n,t,o),e.forEach(function(e){o&1<<e.part&&e.element.encodePartial(n,t,r[e.key],a)})}function f(n,t,r){var a=s.decode(n,t),o={};return e.forEach(function(e){a&1<<e.part?o[e.key]=e.element.decodePartial(n,t,r[e.key]):o[e.key]=r[e.key]}),o}function i(n,t,r,a){e.forEach(function(e){e.element.encodePartial(n,t,r[e.key],a)})}function f(n,t,r){var a={};return e.forEach(function(e){a[e.key]=e.element.decodePartial(n,t,r[e.key])}),a}var u=e.length;if(void 0===u)throw new Error("Map type requires an array of {key: String, element: Handler} maps");e.forEach(function(e){if(void 0===e.key||!(e.element instanceof c))throw new Error("Map type requires an array of {key: String, element: Handler} maps")});var l;if(void 0!==t){var s=n(t);l=new c(r,a,o,i,f)}else l=new c(r,a,o,i,f);return l.children=e,l}function c(e,n,t,r,a){r=r||e,a=a||n,this.encode=e,this.decode=n,this.encodePartial=r,this.decodePartial=a,this.empty=t}angular.module("flybrixCommon").factory("encodable",function(){return u});var u={string:t,map:f,array:o,polyarray:i};["Uint","Int"].forEach(function(n){[1,2,4].forEach(function(t){function r(e,n,r){e["set"+o](n.index,r,1),n.add(t)}function a(e,n){var r=e["get"+o](n.index,1);return n.add(t),r}var o=n+8*t;u[o]=new c(r,a,e)})}),[4,8].forEach(function(n){function t(e,t,r){e["set"+a](t.index,r,1),t.add(n)}function r(e,t){var r=e["get"+a](t.index,1);return t.add(n),r}var a="Float"+8*n;u[a]=new c(t,r,e)}),u.bool=new c(function(e,n,t){u.Uint8.encode(e,n,t?1:0)},function(e,n){return 0!==u.Uint8.decode(e,n)},function(){return!1})}(),function(){"use strict";function e(){return{Reader:n,encode:r}}function n(e){void 0===e&&(e=2e3),this.N=e,this.buffer=new Uint8Array(e),this.ready_for_new_message=!0,this.buffer_length=0}function t(e){for(var n=0,t=0,r=0,a=!1;e.buffer[n];)r?(--r,e.buffer[t++]=e.buffer[n++]):(a&&(e.buffer[t++]=0),r=e.buffer[n++]-1,a=r<254);return r?0:t}function r(e){for(var n=new Uint8Array(Math.floor((255*e.byteLength+761)/254)),t=1,r=0,a=0;a<e.length;++a){254==n[r]&&(n[r]=255,r=t++,n[r]=0);var o=e[a];++n[r],o?n[t++]=o:(r=t++,n[r]=0)}return n.subarray(0,t).slice().buffer}angular.module("flybrixCommon").factory("cobs",e),n.prototype.AppendToBuffer=function(e,n,r){for(var a=0;a<e.length;a++){var o=e[a];if(this.ready_for_new_message&&(this.ready_for_new_message=!1,this.buffer_length=0),this.buffer[this.buffer_length++]=o,o&&this.buffer_length==this.N)r("overflow","buffer overflow in COBS decoding"),this.ready_for_new_message=!0;else if(!o){this.buffer_length=t(this);var i=0===this.buffer_length;i&&(this.buffer[0]=1);for(var f=1;f<this.buffer_length;++f)this.buffer[0]^=this.buffer[f];if(0===this.buffer[0])if(this.ready_for_new_message=!0,this.buffer_length>5){for(var c=this.buffer[1],u=0,l=0;l<4;++l)u|=this.buffer[l+2]<<8*l;n(c,u,this.buffer.subarray(6,this.buffer_length).slice().buffer)}else r("short","Too short packet");else{this.ready_for_new_message=!0;for(var s="",_="",f=0;f<this.buffer_length;f++)s+=this.buffer[f]+",",_+=String.fromCharCode(this.buffer[f]);if(i)r("frame","Unexpected ending of packet");else{var d="BAD CHECKSUM ("+this.buffer_length+" bytes)"+s+_;r("checksum",d)}}}}}}(),function(){"use strict";function e(e){function n(e){void 0!==e&&(o.push(e),i.notify(t()))}function t(){return o}function r(){i=e.defer()}function a(e){return i.promise.then(void 0,void 0,e)}var o=[],i=e.defer(),f=n;return f.log=n,f.clearSubscribers=r,f.onMessage=a,f.read=t,f}angular.module("flybrixCommon").factory("commandLog",e),e.$inject=["$q"]}(),function(){"use strict";function e(){return n}function n(){this.index=0}angular.module("flybrixCommon").factory("serializer",e),n.prototype.add=function(e){this.index+=e},[["Float32",4],["Int16",2],["Int8",1],["Uint8",1],["Uint16",2]].forEach(function(e){var t=e[0],r=e[1],a="get"+t,o="set"+t;n.prototype["parse"+t+"Array"]=function(e,n){for(var t=0;t<n.length;t++)n[t]=e[a](this.index,1),this.add(r)},n.prototype["set"+t+"Array"]=function(e,n){for(var t=0;t<n.length;t++)e[o](this.index,n[t],1),this.add(r)}})}(),function(){"use strict";function e(e,n,t){function r(e,n,t,r,o,f){a(e,n,t,function(){i(n,t,r)},o,f)}function a(n,t,r,a,i,c){switch(n){case f.State:a(t,r);break;case f.Command:i(t,r);break;case f.DebugString:var u=o(r);e('Received <span style="color: orange">DEBUG</span>: '+u);break;case f.HistoryData:var u=o(r);e('Received <span style="color: orange">HISTORY DATA</span>');break;case f.Response:var l=new DataView(r,0);c(t,l.getInt32(0,1))}}function o(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function i(e,t,r){var a=_.empty(),o=[],i=new DataView(t,0),f=new n,c=0;_.children.forEach(function(n,t){var r=1<<t;if(e&r){o[t]=!0;var c=n.element,u=n.key;a[u]=c.decode(i,f)}}),e&u.STATE_MICROS&&(c=1e6/(a.timestamp_us-s),s=a.timestamp_us),e&u.STATE_TEMPERATURE&&(a.temperature/=100),e&u.STATE_PRESSURE&&(a.pressure/=256),r(a,o,c)}var f={State:0,Command:1,DebugString:3,HistoryData:4,Response:255},c={COM_REQ_RESPONSE:1,COM_SET_EEPROM_DATA:2,COM_REINIT_EEPROM_DATA:4,COM_REQ_EEPROM_DATA:8,COM_REQ_ENABLE_ITERATION:16,COM_MOTOR_OVERRIDE_SPEED_0:32,COM_MOTOR_OVERRIDE_SPEED_1:64,COM_MOTOR_OVERRIDE_SPEED_2:128,COM_MOTOR_OVERRIDE_SPEED_3:256,COM_MOTOR_OVERRIDE_SPEED_4:512,COM_MOTOR_OVERRIDE_SPEED_5:1024,COM_MOTOR_OVERRIDE_SPEED_6:2048,COM_MOTOR_OVERRIDE_SPEED_7:4096,COM_MOTOR_OVERRIDE_SPEED_ALL:8160,COM_SET_COMMAND_OVERRIDE:8192,COM_SET_STATE_MASK:16384,COM_SET_STATE_DELAY:32768,COM_SET_SD_WRITE_DELAY:65536,COM_SET_LED:1<<17,COM_SET_SERIAL_RC:1<<18,COM_SET_CARD_RECORDING:1<<19,COM_SET_PARTIAL_EEPROM_DATA:1<<20,COM_REINIT_PARTIAL_EEPROM_DATA:1<<21,COM_REQ_PARTIAL_EEPROM_DATA:1<<22,COM_REQ_CARD_RECORDING_STATE:1<<23,COM_SET_PARTIAL_TEMPORARY_CONFIG:1<<24},u={STATE_ALL:4294967295,STATE_NONE:0,STATE_MICROS:1,STATE_STATUS:2,STATE_V0:4,STATE_I0:8,STATE_I1:16,STATE_ACCEL:32,STATE_GYRO:64,STATE_MAG:128,STATE_TEMPERATURE:256,STATE_PRESSURE:512,STATE_RX_PPM:1024,STATE_AUX_CHAN_MASK:2048,STATE_COMMANDS:4096,STATE_F_AND_T:8192,STATE_PID_FZ_MASTER:32768,STATE_PID_TX_MASTER:65536,STATE_PID_TY_MASTER:1<<17,STATE_PID_TZ_MASTER:1<<18,STATE_PID_FZ_SLAVE:1<<19,STATE_PID_TX_SLAVE:1<<20,STATE_PID_TY_SLAVE:1<<21,STATE_PID_TZ_SLAVE:1<<22,STATE_MOTOR_OUT:1<<23,STATE_KINE_ANGLE:1<<24,STATE_KINE_RATE:1<<25,STATE_KINE_ALTITUDE:1<<26,STATE_LOOP_COUNT:1<<27},l={STATUS_BOOT:1,STATUS_MPU_FAIL:2,STATUS_BMP_FAIL:4,STATUS_RX_FAIL:8,STATUS_IDLE:16,STATUS_ENABLING:32,STATUS_CLEAR_MPU_BIAS:64,STATUS_SET_MPU_BIAS:128,STATUS_FAIL_STABILITY:256,STATUS_FAIL_ANGLE:512,STATUS_ENABLED:1024,STATUS_BATTERY_LOW:2048,STATUS_TEMP_WARNING:4096,STATUS_LOG_FULL:8192,STATUS_UNPAIRED:16384,STATUS_OVERRIDE:32768},s=0,_=function(){var e=t,n=e.polyarray([e.Uint32,e.Float32,e.Float32,e.Float32,e.Float32,e.Float32]);return e.map([{key:"timestamp_us",element:e.Uint32},{key:"status",element:e.Uint16},{key:"V0_raw",element:e.Uint16},{key:"I0_raw",element:e.Uint16},{key:"I1_raw",element:e.Uint16},{key:"accel",element:e.array(3,e.Float32)},{key:"gyro",element:e.array(3,e.Float32)},{key:"mag",element:e.array(3,e.Float32)},{key:"temperature",element:e.Uint16},{key:"pressure",element:e.Uint32},{key:"ppm",element:e.array(6,e.Int16)},{key:"AUX_chan_mask",element:e.Uint8},{key:"command",element:e.array(4,e.Int16)},{key:"control",element:e.array(4,e.Float32)},{key:"UNUSED",element:e.map([])},{key:"pid_master_Fz",element:n},{key:"pid_master_Tx",element:n},{key:"pid_master_Ty",element:n},{key:"pid_master_Tz",element:n},{key:"pid_slave_Fz",element:n},{key:"pid_slave_Tx",element:n},{key:"pid_slave_Ty",element:n},{key:"pid_slave_Tz",element:n},{key:"MotorOut",element:e.array(8,e.Int16)},{key:"kinematicsAngle",element:e.array(3,e.Float32)},{key:"kinematicsRate",element:e.array(3,e.Float32)},{key:"kinematicsAltitude",element:e.Float32},{key:"loopCount",element:e.Uint32}])}();return{processBinaryDatastream:r,MessageType:f,CommandFields:c,StatusCodes:l}}angular.module("flybrixCommon").factory("parser",e),e.$inject=["commandLog","serializer","encodable"]}(),function(){"use strict";function e(e,n,t,r,a){function o(){}function i(e){A=e,A.onRead=l}function f(o,i,f){void 0===f&&(f=!0);var c=n.defer();o|=a.CommandFields.COM_REQ_RESPONSE;var u,l,s=0;if("object"==typeof i){var _=7+i.length;l=new Uint8Array(_),s^=l[1]=a.MessageType.Command;for(var d=0;d<4;++d)s^=l[d+2]=y(o,d);for(var d=0;d<i.length;d++)s^=l[d+6]=i[d]}else{u=new ArrayBuffer(8),l=new Uint8Array(u),s^=l[1]=a.MessageType.Command;for(var d=0;d<4;++d)s^=l[d+2]=y(o,d);s^=l[6]=i}return l[0]=s,l[l.length-1]=0,T.push({mask:o,response:c}),e(function(){A.send(new Uint8Array(t.encode(l)))},0),f&&r('Sending command <span style="color:blue">'+a.MessageType.Command+"</blue>"),c.promise}function c(){return A.busy()}function u(e){R=e}function l(e){R?R(e,m):h.AppendToBuffer(e,m,s)}function s(e,n){r("COBS decoding failed ("+e+"): "+n)}function _(e){p=e}function d(e){S=e}function E(e,n){for(;T.length>0;){var t=T.shift();{if(t.mask===e){var r=e;if(r&=~a.CommandFields.COM_REQ_RESPONSE,r!==n){t.response.reject("Request was not fully processed");break}t.response.resolve();break}t.response.reject("Missing ACK")}}}function m(e,n,t){a.processBinaryDatastream(e,n,t,p,S,E)}function y(e,n){return e>>8*n&255}var T=[],A=new o,p=function(){r("No state listener defined for serial")},S=function(){r("No command listener defined for serial")},h=new t.Reader(2e3),R=void 0;return o.prototype.busy=function(){return!1},o.prototype.send=function(e){r('No "send" defined for serial backend')},o.prototype.onRead=function(e){r('No "onRead" defined for serial backend')},{busy:c,field:a.CommandFields,send:f,setBackend:i,setStateCallback:_,setCommandCallback:d,setDataHandler:u,Backend:o}}angular.module("flybrixCommon").factory("serial",e),e.$inject=["$timeout","$q","cobs","commandLog","parser"]}(),function(){"use strict";function e(e,n,t,r){function a(){return p}function o(){n("Requesting current configuration data..."),e.send(e.field.COM_REQ_EEPROM_DATA,[],!1)}function i(){n("Setting factory default configuration data..."),e.send(e.field.COM_REINIT_EEPROM_DATA,[],!1).then(function(){o()},function(e){n("Request for factory reset failed: "+e)})}function f(t){void 0===t&&(t=T),n("Sending new configuration data...");var r=new ArrayBuffer(A),a=new DataView(r,0);u(a,t);var i=new Uint8Array(r);e.send(e.field.COM_SET_EEPROM_DATA,i,!1).then(function(){o()})}function c(n,t,r,a,i){void 0===n&&(n=0),void 0===t&&(t=0),void 0===r&&(r=T);var f=a?e.field.COM_SET_PARTIAL_TEMPORARY_CONFIG:e.field.COM_SET_PARTIAL_EEPROM_DATA,c=new ArrayBuffer(A),u=new DataView(c,0),s=l(u,r,n,t),_=new Uint8Array(c.slice(0,s));e.send(f,_,!1).then(function(){i&&o()})}function u(e,n){v.encode(e,new t,n)}function l(e,n,r,a){var o=new t;return v.encodePartial(e,o,n,[a,r]),o.index}function s(e){n("Received config!"),T=v.decode(new DataView(e,0),new t),d()}function _(e){n("Received partial config!"),T=v.decodePartial(new DataView(e,0),new t,angular.copy(T)),d()}function d(){p[0]!==T.version[0]||p[1]!==T.version[1]?(n('<span style="color: red">WARNING: Configuration MAJOR or MINOR version mismatch!</span>'),n("eeprom version: <strong>"+T.version[0]+"."+T.version[1]+"."+T.version[2]+"</strong> - app expected version: <strong>"+p[0]+"."+p[1]+"."+p[2]+"</strong>")):(n('Recieved configuration version: <span style="color: green">'+T.version[0]+"."+T.version[1]+"."+T.version[2]+"</span>"),S())}function E(e){S=e}function m(e){h=e}function y(){return T}var T,A=652,p=[1,5,0],S=function(){n("No callback defined for receiving configurations!")},h=function(){n("No callback defined for receiving logging state! Callback arguments: (isLogging, isLocked, delay)")},R={VERSION:1,ID:2,PCB:4,MIX_TABLE:8,MAG_BIAS:16,CHANNEL:32,PID_PARAMETERS:64,STATE_PARAMETERS:128,LED_STATES:256,DEVICE_NAME:512};e.setCommandCallback(function(t,r){if(t&e.field.COM_SET_EEPROM_DATA&&s(r),t&e.field.COM_SET_PARTIAL_EEPROM_DATA&&_(r),t&(e.field.COM_SET_CARD_RECORDING|e.field.COM_SET_SD_WRITE_DELAY)){var a=new Uint8Array(r);if(a.length>=3){var o=a[0]|a[1]<<8,i=a[2];h(0!==(1&i),0!==(2&i),o)}else n("Bad data given for logging info")}});var v=function(){var e=r,n=e.map([{key:"red",element:e.Uint8},{key:"green",element:e.Uint8},{key:"blue",element:e.Uint8}]),t=e.map([{key:"status",element:e.Uint16},{key:"pattern",element:e.Uint8},{key:"colors",element:e.map([{key:"right_front",element:n},{key:"right_back",element:n},{key:"left_front",element:n},{key:"left_back",element:n}])},{key:"indicator_red",element:e.bool},{key:"indicator_green",element:e.bool}]),a=e.array(3,e.Float32),o=(e.array(3,e.Uint8),e.array(6,e.Uint8)),i=e.array(6,e.Uint16),f=e.array(7,e.Float32),c=e.array(2,e.Float32),u=e.array(16,t,16);e.string(9);return e.map([{part:0,key:"version",element:e.array(3,e.Uint8)},{part:1,key:"id",element:e.Uint32},{part:2,key:"pcbOrientation",element:a},{part:2,key:"pcbTranslation",element:a},{part:3,key:"mixTableFz",element:e.array(8,e.Uint8)},{part:3,key:"mixTableTx",element:e.array(8,e.Uint8)},{part:3,key:"mixTableTy",element:e.array(8,e.Uint8)},{part:3,key:"mixTableTz",element:e.array(8,e.Uint8)},{part:4,key:"magBias",element:a},{part:5,key:"assignedChannel",element:o},{part:5,key:"commandInversion",element:e.Uint8},{part:5,key:"channelMidpoint",element:i},{part:5,key:"channelDeadzone",element:i},{part:6,key:"thrustMasterPIDParameters",element:f},{part:6,key:"pitchMasterPIDParameters",element:f},{part:6,key:"rollMasterPIDParameters",element:f},{part:6,key:"yawMasterPIDParameters",element:f},{part:6,key:"thrustSlavePIDParameters",element:f},{part:6,key:"pitchSlavePIDParameters",element:f},{part:6,key:"rollSlavePIDParameters",element:f},{part:6,key:"yawSlavePIDParameters",element:f},{part:6,key:"thrustGain",element:e.Float32},{part:6,key:"pitchGain",element:e.Float32},{part:6,key:"rollGain",element:e.Float32},{part:6,key:"yawGain",element:e.Float32},{part:6,key:"pidBypass",element:e.Uint8},{part:7,key:"stateEstimationParameters",element:c},{part:7,key:"enableParameters",element:c},{part:8,key:"ledStates",element:u},{part:9,key:"name",element:e.string(9)}],16)}();return T=v.empty(),{request:o,reinit:i,send:f,sendPartial:c,getConfig:y,setConfigCallback:E,setLoggingCallback:m,getDesiredVersion:a,field:R}}angular.module("flybrixCommon").factory("deviceConfig",e),e.$inject=["serial","commandLog","serializer","encodable"]}(),function(){"use strict";function e(e){function n(e,n,t,a,c,u,l){c>0&&c<6&&(f.pattern=c),[e,n,t,a].forEach(function(e,n){if(e){var t=i[o[n]];t.red=e.red,t.green=e.green,t.blue=e.blue}}),void 0!==u&&(f.indicator_red=u),void 0!==l&&(f.indicator_green=l),r()}function t(e,t,r){var o={red:e||0,green:t||0,blue:r||0};n(o,o,o,o,a.SOLID)}function r(){e.sendPartial(e.field.LED_STATES,1,c,!0)}var a={NO_OVERRIDE:0,FLASH:1,BEACON:2,BREATHE:3,ALTERNATE:4,SOLID:5},o=["right_front","right_back","left_front","left_back"],i={};o.forEach(function(e){i[e]={red:0,green:0,blue:0}});var f={status:65535,pattern:a.SOLID,colors:i,indicator_red:!1,indicator_green:!1},c={ledStates:[f]};return{set:n,setSimple:t,patterns:a}}angular.module("flybrixCommon").factory("led",e),e.$inject=["deviceConfig"]}(),function(){"use strict";function e(e,n,t){function r(){if(O||!e.busy()){O=!1;var t={enabled:!0},r={},a=-.8;r.throttle=T(4095*(S-a)/(1-a),0,4095),r.pitch=T(4095*-A(h,.1)/2,-2047,2047),r.roll=T(4095*A(R,.1)/2,-2047,2047),r.yaw=T(4095*-A(v,.1)/2,-2047,2047),t.command=r,t.auxcode=(1<<g)+(1<<k+3);var o=new Uint8Array(10);return C.encode(new DataView(o.buffer),new n,t),e.send(e.field.COM_SET_SERIAL_RC,o,!1)}}function a(e){S=e}function o(e){h=e}function i(e){R=e}function f(e){v=e}function c(e){g=e}function u(e){k=e}function l(){return S}function s(){return h}function _(){return R}function d(){return v}function E(){return g}function m(){return k}function y(){O=!0}function T(e,n,t){return Math.max(n,Math.min(e,t))}function A(e,n){return e>n?e-n:e<-n?e+n:0}var p={LOW:0,MID:1,HIGH:2},S=-1,h=0,R=0,v=0,g=p.HIGH,k=p.HIGH,O=!0,M=t.map([{key:"throttle",element:t.Int16},{key:"pitch",element:t.Int16},{key:"roll",element:t.Int16},{key:"yaw",element:t.Int16}]),C=t.map([{key:"enabled",element:t.bool},{key:"command",element:M},{key:"auxcode",element:t.Uint8}]);return{setThrottle:a,setPitch:o,setRoll:i,setYaw:f,setAux1:c,setAux2:u,getThrottle:l,getPitch:s,getRoll:_,getYaw:d,getAux1:E,getAux2:m,AUX:p,send:r,forceNextSend:y}}angular.module("flybrixCommon").factory("rcData",e),e.$inject=["serial","serializer","encodable"]}();