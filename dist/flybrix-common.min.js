!function(){"use strict";angular.module("flybrixCommon",[])}(),function(){"use strict";function e(r,a){return{magnetometer:function(){return r("Calibrating magnetometer bias"),a.sendStructure("Command",{request_response:!0,set_calibration:{enabled:!0,mode:0}},!1)},accelerometer:{flat:e.bind(null,"flat",0),forward:e.bind(null,"lean forward",1),back:e.bind(null,"lean back",2),right:e.bind(null,"lean right",3),left:e.bind(null,"lean left",4)},finish:function(){return r("Finishing calibration"),a.sendStructure("Command",{request_response:!0,set_calibration:{enabled:!1,mode:0}},!1)}};function e(e,t){return r("Calibrating gravity for pose: "+e),a.sendStructure("Command",{request_response:!0,set_calibration:{enabled:!0,mode:t+1}},!1)}}angular.module("flybrixCommon").factory("calibration",e),e.$inject=["commandLog","serial"]}(),function(){"use strict";function e(e){void 0===e&&(e=2e3),this.N=e,this.buffer=new Uint8Array(e),this.ready_for_new_message=!0,this.buffer_length=0}function c(e){for(var t=0,r=0,a=0,n=!1;e.buffer[t];)a?(--a,e.buffer[r++]=e.buffer[t++]):(n&&(e.buffer[r++]=0),n=(a=e.buffer[t++]-1)<254);return a?0:r}function t(e){for(var t=new Uint8Array(Math.floor((255*e.byteLength+761)/254)),r=1,a=0,n=0;n<e.length;++n){254==t[a]&&(t[a]=255,t[a=r++]=0);var i=e[n];++t[a],i?t[r++]=i:t[a=r++]=0}return t.subarray(0,r).slice().buffer}angular.module("flybrixCommon").factory("cobs",function(){return{Reader:e,encode:t}}),e.prototype.AppendToBuffer=function(e,t,r){for(var a=0;a<e.length;a++){var n=e[a];if(this.ready_for_new_message&&(this.ready_for_new_message=!1,this.buffer_length=0),(this.buffer[this.buffer_length++]=n)&&this.buffer_length==this.N)r("overflow","buffer overflow in COBS decoding"),this.ready_for_new_message=!0;else if(!n){this.buffer_length=c(this);var i=0===this.buffer_length;i&&(this.buffer[0]=1);for(var o=1;o<this.buffer_length;++o)this.buffer[0]^=this.buffer[o];if(0===this.buffer[0])if(this.ready_for_new_message=!0,5<this.buffer_length){for(var s=this.buffer[1],_=0,u=0;u<4;++u)_|=this.buffer[u+2]<<8*u;t(s,_,this.buffer.subarray(6,this.buffer_length).slice().buffer)}else r("short","Too short packet");else{this.ready_for_new_message=!0;var l="",d="";for(o=0;o<this.buffer_length;o++)l+=this.buffer[o]+",",d+=String.fromCharCode(this.buffer[o]);if(i)r("frame","Unexpected ending of packet");else r("checksum","BAD CHECKSUM ("+this.buffer_length+" bytes)"+l+d)}}}}}(),function(){"use strict";function e(e){var t=[],r=e.defer(),a=n;return a.log=n,a.clearSubscribers=function(){r=e.defer()},a.onMessage=function(e){return r.promise.then(void 0,void 0,e)},a.read=i,a;function n(e){void 0!==e&&(t.push(e),r.notify(i()))}function i(){return t}}angular.module("flybrixCommon").factory("commandLog",e),e.$inject=["$q"]}(),function(){"use strict";function e(e){var t={},r=e,a=r.map([{key:"red",element:r.Uint8},{key:"green",element:r.Uint8},{key:"blue",element:r.Uint8}]),n=r.map([{key:"status",element:r.Uint16},{key:"pattern",element:r.Uint8},{key:"colors",element:r.map([{key:"right_front",element:a},{key:"right_back",element:a},{key:"left_front",element:a},{key:"left_back",element:a}])},{key:"indicator_red",element:r.bool},{key:"indicator_green",element:r.bool}]),i=r.array(3,r.Float32),o=(r.array(3,r.Uint8),r.array(6,r.Uint8)),s=r.array(6,r.Uint16),_=r.array(7,r.Float32),u=r.array(2,r.Float32),l=r.array(16,n,16),d=(r.string(9),[{part:0,key:"version",element:r.array(3,r.Uint8)},{part:1,key:"id",element:r.Uint32},{part:2,key:"pcbOrientation",element:i},{part:2,key:"pcbTranslation",element:i},{part:3,key:"mixTableFz",element:r.array(8,r.Int8)},{part:3,key:"mixTableTx",element:r.array(8,r.Int8)},{part:3,key:"mixTableTy",element:r.array(8,r.Int8)},{part:3,key:"mixTableTz",element:r.array(8,r.Int8)},{part:4,key:"magBias",element:i},{part:5,key:"assignedChannel",element:o},{part:5,key:"commandInversion",element:r.Uint8},{part:5,key:"channelMidpoint",element:s},{part:5,key:"channelDeadzone",element:s},{part:6,key:"thrustMasterPIDParameters",element:_},{part:6,key:"pitchMasterPIDParameters",element:_},{part:6,key:"rollMasterPIDParameters",element:_},{part:6,key:"yawMasterPIDParameters",element:_},{part:6,key:"thrustSlavePIDParameters",element:_},{part:6,key:"pitchSlavePIDParameters",element:_},{part:6,key:"rollSlavePIDParameters",element:_},{part:6,key:"yawSlavePIDParameters",element:_},{part:6,key:"pidBypass",element:r.Uint8},{part:7,key:"stateEstimationParameters",element:u},{part:7,key:"enableParameters",element:u},{part:8,key:"ledStates",element:l},{part:9,key:"name",element:r.string(9)}]);t["1.4.0"]=r.map(d.slice(),16);var c=[{part:6,key:"thrustGain",element:r.Float32},{part:6,key:"pitchGain",element:r.Float32},{part:6,key:"rollGain",element:r.Float32},{part:6,key:"yawGain",element:r.Float32}];d=d.slice(0,21).concat(c,d.slice(21)),t["1.5.0"]=r.map(d.slice(),16);var f=[{part:10,key:"forwardMasterPIDParameters",element:_},{part:10,key:"rightMasterPIDParameters",element:_},{part:10,key:"upMasterPIDParameters",element:_},{part:10,key:"forwardSlavePIDParameters",element:_},{part:10,key:"rightSlavePIDParameters",element:_},{part:10,key:"upSlavePIDParameters",element:_},{part:10,key:"velocityPidBypass",element:r.Uint8},{part:11,key:"inertialBiasAccel",element:i},{part:11,key:"inertialBiasGyro",element:i}];return d=d.concat(f),t["1.6.0"]=r.map(d.slice(),16),t}angular.module("flybrixCommon").factory("configHandler",e),e.$inject=["encodable"]}(),function(){"use strict";function e(m,s,p,g){var S,t=function(){s("No callback defined for receiving configurations!")},_=function(){s("No callback defined for receiving logging state! Callback arguments: (isLogging, isLocked, delay)")};function y(){var e=g.serializationHandler();return s("Requesting current configuration data..."),m.sendStructure("Command",{request_response:!0,req_partial_eeprom_data:e.ConfigurationFlag.empty()},!1)}function r(e,t,r,a,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=S);var i,o,s,_,u,l,d,c=a?m.field.COM_SET_PARTIAL_TEMPORARY_CONFIG:m.field.COM_SET_PARTIAL_EEPROM_DATA,f=(i=r,o=e,s=t,_=g.configHandler(),u=new Uint8Array(_.bytecount([s,o])),l=new DataView(u.buffer,0),d=new p.Serializer,_.encodePartial(l,d,i,[s,o]),u);return m.send(c,f,!1).then(function(){n&&y()})}function u(){g.set(S.version),g.supported()?(s("Received configuration data (v"+S.version[0]+"."+S.version[1]+"."+S.version[2]+")"),t()):(s("Received an unsupported configuration!"),s("Found version: "+S.version[0]+"."+S.version[1]+"."+S.version[2]+" --- Newest version: "+g.desiredKey()))}return m.setCommandCallback(function(e,t){var r,a;if(e&m.field.COM_SET_EEPROM_DATA&&(r=t,S=g.configHandler().decode(new DataView(r,0),new p.Serializer),u()),e&m.field.COM_SET_PARTIAL_EEPROM_DATA&&(a=t,S=g.configHandler().decodePartial(new DataView(a,0),new p.Serializer,angular.copy(S)),u()),e&(m.field.COM_SET_CARD_RECORDING|m.field.COM_SET_SD_WRITE_DELAY)){var n=new Uint8Array(t);if(3<=n.length){var i=n[0]|n[1]<<8,o=n[2];_(0!=(1&o),0!=(2&o),i)}else s("Bad data given for logging info")}}),S=g.configHandler().empty(),{request:y,reinit:function(){return s("Setting factory default configuration data..."),m.sendStructure("Command",{request_response:!0,reinit_eeprom_data:!0},!1).then(function(){return y()},function(e){s("Request for factory reset failed: "+e)})},send:function(e){return r(65535,65535,e,!1,!0)},sendPartial:r,getConfig:function(){return S},setConfigCallback:function(e){t=e},setLoggingCallback:function(e){_=e},getDesiredVersion:function(){return g.desired()},field:{VERSION:1,ID:2,PCB:4,MIX_TABLE:8,MAG_BIAS:16,CHANNEL:32,PID_PARAMETERS:64,STATE_PARAMETERS:128,LED_STATES:256,DEVICE_NAME:512,VELOCITY_PID_PARAMETERS:1024,INERTIAL_BIAS:2048}}}angular.module("flybrixCommon").factory("deviceConfig",e),e.$inject=["serial","commandLog","encodable","firmwareVersion"]}(),function(){angular.module("flybrixCommon").factory("encodable",function(){return i});var i={string:function(o){var s=r(o,i.Uint8);return new l(function(){return o},function(e,t,r){s.encode(e,t,(a=r,n=o,i=new Uint8Array(n),a.split("").forEach(function(e,t){i[t]=e.charCodeAt(0)}),i[n-1]=0,i));var a,n,i},function(e,t){return function(e,t){for(var r="",a=Math.min(e.length,t-1),n=0;n<a;++n){if(0===e[n])return r;r+=String.fromCharCode(e[n])}return r}(s.decode(e,t),o)},function(){return""})},map:function(e,t){var r;if(void 0===e.length)throw new Error("Map type requires an array of {key: String, element: Handler} maps");e.forEach(function(e){if(void 0===e.key||!(e.element instanceof l))throw new Error("Map type requires an array of {key: String, element: Handler} maps")}),void 0!==t&&e.forEach(function(e){if(void 0===e.part)throw new Error("Map type requires an array of {key: String, element: Handler, part: Number} maps when split bits are defined")});function a(t,r,a){e.forEach(function(e){e.element.encode(t,r,a[e.key])})}function n(t,r){var a={};return e.forEach(function(e){a[e.key]=e.element.decode(t,r)}),a}function i(){var t={};return e.forEach(function(e){t[e.key]=e.element.empty()}),t}if(void 0!==t){var o=u(t);r=new l(function(r){var a,n=!0;void 0!==r&&(a=r.pop(),n=!1);return e.reduce(function(e,t){return n||a&1<<t.part?e+t.element.bytecount(r):e},n?0:t/8)},a,n,i,function(t,r,a,n){var i=n.pop();o.encode(t,r,i),e.forEach(function(e){i&1<<e.part&&e.element.encodePartial(t,r,a[e.key],n)})},function(t,r,a){var n=o.decode(t,r),i={};return e.forEach(function(e){n&1<<e.part?i[e.key]=e.element.decodePartial(t,r,a[e.key]):i[e.key]=a[e.key]}),i})}else{r=new l(function(r){return e.reduce(function(e,t){return e+t.element.bytecount(r)},0)},a,n,i,function(t,r,a,n){e.forEach(function(e){e.element.encodePartial(t,r,a[e.key],n)})},function(t,r,a){var n={};return e.forEach(function(e){n[e.key]=e.element.decodePartial(t,r,a[e.key])}),n})}return r.children=e,r},array:r,polyarray:function(e,t){var r;if(void 0===e.length)throw new Error("Polyarray type requires an array of Handler objects");function a(r,a,n){e.forEach(function(e,t){e.encode(r,a,n[t])})}function n(r,a){var n=[];return e.forEach(function(e,t){n.push(e.decode(r,a))}),n}function i(){var t=[];return e.forEach(function(e){t.push(e.empty())}),t}e.forEach(function(e){if(!(e instanceof l))throw new Error("Polyarray type requires an array of Handler objects")});e.reduce(function(e,t){return e+t.bytecount},0);if(void 0!==t){var s=u(t);r=new l(function(a){var n,i=!0;void 0!==a&&(n=a.pop(),i=!1);return e.reduce(function(e,t,r){return i||n&1<<r?e+t.bytecount(a):e},i?0:t/8)},a,n,i,function(r,a,n,i){var o=i.pop();s.encode(r,a,o),e.forEach(function(e,t){o&1<<t&&e.encodePartial(r,a,n[t],i)})},function(r,a,n){var i=s.decode(r,a),o=[];return e.forEach(function(e,t){i&1<<t?o.push(e.decodePartial(r,a,n[t])):o.push(n[t])}),o})}else{r=new l(function(r){return e.reduce(function(e,t){return e+t.bytecount(r)},0)},a,n,i,function(r,a,n,i){e.forEach(function(e,t){e.encodePartial(r,a,n[t],i)})},function(r,a,n){var i=[];return e.forEach(function(e,t){i.push(e.decodePartial(r,a,n[t]))}),i})}return r.children=e,r},Serializer:e};function e(){this.index=0}function t(){return 0}function u(e){var t=i["Uint"+e];if(void 0===t)throw new Error("Unsupported split bit count: "+e+". Allowed counts: 8, 16, 32, 64");return t}function r(o,s,i){if(void 0===o)throw new Error("Array type requires length");if(!(s instanceof l))throw new Error("Array type requires Handler type as element");function e(e,t,r){for(var a=0;a<o;++a)s.encode(e,t,r[a])}function t(e,t){for(var r=[],a=0;a<o;++a)r.push(s.decode(e,t));return r}function r(){for(var e=[],t=0;t<o;++t)e.push(s.empty());return e}var a;if(void 0!==i){var _=u(i);a=new l(function(e){var t,r=!0;void 0!==e&&(t=e.pop(),r=!1);for(var a=r?0:i/8,n=0;n<o;++n)(r||t&1<<n)&&(a+=s.bytecount(e));return a},e,t,r,function(e,t,r,a){var n=a.pop();_.encode(e,t,n);for(var i=0;i<o;++i)n&1<<i&&s.encodePartial(e,t,r[i],a)},function(e,t,r){for(var a=_.decode(e,t),n=[],i=0;i<o;++i)a&1<<i?n.push(s.decodePartial(e,t,r[i])):n.push(r[i]);return n})}else{a=new l(function(e){for(var t=0,r=0;r<o;++r)t+=s.bytecount(e);return t},e,t,r,function(e,t,r,a){for(var n=0;n<o;++n)s.encodePartial(e,t,r[n],a)},function(e,t,r){for(var a=[],n=0;n<o;++n)a.push(s.decodePartial(e,t,r[n]));return a})}return a.children={element:s,count:o},a}function l(e,t,r,a,n,i){n=n||t,i=i||r,this.bytecount=e,this.encode=t,this.decode=r,this.encodePartial=n,this.decodePartial=i,this.empty=a}e.prototype.add=function(e){this.index+=e},["Uint","Int"].forEach(function(e){[1,2,4].forEach(function(a){var n=e+8*a;i[n]=new l(function(){return a},function(e,t,r){e["set"+n](t.index,r,1),t.add(a)},function(e,t){var r=e["get"+n](t.index,1);return t.add(a),r},t)})}),[4,8].forEach(function(a){var n="Float"+8*a;i[n]=new l(function(){return a},function(e,t,r){e["set"+n](t.index,r,1),t.add(a)},function(e,t){var r=e["get"+n](t.index,1);return t.add(a),r},t)}),i.bool=new l(function(){return 1},function(e,t,r){i.Uint8.encode(e,t,r?1:0)},function(e,t){return 0!==i.Uint8.decode(e,t)},function(){return!1})}(),function(){"use strict";function e(t,r){var a=[0,0,0],n="0.0.0",e={"1.4.0":!0,"1.5.0":!0,"1.6.0":!0},i=[1,6,0],o="1.6.0",s=t[o],_=s,u=r.getHandler(o),l=u,d={"1.4.0":134217727,"1.5.0":134217727,"1.6.0":134217727},c=4294967295;return{set:function(e){n=(a=e).join("."),_=t[n]||s,l=r.getHandler(o)||u,c=d[n]||4294967295},get:function(){return a},key:function(){return n},supported:function(){return!0===e[n]},desired:function(){return i},desiredKey:function(){return o},configHandler:function(){return _},serializationHandler:function(){return l},stateMask:function(){return c}}}angular.module("flybrixCommon").factory("firmwareVersion",e),e.$inject=["configHandler","serializationHandler"]}(),function(){"use strict";function e(s){var n={NO_OVERRIDE:0,FLASH:1,BEACON:2,BREATHE:3,ALTERNATE:4,SOLID:5},_=["right_front","right_back","left_front","left_back"],u={};_.forEach(function(e){u[e]={red:0,green:0,blue:0}});var l={status:65535,pattern:n.SOLID,colors:u,indicator_red:!1,indicator_green:!1},d={ledStates:[l]};function i(e,t,r,a,n,i,o){0<n&&n<6&&(l.pattern=n),[e,t,r,a].forEach(function(e,t){if(e){var r=u[_[t]];r.red=e.red,r.green=e.green,r.blue=e.blue}}),void 0!==i&&(l.indicator_red=i),void 0!==o&&(l.indicator_green=o),s.sendPartial(s.field.LED_STATES,1,d,!0)}return{set:i,setSimple:function(e,t,r){var a={red:e||0,green:t||0,blue:r||0};i(a,a,a,a,n.SOLID)},patterns:n}}angular.module("flybrixCommon").factory("led",e),e.$inject=["deviceConfig"]}(),function(){"use strict";function e(e,d,c){var t,r,f={State:0,Command:1,DebugString:3,HistoryData:4,Response:255},m={STATE_ALL:4294967295,STATE_NONE:0,STATE_MICROS:1,STATE_STATUS:2,STATE_V0:4,STATE_I0:8,STATE_I1:16,STATE_ACCEL:32,STATE_GYRO:64,STATE_MAG:128,STATE_TEMPERATURE:256,STATE_PRESSURE:512,STATE_RX_PPM:1024,STATE_AUX_CHAN_MASK:2048,STATE_COMMANDS:4096,STATE_F_AND_T:8192,STATE_PID_FZ_MASTER:16384,STATE_PID_TX_MASTER:32768,STATE_PID_TY_MASTER:65536,STATE_PID_TZ_MASTER:1<<17,STATE_PID_FZ_SLAVE:1<<18,STATE_PID_TX_SLAVE:1<<19,STATE_PID_TY_SLAVE:1<<20,STATE_PID_TZ_SLAVE:1<<21,STATE_MOTOR_OUT:1<<22,STATE_KINE_ANGLE:1<<23,STATE_KINE_RATE:1<<24,STATE_KINE_ALTITUDE:1<<25,STATE_LOOP_COUNT:1<<26},p=0,g=(r=(t=d).polyarray([t.Uint32,t.Float32,t.Float32,t.Float32,t.Float32,t.Float32]),t.map([{key:"timestamp_us",element:t.Uint32},{key:"status",element:t.Uint16},{key:"V0_raw",element:t.Uint16},{key:"I0_raw",element:t.Uint16},{key:"I1_raw",element:t.Uint16},{key:"accel",element:t.array(3,t.Float32)},{key:"gyro",element:t.array(3,t.Float32)},{key:"mag",element:t.array(3,t.Float32)},{key:"temperature",element:t.Uint16},{key:"pressure",element:t.Uint32},{key:"ppm",element:t.array(6,t.Int16)},{key:"AUX_chan_mask",element:t.Uint8},{key:"command",element:t.array(4,t.Int16)},{key:"control",element:t.array(4,t.Float32)},{key:"pid_master_Fz",element:r},{key:"pid_master_Tx",element:r},{key:"pid_master_Ty",element:r},{key:"pid_master_Tz",element:r},{key:"pid_slave_Fz",element:r},{key:"pid_slave_Tx",element:r},{key:"pid_slave_Ty",element:r},{key:"pid_slave_Tz",element:r},{key:"MotorOut",element:t.array(8,t.Int16)},{key:"kinematicsAngle",element:t.array(3,t.Float32)},{key:"kinematicsRate",element:t.array(3,t.Float32)},{key:"kinematicsAltitude",element:t.Float32},{key:"loopCount",element:t.Uint32}]));function S(e){return String.fromCharCode.apply(null,new Uint8Array(e))}return{processBinaryDatastream:function(e,a,u,l,t,r,n,i){!function(e,t,r,a,n,i,o,s){switch(e){case f.State:a(t,r);break;case f.Command:n(t,r);break;case f.DebugString:var _=S(r);i(_);break;case f.HistoryData:var _=S(r);o(_);break;case f.Response:var u=new DataView(r,0);s(t,u.getInt32(0,1))}}(e,a,u,function(){var n,e,t,i,o,s,_,r;n=a,e=u,t=l,i=g.empty(),o=[],s=new DataView(e,0),_=new d.Serializer,r=0,n&=c.stateMask(),g.children.forEach(function(e,t){if(n&1<<t){o[t]=!0;var r=e.element,a=e.key;i[a]=r.decode(s,_)}}),n&m.STATE_MICROS&&(r=1e6/(i.timestamp_us-p),p=i.timestamp_us),n&m.STATE_TEMPERATURE&&(i.temperature/=100),n&m.STATE_PRESSURE&&(i.pressure/=256),t(i,o,r)},t,r,n,i)},MessageType:f,CommandFields:{COM_REQ_RESPONSE:1,COM_SET_EEPROM_DATA:2,COM_REINIT_EEPROM_DATA:4,COM_REQ_EEPROM_DATA:8,COM_REQ_ENABLE_ITERATION:16,COM_MOTOR_OVERRIDE_SPEED_0:32,COM_MOTOR_OVERRIDE_SPEED_1:64,COM_MOTOR_OVERRIDE_SPEED_2:128,COM_MOTOR_OVERRIDE_SPEED_3:256,COM_MOTOR_OVERRIDE_SPEED_4:512,COM_MOTOR_OVERRIDE_SPEED_5:1024,COM_MOTOR_OVERRIDE_SPEED_6:2048,COM_MOTOR_OVERRIDE_SPEED_7:4096,COM_MOTOR_OVERRIDE_SPEED_ALL:8160,COM_SET_COMMAND_OVERRIDE:8192,COM_SET_STATE_MASK:16384,COM_SET_STATE_DELAY:32768,COM_SET_SD_WRITE_DELAY:65536,COM_SET_LED:1<<17,COM_SET_SERIAL_RC:1<<18,COM_SET_CARD_RECORDING:1<<19,COM_SET_PARTIAL_EEPROM_DATA:1<<20,COM_REINIT_PARTIAL_EEPROM_DATA:1<<21,COM_REQ_PARTIAL_EEPROM_DATA:1<<22,COM_REQ_CARD_RECORDING_STATE:1<<23,COM_SET_PARTIAL_TEMPORARY_CONFIG:1<<24,COM_SET_COMMAND_SOURCES:1<<25,COM_SET_CALIBRATION:1<<26},StatusCodes:{STATUS_BOOT:1,STATUS_MPU_FAIL:2,STATUS_BMP_FAIL:4,STATUS_RX_FAIL:8,STATUS_IDLE:16,STATUS_ENABLING:32,STATUS_CLEAR_MPU_BIAS:64,STATUS_SET_MPU_BIAS:128,STATUS_FAIL_STABILITY:256,STATUS_FAIL_ANGLE:512,STATUS_FAIL_OTHER:16384,STATUS_ENABLED:1024,STATUS_BATTERY_LOW:2048,STATUS_TEMP_WARNING:4096,STATUS_LOG_FULL:8192,STATUS_OVERRIDE:32768},StateFields:m}}angular.module("flybrixCommon").factory("parser",e),e.$inject=["commandLog","encodable","firmwareVersion"]}(),function(){"use strict";function e(a,e){var t=1,r=2,n=4,i=5,o=0,s=16711680,_=32768,u=16753920,l=255;function d(e){return{red:e>>16&255,green:e>>8&255,blue:255&e}}function c(e,t,r,a,n,i){return void 0===a&&(a=r),{status:e,pattern:t,colors:{right_front:r=d(r),right_back:r,left_front:a=d(a),left_back:a},indicator_red:n=n||!1,indicator_green:i=i||!1}}function f(e){var t=e>>16&255,r=e>>8&255,a=255&e;return t*=.9,r*=.9,a*=.9,Math.floor(t)<<16|Math.floor(r)<<8|Math.floor(a)}var m={pcbOrientation:[0,0,0],pcbTranslation:[0,0,0],magBias:[0,0,0],assignedChannel:[2,1,0,3,4,5],commandInversion:6,channelMidpoint:[1515,1515,1500,1520,1500,1500],channelDeadzone:[20,20,20,40,20,20],thrustMasterPIDParameters:[1,0,0,0,.005,.005,1],pitchMasterPIDParameters:[10,1,0,10,.005,.005,10],rollMasterPIDParameters:[10,1,0,10,.005,.005,10],yawMasterPIDParameters:[5,1,0,10,.005,.005,180],thrustSlavePIDParameters:[1,0,0,10,.001,.001,.3],pitchSlavePIDParameters:[10,4,0,30,.001,.001,30],rollSlavePIDParameters:[10,4,0,30,.001,.001,30],yawSlavePIDParameters:[30,5,0,20,.001,.001,240],thrustGain:4095,pitchGain:2047,rollGain:2047,yawGain:2047,pidBypass:25,stateEstimationParameters:[1,.01],enableParameters:[.001,30],ledStates:[c(e.StatusCodes.STATUS_MPU_FAIL,i,f(o),f(s),!0),c(e.StatusCodes.STATUS_BMP_FAIL,i,f(s),f(o),!0),c(e.StatusCodes.STATUS_BOOT,i,f(_)),c(e.StatusCodes.STATUS_RX_FAIL,t,f(u)),c(e.StatusCodes.STATUS_FAIL_OTHER,n,f(l)),c(e.StatusCodes.STATUS_FAIL_STABILITY,t,f(o),f(l)),c(e.StatusCodes.STATUS_FAIL_ANGLE,t,f(l),f(o)),c(e.StatusCodes.STATUS_OVERRIDE,r,f(s)),c(e.StatusCodes.STATUS_TEMP_WARNING,t,f(s)),c(e.StatusCodes.STATUS_BATTERY_LOW,r,f(u)),c(e.StatusCodes.STATUS_ENABLING,t,f(l)),c(e.StatusCodes.STATUS_ENABLED,r,f(l)),c(e.StatusCodes.STATUS_IDLE,r,f(_)),c(0,0,0),c(0,0,0),c(0,0,0)],name:"FLYBRIX",forwardMasterPIDParameters:[10,1,0,10,.005,.005,10],rightMasterPIDParameters:[10,1,0,10,.005,.005,10],upMasterPIDParameters:[10,1,0,10,.005,.005,10],forwardSlavePIDParameters:[10,4,0,30,.001,.001,30],rightSlavePIDParameters:[10,4,0,30,.001,.001,30],upSlavePIDParameters:[10,4,0,30,.001,.001,30],velocityPidBypass:119,inertialBiasAccel:[0,0,0],inertialBiasGyro:[0,0,0]};return{get:function(e){0<=(e=Math.floor(e))&&e<3||(e=0);var t=a.configHandler(),r={};switch(angular.copy(m),t.children.forEach(function(e){var t=e.key;r[t]=angular.copy(m[t])}),r.id=e,r.version=a.get().slice(),e){case 0:r.mixTableFz=[1,1,0,0,0,0,1,1],r.mixTableTx=[1,1,0,0,0,0,-1,-1],r.mixTableTy=[-1,1,0,0,0,0,-1,1],r.mixTableTz=[1,-1,0,0,0,0,-1,1];break;case 1:r.mixTableFz=[1,1,1,1,0,0,1,1],r.mixTableTx=[1,1,0,0,0,0,-1,-1],r.mixTableTy=[-1,1,-1,1,0,0,-1,1],r.mixTableTz=[1,-1,-1,1,0,0,1,-1];break;case 2:r.mixTableFz=[1,1,1,1,1,1,1,1],r.mixTableTx=[1,1,1,1,-1,-1,-1,-1],r.mixTableTy=[-1,1,-1,1,-1,1,-1,1],r.mixTableTz=[1,-1,-1,1,1,-1,-1,1]}return r}}}angular.module("flybrixCommon").factory("presets",e),e.$inject=["firmwareVersion","parser"]}(),function(){"use strict";function e(r){var e={LOW:0,MID:1,HIGH:2},a=["low","mid","high"],n=-1,i=0,o=0,s=0,_=e.HIGH,u=e.HIGH,l=!0;return{setThrottle:function(e){n=e},setPitch:function(e){i=e},setRoll:function(e){o=e},setYaw:function(e){s=e},setAux1:function(e){_=Math.max(0,Math.min(2,e))},setAux2:function(e){u=Math.max(0,Math.min(2,e))},getThrottle:function(){return n},getPitch:function(){return i},getRoll:function(){return o},getYaw:function(){return s},getAux1:function(){return _},getAux2:function(){return u},AUX:e,send:function(){if(!l&&r.busy())return;l=!1;var e={};e.throttle=d(4095*(n- -.8)/1.8,0,4095),e.pitch=d(4095*-c(i,.1)/2,-2047,2047),e.roll=d(4095*c(o,.1)/2,-2047,2047),e.yaw=d(4095*-c(s,.1)/2,-2047,2047);var t={};return t["aux1_"+a[_]]=!0,t["aux2_"+a[u]]=!0,r.sendStructure("Command",{request_response:!0,set_serial_rc:{enabled:!0,command:e,aux_mask:t}},!1)},forceNextSend:function(){l=!0}};function d(e,t,r){return Math.max(t,Math.min(e,r))}function c(e,t){return t<e?e-t:e<-t?e+t:0}}angular.module("flybrixCommon").factory("rcData",e),e.$inject=["serial"]}(),function(){"use strict";function e(f,m,p,g,S,y,v){var T=[],b=new e,a=function(){g("No state listener defined for serial")},n=function(){g("No command listener defined for serial")},i=function(){g("No debug listener defined for serial")},o=function(){g("No history listener defined for serial")},t=new p.Reader(2e3),r=void 0;function e(){}return e.prototype.busy=function(){return!1},e.prototype.send=function(e){g('No "send" defined for serial backend')},e.prototype.onRead=function(e){g('No "onRead" defined for serial backend')},{busy:function(){return b.busy()},field:S.CommandFields,send:s,sendStructure:function(e,t,r){var a=y.serializationHandler(),n=m.defer();if(!(e in S.MessageType))return n.reject('Message type "'+e+'" not supported by app, supported message types are:'+Object.keys(S.MessageType).join(", ")),n.promise;if(!(e in a))return n.reject('Message type "'+e+'" not supported by firmware, supported message types are:'+Object.keys(a).join(", ")),n.promise;var i=S.MessageType[e],o=a[e],s=new Uint8Array(o.byteCount),_=new v.Serializer(new DataView(s.buffer));o.encode(_,t);var u=o.maskArray(t);u.length<5&&(u=u[0]<<0|u[1]<<8|u[2]<<16|u[3]<<24);var l=_.index,d=new Uint8Array(l+3);d[0]=d[1]=i;for(var c=0;c<l;++c)d[0]^=d[c+2]=s[c];d[l+2]=0,T.push({mask:u,response:n}),f(function(){b.send(new Uint8Array(p.encode(d)))},0),r&&g("Sending command "+i);return n.promise},setBackend:function(e){(b=e).onRead=_},setStateCallback:function(e){a=e},setCommandCallback:function(e){n=e},setDebugCallback:function(e){i=e},setHistoryCallback:function(e){o=e},setDataHandler:function(e){r=e},handlePostConnect:function(){return s(S.CommandFields.COM_REQ_PARTIAL_EEPROM_DATA,[1,0,0,0])},Backend:e};function s(e,t,r){void 0===r&&(r=!1);var a=m.defer();e|=S.CommandFields.COM_REQ_RESPONSE;var n,i,o=0;if("object"==typeof t){var s=7+t.length;o^=(i=new Uint8Array(s))[1]=S.MessageType.Command;for(var _=0;_<4;++_)o^=i[_+2]=c(e,_);for(_=0;_<t.length;_++)o^=i[_+6]=t[_]}else{n=new ArrayBuffer(8),o^=(i=new Uint8Array(n))[1]=S.MessageType.Command;for(_=0;_<4;++_)o^=i[_+2]=c(e,_);o^=i[6]=t}return i[0]=o,i[i.length-1]=0,T.push({mask:e,response:a}),f(function(){b.send(new Uint8Array(p.encode(i)))},0),r&&g("Sending command "+S.MessageType.Command),a.promise}function _(e){r?r(e,d):t.AppendToBuffer(e,d,u)}function u(e,t){g("COBS decoding failed ("+e+"): "+t)}function l(e,t){for(;0<T.length;){var r=T.shift();if(r.mask===e){var a=e;if((a&=~S.CommandFields.COM_REQ_RESPONSE)!==t){r.response.reject("Request was not fully processed");break}r.response.resolve();break}r.response.reject("Missing ACK")}}function d(e,t,r){S.processBinaryDatastream(e,t,r,a,n,i,o,l)}function c(e,t){return e>>8*t&255}}angular.module("flybrixCommon").factory("serial",e),e.$inject=["$timeout","$q","cobs","commandLog","parser","firmwareVersion","serializationHandler"]}(),function(){"use strict";function e(){var t={};return t["1.4.0"]=FlybrixSerialization.parse("Vector3f = { x: f32, y: f32, z: f32 };PIDSettings = {kp: f32,ki: f32,kd: f32,integral_windup_guard: f32,d_filter_time: f32,setpoint_filter_time: f32,command_to_value: f32 };Version = { major: u8, minor: u8, patch: u8 };ConfigID = { id: u32 };PcbTransform = { orientation: Vector3f, translation: Vector3f };MixTable = { fz: [i8:8], tx: [i8:8], ty: [i8:8], tz: [i8:8] };MagBias = { offset: Vector3f };ChannelProperties = {assignment: [u8:6],inversion: u8,midpoint: [u16:6],deadzone: [u16:6] };PIDParameters = {thrust_master: PIDSettings,pitch_master: PIDSettings,roll_master: PIDSettings,yaw_master: PIDSettings,thrust_slave: PIDSettings,pitch_slave: PIDSettings,roll_slave: PIDSettings,yaw_slave: PIDSettings,pid_bypass: u8 };StateParameters = { state_estimation: [f32:2], enable: [f32:2] };Color = { red: u8, green: u8, blue: u8 };LEDStateCase = {status: u16,pattern: u8,color_right_front: Color,color_right_back: Color,color_left_front: Color,color_left_back: Color,indicator_red: bool,indicator_green: bool };LEDStates = { states: [/16/LEDStateCase:16] };LEDStatesFixed = { states: [LEDStateCase:16] };DeviceName = { value: s9 };Configuration = {/16/version: Version,config_id: ConfigID,pcb_transform: PcbTransform,mix_table: MixTable,mag_bias: MagBias,channel: ChannelProperties,pid_parameters: PIDParameters,state_parameters: StateParameters,led_states: LEDStates,device_name: DeviceName };ConfigurationFixed = {version: Version,config_id: ConfigID,pcb_transform: PcbTransform,mix_table: MixTable,mag_bias: MagBias,channel: ChannelProperties,pid_parameters: PIDParameters,state_parameters: StateParameters,led_states: LEDStatesFixed,device_name: DeviceName };ConfigurationFlag = {/16/version: void,config_id: void,pcb_transform: void,mix_table: void,mag_bias: void,channel: void,pid_parameters: void,state_parameters: void,led_states: [// void:16],device_name: void};Rotation = { roll: f32, pitch: f32, yaw: f32 };PIDState = {timestamp_us: u32,input: f32,setpoint: f32,p_term: f32,i_term: f32,d_term: f32 };RcCommand = { throttle: i16, pitch: i16, roll: i16, yaw: i16 };State = {/32/timestamp_us: u32,status: u16,v0_raw: u16,i0_raw: u16,i1_raw: u16,accel: Vector3f,gyro: Vector3f,mag: Vector3f,temperature: u16,pressure: u32,ppm: [i16:6],aux_chan_mask: u8,command: RcCommand,control: { fz: f32, tx: f32, ty: f32, tz: f32 },pid_master_fz: PIDState,pid_master_tx: PIDState,pid_master_ty: PIDState,pid_master_tz: PIDState,pid_slave_fz: PIDState,pid_slave_tx: PIDState,pid_slave_ty: PIDState,pid_slave_tz: PIDState,motor_out: [i16:8],kinematics_angle: Rotation,kinematics_rate: Rotation,kinematics_altitude: f32,loop_count: u32 };AuxMask = {//aux1_low: void,aux1_mid: void,aux1_high: void,aux2_low: void,aux2_mid: void,aux2_high: void };Command = {/32/request_response: void,set_eeprom_data: ConfigurationFixed,reinit_eeprom_data: void,request_eeprom_data: void,request_enable_iteration: u8,motor_override_speed_0: u16,motor_override_speed_1: u16,motor_override_speed_2: u16,motor_override_speed_3: u16,motor_override_speed_4: u16,motor_override_speed_5: u16,motor_override_speed_6: u16,motor_override_speed_7: u16,set_command_override: bool,set_state_mask: u32,set_state_delay: u16,set_sd_write_delay: u16,set_led: {  pattern: u8,  color_right: Color,  color_left: Color,  indicator_red: bool,  indicator_green: bool },set_serial_rc: { enabled: bool, command: RcCommand, aux_mask: AuxMask },set_card_recording_state: {/8/ record_to_card: void, lock_recording_state: void },set_partial_eeprom_data: Configuration,reinit_partial_eeprom_data: ConfigurationFlag,req_partial_eeprom_data: ConfigurationFlag,req_card_recording_state: void,set_partial_temporary_config: Configuration,set_command_sources: {/8/ serial: void, radio: void },set_calibration: { enabled: bool, mode: u8 },set_autopilot_enabled: bool,set_usb_mode: u8};DebugString = { depricated_mask: u32, message: s };HistoryData = DebugString;Response = { mask: u32, ack: u32 };"),t["1.5.0"]=t["1.5.1"]=FlybrixSerialization.parse("Vector3f = { x: f32, y: f32, z: f32 };PIDSettings = {kp: f32,ki: f32,kd: f32,integral_windup_guard: f32,d_filter_time: f32,setpoint_filter_time: f32,command_to_value: f32 };Version = { major: u8, minor: u8, patch: u8 };ConfigID = { id: u32 };PcbTransform = { orientation: Vector3f, translation: Vector3f };MixTable = { fz: [i8:8], tx: [i8:8], ty: [i8:8], tz: [i8:8] };MagBias = { offset: Vector3f };ChannelProperties = {assignment: [u8:6],inversion: u8,midpoint: [u16:6],deadzone: [u16:6] };PIDParameters = {thrust_master: PIDSettings,pitch_master: PIDSettings,roll_master: PIDSettings,yaw_master: PIDSettings,thrust_slave: PIDSettings,pitch_slave: PIDSettings,roll_slave: PIDSettings,yaw_slave: PIDSettings,thrust_gain: f32,pitch_gain: f32,roll_gain: f32,yaw_gain: f32,pid_bypass: u8 };StateParameters = { state_estimation: [f32:2], enable: [f32:2] };Color = { red: u8, green: u8, blue: u8 };LEDStateCase = {status: u16,pattern: u8,color_right_front: Color,color_right_back: Color,color_left_front: Color,color_left_back: Color,indicator_red: bool,indicator_green: bool };LEDStates = { states: [/16/LEDStateCase:16] };LEDStatesFixed = { states: [LEDStateCase:16] };DeviceName = { value: s9 };Configuration = {/16/version: Version,config_id: ConfigID,pcb_transform: PcbTransform,mix_table: MixTable,mag_bias: MagBias,channel: ChannelProperties,pid_parameters: PIDParameters,state_parameters: StateParameters,led_states: LEDStates,device_name: DeviceName };ConfigurationFixed = {version: Version,config_id: ConfigID,pcb_transform: PcbTransform,mix_table: MixTable,mag_bias: MagBias,channel: ChannelProperties,pid_parameters: PIDParameters,state_parameters: StateParameters,led_states: LEDStatesFixed,device_name: DeviceName };ConfigurationFlag = {/16/version: void,config_id: void,pcb_transform: void,mix_table: void,mag_bias: void,channel: void,pid_parameters: void,state_parameters: void,led_states: [// void:16],device_name: void,velocity_pid_parameters: void,inertial_bias: void };Rotation = { roll: f32, pitch: f32, yaw: f32 };PIDState = {timestamp_us: u32,input: f32,setpoint: f32,p_term: f32,i_term: f32,d_term: f32 };RcCommand = { throttle: i16, pitch: i16, roll: i16, yaw: i16 };State = {/32/timestamp_us: u32,status: u16,v0_raw: u16,i0_raw: u16,i1_raw: u16,accel: Vector3f,gyro: Vector3f,mag: Vector3f,temperature: u16,pressure: u32,ppm: [i16:6],aux_chan_mask: u8,command: RcCommand,control: { fz: f32, tx: f32, ty: f32, tz: f32 },pid_master_fz: PIDState,pid_master_tx: PIDState,pid_master_ty: PIDState,pid_master_tz: PIDState,pid_slave_fz: PIDState,pid_slave_tx: PIDState,pid_slave_ty: PIDState,pid_slave_tz: PIDState,motor_out: [i16:8],kinematics_angle: Rotation,kinematics_rate: Rotation,kinematics_altitude: f32,loop_count: u32 };AuxMask = {//aux1_low: void,aux1_mid: void,aux1_high: void,aux2_low: void,aux2_mid: void,aux2_high: void };Command = {/32/request_response: void,set_eeprom_data: ConfigurationFixed,reinit_eeprom_data: void,request_eeprom_data: void,request_enable_iteration: u8,motor_override_speed_0: u16,motor_override_speed_1: u16,motor_override_speed_2: u16,motor_override_speed_3: u16,motor_override_speed_4: u16,motor_override_speed_5: u16,motor_override_speed_6: u16,motor_override_speed_7: u16,set_command_override: bool,set_state_mask: u32,set_state_delay: u16,set_sd_write_delay: u16,set_led: {  pattern: u8,  color_right: Color,  color_left: Color,  indicator_red: bool,  indicator_green: bool },set_serial_rc: { enabled: bool, command: RcCommand, aux_mask: AuxMask },set_card_recording_state: {/8/ record_to_card: void, lock_recording_state: void },set_partial_eeprom_data: Configuration,reinit_partial_eeprom_data: ConfigurationFlag,req_partial_eeprom_data: ConfigurationFlag,req_card_recording_state: void,set_partial_temporary_config: Configuration,set_command_sources: {/8/ serial: void, radio: void },set_calibration: { enabled: bool, mode: u8 },set_autopilot_enabled: bool,set_usb_mode: u8};DebugString = { depricated_mask: u32, message: s };HistoryData = DebugString;Response = { mask: u32, ack: u32 };"),t["1.6.0"]=FlybrixSerialization.parse("Vector3f = { x: f32, y: f32, z: f32 };PIDSettings = {kp: f32,ki: f32,kd: f32,integral_windup_guard: f32,d_filter_time: f32,setpoint_filter_time: f32,command_to_value: f32 };Version = { major: u8, minor: u8, patch: u8 };ConfigID = { id: u32 };PcbTransform = { orientation: Vector3f, translation: Vector3f };MixTable = { fz: [i8:8], tx: [i8:8], ty: [i8:8], tz: [i8:8] };MagBias = { offset: Vector3f };ChannelProperties = {assignment: [u8:6],inversion: u8,midpoint: [u16:6],deadzone: [u16:6] };PIDParameters = {thrust_master: PIDSettings,pitch_master: PIDSettings,roll_master: PIDSettings,yaw_master: PIDSettings,thrust_slave: PIDSettings,pitch_slave: PIDSettings,roll_slave: PIDSettings,yaw_slave: PIDSettings,thrust_gain: f32,pitch_gain: f32,roll_gain: f32,yaw_gain: f32,pid_bypass: u8 };StateParameters = { state_estimation: [f32:2], enable: [f32:2] };Color = { red: u8, green: u8, blue: u8 };LEDStateCase = {status: u16,pattern: u8,color_right_front: Color,color_right_back: Color,color_left_front: Color,color_left_back: Color,indicator_red: bool,indicator_green: bool };LEDStates = { states: [/16/LEDStateCase:16] };LEDStatesFixed = { states: [LEDStateCase:16] };DeviceName = { value: s9 };InertialBias = { accel: Vector3f, gyro: Vector3f };VelocityPIDParameters = {forward_master: PIDSettings,right_master: PIDSettings,up_master: PIDSettings,forward_slave: PIDSettings,right_slave: PIDSettings,up_slave: PIDSettings,pid_bypass: u8 };Configuration = {/16/version: Version,config_id: ConfigID,pcb_transform: PcbTransform,mix_table: MixTable,mag_bias: MagBias,channel: ChannelProperties,pid_parameters: PIDParameters,state_parameters: StateParameters,led_states: LEDStates,device_name: DeviceName,velocity_pid_parameters: VelocityPIDParameters,inertial_bias: InertialBias };ConfigurationFixed = {version: Version,config_id: ConfigID,pcb_transform: PcbTransform,mix_table: MixTable,mag_bias: MagBias,channel: ChannelProperties,pid_parameters: PIDParameters,state_parameters: StateParameters,led_states: LEDStatesFixed,device_name: DeviceName,velocity_pid_parameters: VelocityPIDParameters,inertial_bias: InertialBias };ConfigurationFlag = {/16/version: void,config_id: void,pcb_transform: void,mix_table: void,mag_bias: void,channel: void,pid_parameters: void,state_parameters: void,led_states: [// void:16],device_name: void,velocity_pid_parameters: void,inertial_bias: void };Rotation = { roll: f32, pitch: f32, yaw: f32 };PIDState = {timestamp_us: u32,input: f32,setpoint: f32,p_term: f32,i_term: f32,d_term: f32 };RcCommand = { throttle: i16, pitch: i16, roll: i16, yaw: i16 };State = {/32/timestamp_us: u32,status: u16,v0_raw: u16,i0_raw: u16,i1_raw: u16,accel: Vector3f,gyro: Vector3f,mag: Vector3f,temperature: u16,pressure: u32,ppm: [i16:6],aux_chan_mask: u8,command: RcCommand,control: { fz: f32, tx: f32, ty: f32, tz: f32 },pid_master_fz: PIDState,pid_master_tx: PIDState,pid_master_ty: PIDState,pid_master_tz: PIDState,pid_slave_fz: PIDState,pid_slave_tx: PIDState,pid_slave_ty: PIDState,pid_slave_tz: PIDState,motor_out: [i16:8],kinematics_angle: Rotation,kinematics_rate: Rotation,kinematics_altitude: f32,loop_count: u32 };AuxMask = {//aux1_low: void,aux1_mid: void,aux1_high: void,aux2_low: void,aux2_mid: void,aux2_high: void };Command = {/32/request_response: void,set_eeprom_data: ConfigurationFixed,reinit_eeprom_data: void,request_eeprom_data: void,request_enable_iteration: u8,motor_override_speed_0: u16,motor_override_speed_1: u16,motor_override_speed_2: u16,motor_override_speed_3: u16,motor_override_speed_4: u16,motor_override_speed_5: u16,motor_override_speed_6: u16,motor_override_speed_7: u16,set_command_override: bool,set_state_mask: u32,set_state_delay: u16,set_sd_write_delay: u16,set_led: {  pattern: u8,  color_right: Color,  color_left: Color,  indicator_red: bool,  indicator_green: bool },set_serial_rc: { enabled: bool, command: RcCommand, aux_mask: AuxMask },set_card_recording_state: {/8/ record_to_card: void, lock_recording_state: void },set_partial_eeprom_data: Configuration,reinit_partial_eeprom_data: ConfigurationFlag,req_partial_eeprom_data: ConfigurationFlag,req_card_recording_state: void,set_partial_temporary_config: Configuration,set_command_sources: {/8/ serial: void, radio: void },set_calibration: { enabled: bool, mode: u8 },set_autopilot_enabled: bool,set_usb_mode: u8};DebugString = { depricated_mask: u32, message: s };HistoryData = DebugString;Response = { mask: u32, ack: u32 };"),{Serializer:FlybrixSerialization.Serializer,getHandler:function(e){return t[e]}}}e.$inject=[],angular.module("flybrixCommon").factory("serializationHandler",e)}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImNhbGlicmF0aW9uLmpzIiwiY29icy5qcyIsImNvbW1hbmRMb2cuanMiLCJjb25maWdIYW5kbGVyLmpzIiwiZGV2aWNlQ29uZmlnLmpzIiwiZW5jb2RhYmxlLmpzIiwiZmlybXdhcmVWZXJzaW9uLmpzIiwibGVkLmpzIiwicGFyc2VyLmpzIiwicHJlc2V0cy5qcyIsInJjRGF0YS5qcyIsInNlcmlhbC5qcyIsInNlcmlhbGl6YXRpb25IYW5kbGVyLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjYWxpYnJhdGlvbiIsImNvbW1hbmRMb2ciLCJzZXJpYWwiLCJtYWduZXRvbWV0ZXIiLCJzZW5kU3RydWN0dXJlIiwicmVxdWVzdF9yZXNwb25zZSIsInNldF9jYWxpYnJhdGlvbiIsImVuYWJsZWQiLCJtb2RlIiwiYWNjZWxlcm9tZXRlciIsImZsYXQiLCJjYWxpYnJhdGVBY2NlbGVyb21ldGVyIiwiYmluZCIsImZvcndhcmQiLCJiYWNrIiwicmlnaHQiLCJsZWZ0IiwiZmluaXNoIiwicG9zZURlc2NyaXB0aW9uIiwicG9zZUlkIiwiZmFjdG9yeSIsIiRpbmplY3QiLCJSZWFkZXIiLCJjYXBhY2l0eSIsInVuZGVmaW5lZCIsInRoaXMiLCJOIiwiYnVmZmVyIiwiVWludDhBcnJheSIsInJlYWR5X2Zvcl9uZXdfbWVzc2FnZSIsImJ1ZmZlcl9sZW5ndGgiLCJjb2JzRGVjb2RlIiwicmVhZGVyIiwic3JjX3B0ciIsImRzdF9wdHIiLCJsZWZ0b3Zlcl9sZW5ndGgiLCJhcHBlbmRfemVybyIsImVuY29kZSIsImJ1ZiIsInJldHZhbCIsIk1hdGgiLCJmbG9vciIsImJ5dGVMZW5ndGgiLCJsZW4iLCJwb3NfY3RyIiwiaSIsImxlbmd0aCIsInZhbCIsInN1YmFycmF5Iiwic2xpY2UiLCJwcm90b3R5cGUiLCJBcHBlbmRUb0J1ZmZlciIsImRhdGEiLCJjYWxsYmFjayIsIm9uRXJyb3IiLCJjIiwiZmFpbGVkX2RlY29kZSIsImoiLCJjb21tYW5kIiwibWFzayIsImsiLCJieXRlcyIsIm1lc3NhZ2UiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCIkcSIsIm1lc3NhZ2VzIiwicmVzcG9uZGVyIiwiZGVmZXIiLCJzZXJ2aWNlIiwibG9nIiwiY2xlYXJTdWJzY3JpYmVycyIsIm9uTWVzc2FnZSIsInByb21pc2UiLCJ0aGVuIiwicmVhZCIsInB1c2giLCJub3RpZnkiLCJjb25maWdIYW5kbGVyIiwiZW5jb2RhYmxlIiwiaGFuZGxlcnMiLCJlIiwibGVkQ29sb3IiLCJtYXAiLCJrZXkiLCJlbGVtZW50IiwiVWludDgiLCJsZWRTdGF0ZSIsIlVpbnQxNiIsImJvb2wiLCJjb29yZDNkIiwiYXJyYXkiLCJGbG9hdDMyIiwiY2hhbm5lbE1hcHBpbmciLCJjaGFubmVsTWFyayIsInBpZCIsInN0UGFyYW0iLCJsZWRTdGF0ZXMiLCJoYW5kbGVyQXJyYXkiLCJzdHJpbmciLCJwYXJ0IiwiVWludDMyIiwiSW50OCIsImdhaW5IYW5kbGVycyIsImNvbmNhdCIsInZlbG9jaXR5UGlkSGFuZGxlcnMiLCJkZXZpY2VDb25maWciLCJmaXJtd2FyZVZlcnNpb24iLCJjb25maWciLCJjb25maWdDYWxsYmFjayIsImxvZ2dpbmdDYWxsYmFjayIsInJlcXVlc3QiLCJzZXJpYWxpemF0aW9uSGFuZGxlciIsInJlcV9wYXJ0aWFsX2VlcHJvbV9kYXRhIiwiQ29uZmlndXJhdGlvbkZsYWciLCJlbXB0eSIsInNlbmRQYXJ0aWFsIiwibGVkX21hc2siLCJuZXdDb25maWciLCJ0ZW1wb3JhcnkiLCJyZXF1ZXN0X3VwZGF0ZSIsInN0cnVjdHVyZSIsImhhbmRsZXIiLCJkYXRhVmlldyIsImIiLCJ0YXJnZXQiLCJmaWVsZCIsIkNPTV9TRVRfUEFSVElBTF9URU1QT1JBUllfQ09ORklHIiwiQ09NX1NFVF9QQVJUSUFMX0VFUFJPTV9EQVRBIiwiYnl0ZWNvdW50IiwiRGF0YVZpZXciLCJTZXJpYWxpemVyIiwiZW5jb2RlUGFydGlhbCIsInNlbmQiLCJyZXNwb25kVG9TZXRFZXByb20iLCJzZXQiLCJ2ZXJzaW9uIiwic3VwcG9ydGVkIiwiZGVzaXJlZEtleSIsInNldENvbW1hbmRDYWxsYmFjayIsIm1lc3NhZ2VfYnVmZmVyIiwiQ09NX1NFVF9FRVBST01fREFUQSIsImRlY29kZSIsImRlY29kZVBhcnRpYWwiLCJjb3B5IiwiQ09NX1NFVF9DQVJEX1JFQ09SRElORyIsIkNPTV9TRVRfU0RfV1JJVEVfREVMQVkiLCJkYXRhQnVmZmVyIiwiZGVsYXkiLCJyZWluaXQiLCJyZWluaXRfZWVwcm9tX2RhdGEiLCJyZWFzb24iLCJnZXRDb25maWciLCJzZXRDb25maWdDYWxsYmFjayIsInNldExvZ2dpbmdDYWxsYmFjayIsImdldERlc2lyZWRWZXJzaW9uIiwiZGVzaXJlZCIsIlZFUlNJT04iLCJJRCIsIlBDQiIsIk1JWF9UQUJMRSIsIk1BR19CSUFTIiwiQ0hBTk5FTCIsIlBJRF9QQVJBTUVURVJTIiwiU1RBVEVfUEFSQU1FVEVSUyIsIkxFRF9TVEFURVMiLCJERVZJQ0VfTkFNRSIsIlZFTE9DSVRZX1BJRF9QQVJBTUVURVJTIiwiSU5FUlRJQUxfQklBUyIsImNvbXBpbGVBcnJheSIsIkhhbmRsZXIiLCJzZXJpYWxpemVyIiwibmFtZSIsInJlc3BvbnNlIiwic3BsaXQiLCJmb3JFYWNoIiwiaWR4IiwiY2hhckNvZGVBdCIsImwiLCJtaW4iLCJhc2NpaURlY29kZSIsInByb3BlcnRpZXMiLCJzcGxpdEJpdHMiLCJFcnJvciIsInByb3BlcnR5IiwibnVtYmVyRW5jb2RlciIsImNvbXBpbGVOdW1iZXIiLCJtYXNrcyIsIm5vbWFzayIsInBvcCIsInJlZHVjZSIsImFjY3VtIiwidiIsIm9yaWdpbmFsIiwiY2hpbGRyZW4iLCJwb2x5YXJyYXkiLCJpbmRleCIsIm51bWJlclplcm8iLCJ0eXBlIiwiY291bnQiLCJhZGQiLCJpbmNyZW1lbnQiLCJrZXlQcmVmaXgiLCJieXRlQ291bnQiLCIxLjQuMCIsIjEuNS4wIiwiMS42LjAiLCJkZWZhdWx0Q29uZmlnSGFuZGxlciIsImN1cnJlbnRDb25maWdIYW5kbGVyIiwiZGVmYXVsdFNlcmlhbGl6YXRpb25IYW5kbGVyIiwiZ2V0SGFuZGxlciIsImN1cnJlbnRTZXJpYWxpemF0aW9uSGFuZGxlciIsImZpZWxkVmVyc2lvbk1hc2tzIiwic3RhdGVNYXNrIiwidmFsdWUiLCJqb2luIiwiZ2V0IiwibGVkIiwiTGVkUGF0dGVybnMiLCJOT19PVkVSUklERSIsIkZMQVNIIiwiQkVBQ09OIiwiQlJFQVRIRSIsIkFMVEVSTkFURSIsIlNPTElEIiwia2V5cyIsImNvbG9ycyIsInJlZCIsImdyZWVuIiwiYmx1ZSIsInN0YXR1cyIsInBhdHRlcm4iLCJpbmRpY2F0b3JfcmVkIiwiaW5kaWNhdG9yX2dyZWVuIiwiY29uZmlnUGFydCIsImNvbG9yX3JmIiwiY29sb3JfcmIiLCJjb2xvcl9sZiIsImNvbG9yX2xiIiwiY29sb3IiLCJzZXRTaW1wbGUiLCJwYXR0ZXJucyIsInBhcnNlciIsInBpZEhhbmRsZXIiLCJNZXNzYWdlVHlwZSIsIlN0YXRlIiwiQ29tbWFuZCIsIkRlYnVnU3RyaW5nIiwiSGlzdG9yeURhdGEiLCJSZXNwb25zZSIsIlN0YXRlRmllbGRzIiwiU1RBVEVfQUxMIiwiU1RBVEVfTk9ORSIsIlNUQVRFX01JQ1JPUyIsIlNUQVRFX1NUQVRVUyIsIlNUQVRFX1YwIiwiU1RBVEVfSTAiLCJTVEFURV9JMSIsIlNUQVRFX0FDQ0VMIiwiU1RBVEVfR1lSTyIsIlNUQVRFX01BRyIsIlNUQVRFX1RFTVBFUkFUVVJFIiwiU1RBVEVfUFJFU1NVUkUiLCJTVEFURV9SWF9QUE0iLCJTVEFURV9BVVhfQ0hBTl9NQVNLIiwiU1RBVEVfQ09NTUFORFMiLCJTVEFURV9GX0FORF9UIiwiU1RBVEVfUElEX0ZaX01BU1RFUiIsIlNUQVRFX1BJRF9UWF9NQVNURVIiLCJTVEFURV9QSURfVFlfTUFTVEVSIiwiU1RBVEVfUElEX1RaX01BU1RFUiIsIlNUQVRFX1BJRF9GWl9TTEFWRSIsIlNUQVRFX1BJRF9UWF9TTEFWRSIsIlNUQVRFX1BJRF9UWV9TTEFWRSIsIlNUQVRFX1BJRF9UWl9TTEFWRSIsIlNUQVRFX01PVE9SX09VVCIsIlNUQVRFX0tJTkVfQU5HTEUiLCJTVEFURV9LSU5FX1JBVEUiLCJTVEFURV9LSU5FX0FMVElUVURFIiwiU1RBVEVfTE9PUF9DT1VOVCIsImxhc3RfdGltZXN0YW1wX3VzIiwic3RhdGVIYW5kbGVyIiwiSW50MTYiLCJhcnJheWJ1ZmZlcjJzdHJpbmciLCJhcHBseSIsInByb2Nlc3NCaW5hcnlEYXRhc3RyZWFtIiwiY2Jfc3RhdGUiLCJjYl9jb21tYW5kIiwiY2JfZGVidWciLCJjYl9oaXN0b3J5IiwiY2JfYWNrIiwiZGVidWdfc3RyaW5nIiwiZ2V0SW50MzIiLCJkaXNwYXRjaCIsInN0YXRlIiwic3RhdGVfZGF0YV9tYXNrIiwic2VyaWFsX3VwZGF0ZV9yYXRlX0h6IiwiY2hpbGQiLCJ0aW1lc3RhbXBfdXMiLCJ0ZW1wZXJhdHVyZSIsInByZXNzdXJlIiwiQ29tbWFuZEZpZWxkcyIsIkNPTV9SRVFfUkVTUE9OU0UiLCJDT01fUkVJTklUX0VFUFJPTV9EQVRBIiwiQ09NX1JFUV9FRVBST01fREFUQSIsIkNPTV9SRVFfRU5BQkxFX0lURVJBVElPTiIsIkNPTV9NT1RPUl9PVkVSUklERV9TUEVFRF8wIiwiQ09NX01PVE9SX09WRVJSSURFX1NQRUVEXzEiLCJDT01fTU9UT1JfT1ZFUlJJREVfU1BFRURfMiIsIkNPTV9NT1RPUl9PVkVSUklERV9TUEVFRF8zIiwiQ09NX01PVE9SX09WRVJSSURFX1NQRUVEXzQiLCJDT01fTU9UT1JfT1ZFUlJJREVfU1BFRURfNSIsIkNPTV9NT1RPUl9PVkVSUklERV9TUEVFRF82IiwiQ09NX01PVE9SX09WRVJSSURFX1NQRUVEXzciLCJDT01fTU9UT1JfT1ZFUlJJREVfU1BFRURfQUxMIiwiQ09NX1NFVF9DT01NQU5EX09WRVJSSURFIiwiQ09NX1NFVF9TVEFURV9NQVNLIiwiQ09NX1NFVF9TVEFURV9ERUxBWSIsIkNPTV9TRVRfTEVEIiwiQ09NX1NFVF9TRVJJQUxfUkMiLCJDT01fUkVJTklUX1BBUlRJQUxfRUVQUk9NX0RBVEEiLCJDT01fUkVRX1BBUlRJQUxfRUVQUk9NX0RBVEEiLCJDT01fUkVRX0NBUkRfUkVDT1JESU5HX1NUQVRFIiwiQ09NX1NFVF9DT01NQU5EX1NPVVJDRVMiLCJDT01fU0VUX0NBTElCUkFUSU9OIiwiU3RhdHVzQ29kZXMiLCJTVEFUVVNfQk9PVCIsIlNUQVRVU19NUFVfRkFJTCIsIlNUQVRVU19CTVBfRkFJTCIsIlNUQVRVU19SWF9GQUlMIiwiU1RBVFVTX0lETEUiLCJTVEFUVVNfRU5BQkxJTkciLCJTVEFUVVNfQ0xFQVJfTVBVX0JJQVMiLCJTVEFUVVNfU0VUX01QVV9CSUFTIiwiU1RBVFVTX0ZBSUxfU1RBQklMSVRZIiwiU1RBVFVTX0ZBSUxfQU5HTEUiLCJTVEFUVVNfRkFJTF9PVEhFUiIsIlNUQVRVU19FTkFCTEVEIiwiU1RBVFVTX0JBVFRFUllfTE9XIiwiU1RBVFVTX1RFTVBfV0FSTklORyIsIlNUQVRVU19MT0dfRlVMTCIsIlNUQVRVU19PVkVSUklERSIsInByZXNldHMiLCJDb2xvciIsInRvUmdiIiwibWFrZUxlZENhc2UiLCJjb2xvcjEiLCJjb2xvcjIiLCJyaWdodF9mcm9udCIsInJpZ2h0X2JhY2siLCJsZWZ0X2Zyb250IiwibGVmdF9iYWNrIiwiZmFkZSIsInIiLCJnIiwidGVtcGxhdGUiLCJwY2JPcmllbnRhdGlvbiIsInBjYlRyYW5zbGF0aW9uIiwibWFnQmlhcyIsImFzc2lnbmVkQ2hhbm5lbCIsImNvbW1hbmRJbnZlcnNpb24iLCJjaGFubmVsTWlkcG9pbnQiLCJjaGFubmVsRGVhZHpvbmUiLCJ0aHJ1c3RNYXN0ZXJQSURQYXJhbWV0ZXJzIiwicGl0Y2hNYXN0ZXJQSURQYXJhbWV0ZXJzIiwicm9sbE1hc3RlclBJRFBhcmFtZXRlcnMiLCJ5YXdNYXN0ZXJQSURQYXJhbWV0ZXJzIiwidGhydXN0U2xhdmVQSURQYXJhbWV0ZXJzIiwicGl0Y2hTbGF2ZVBJRFBhcmFtZXRlcnMiLCJyb2xsU2xhdmVQSURQYXJhbWV0ZXJzIiwieWF3U2xhdmVQSURQYXJhbWV0ZXJzIiwidGhydXN0R2FpbiIsInBpdGNoR2FpbiIsInJvbGxHYWluIiwieWF3R2FpbiIsInBpZEJ5cGFzcyIsInN0YXRlRXN0aW1hdGlvblBhcmFtZXRlcnMiLCJlbmFibGVQYXJhbWV0ZXJzIiwiZm9yd2FyZE1hc3RlclBJRFBhcmFtZXRlcnMiLCJyaWdodE1hc3RlclBJRFBhcmFtZXRlcnMiLCJ1cE1hc3RlclBJRFBhcmFtZXRlcnMiLCJmb3J3YXJkU2xhdmVQSURQYXJhbWV0ZXJzIiwicmlnaHRTbGF2ZVBJRFBhcmFtZXRlcnMiLCJ1cFNsYXZlUElEUGFyYW1ldGVycyIsInZlbG9jaXR5UGlkQnlwYXNzIiwiaW5lcnRpYWxCaWFzQWNjZWwiLCJpbmVydGlhbEJpYXNHeXJvIiwiaWQiLCJtaXhUYWJsZUZ6IiwibWl4VGFibGVUeCIsIm1peFRhYmxlVHkiLCJtaXhUYWJsZVR6IiwicmNEYXRhIiwiQVVYIiwiTE9XIiwiTUlEIiwiSElHSCIsImF1eE5hbWVzIiwidGhyb3R0bGUiLCJwaXRjaCIsInJvbGwiLCJ5YXciLCJhdXgxIiwiYXV4MiIsInVyZ2VudCIsInNldFRocm90dGxlIiwic2V0UGl0Y2giLCJzZXRSb2xsIiwic2V0WWF3Iiwic2V0QXV4MSIsIm1heCIsInNldEF1eDIiLCJnZXRUaHJvdHRsZSIsImdldFBpdGNoIiwiZ2V0Um9sbCIsImdldFlhdyIsImdldEF1eDEiLCJnZXRBdXgyIiwiYnVzeSIsImNvbnN0cmFpbiIsImFwcGx5RGVhZHpvbmUiLCJhdXhfbWFzayIsInNldF9zZXJpYWxfcmMiLCJmb3JjZU5leHRTZW5kIiwieCIsInhtaW4iLCJ4bWF4IiwiZGVhZHpvbmUiLCIkdGltZW91dCIsImNvYnMiLCJhY2tub3dsZWRnZXMiLCJiYWNrZW5kIiwiQmFja2VuZCIsIm9uU3RhdGVMaXN0ZW5lciIsIm9uQ29tbWFuZExpc3RlbmVyIiwib25EZWJ1Z0xpc3RlbmVyIiwib25IaXN0b3J5TGlzdGVuZXIiLCJjb2JzUmVhZGVyIiwiZGF0YUhhbmRsZXIiLCJvblJlYWQiLCJtZXNzYWdlVHlwZSIsImxvZ19zZW5kIiwicmVqZWN0IiwiT2JqZWN0IiwidHlwZUNvZGUiLCJtYXNrQXJyYXkiLCJkYXRhTGVuZ3RoIiwib3V0cHV0Iiwic2V0QmFja2VuZCIsInNldFN0YXRlQ2FsbGJhY2siLCJzZXREZWJ1Z0NhbGxiYWNrIiwic2V0SGlzdG9yeUNhbGxiYWNrIiwic2V0RGF0YUhhbmRsZXIiLCJoYW5kbGVQb3N0Q29ubmVjdCIsImJ1ZmZlck91dCIsImJ1ZlZpZXciLCJjaGVja3N1bSIsInNpemUiLCJieXRlTmluTnVtIiwiQXJyYXlCdWZmZXIiLCJwcm9jZXNzRGF0YSIsInJlcG9ydElzc3VlcyIsImlzc3VlIiwidGV4dCIsImFja25vd2xlZGdlIiwic2hpZnQiLCJyZWxheGVkTWFzayIsInJlc29sdmUiLCJuIiwiaGFuZGxlckNhY2hlIiwiRmx5YnJpeFNlcmlhbGl6YXRpb24iLCJwYXJzZSIsImNvbmZpZ0Z1bGwxNCIsImNvbmZpZ0Z1bGwxNSIsImNvbmZpZ0Z1bGwxNiIsImZpcm13YXJlIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLGFBRUFBLFFBQUFDLE9BQUEsZ0JBQUEsSUFIQSxHQ0FBLFdBQ0EsYUFNQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUNBLE1BQUEsQ0FDQUMsYUFXQSxXQUVBLE9BREFGLEVBQUEsaUNBQ0FDLEVBQUFFLGNBQUEsVUFBQSxDQUNBQyxrQkFBQSxFQUNBQyxnQkFBQSxDQUNBQyxTQUFBLEVBQ0FDLEtBQUEsS0FFQSxJQWxCQUMsY0FBQSxDQUNBQyxLQUFBQyxFQUFBQyxLQUFBLEtBQUEsT0FBQSxHQUNBQyxRQUFBRixFQUFBQyxLQUFBLEtBQUEsZUFBQSxHQUNBRSxLQUFBSCxFQUFBQyxLQUFBLEtBQUEsWUFBQSxHQUNBRyxNQUFBSixFQUFBQyxLQUFBLEtBQUEsYUFBQSxHQUNBSSxLQUFBTCxFQUFBQyxLQUFBLEtBQUEsWUFBQSxJQUVBSyxPQXlCQSxXQUVBLE9BREFoQixFQUFBLHlCQUNBQyxFQUFBRSxjQUFBLFVBQUEsQ0FDQUMsa0JBQUEsRUFDQUMsZ0JBQUEsQ0FDQUMsU0FBQSxFQUNBQyxLQUFBLEtBRUEsS0FuQkEsU0FBQUcsRUFBQU8sRUFBQUMsR0FFQSxPQURBbEIsRUFBQSxpQ0FBQWlCLEdBQ0FoQixFQUFBRSxjQUFBLFVBQUEsQ0FDQUMsa0JBQUEsRUFDQUMsZ0JBQUEsQ0FDQUMsU0FBQSxFQUNBQyxLQUFBVyxFQUFBLEtBRUEsSUFwQ0FyQixRQUFBQyxPQUFBLGlCQUFBcUIsUUFBQSxjQUFBcEIsR0FFQUEsRUFBQXFCLFFBQUEsQ0FBQSxhQUFBLFVBTEEsR0NBQSxXQUNBLGFBWUEsU0FBQUMsRUFBQUMsUUFDQUMsSUFBQUQsSUFDQUEsRUFBQSxLQUVBRSxLQUFBQyxFQUFBSCxFQUNBRSxLQUFBRSxPQUFBLElBQUFDLFdBQUFMLEdBQ0FFLEtBQUFJLHVCQUFBLEVBQ0FKLEtBQUFLLGNBQUEsRUFHQSxTQUFBQyxFQUFBQyxHQUtBLElBSkEsSUFBQUMsRUFBQSxFQUNBQyxFQUFBLEVBQ0FDLEVBQUEsRUFDQUMsR0FBQSxFQUNBSixFQUFBTCxPQUFBTSxJQUNBRSxLQU1BQSxFQUNBSCxFQUFBTCxPQUFBTyxLQUFBRixFQUFBTCxPQUFBTSxPQU5BRyxJQUNBSixFQUFBTCxPQUFBTyxLQUFBLEdBRUFFLEdBREFELEVBQUFILEVBQUFMLE9BQUFNLEtBQUEsR0FDQSxLQU9BLE9BQUFFLEVBQUEsRUFBQUQsRUFpRUEsU0FBQUcsRUFBQUMsR0FLQSxJQUpBLElBQUFDLEVBQ0EsSUFBQVgsV0FBQVksS0FBQUMsT0FBQSxJQUFBSCxFQUFBSSxXQUFBLEtBQUEsTUFDQUMsRUFBQSxFQUNBQyxFQUFBLEVBQ0FDLEVBQUEsRUFBQUEsRUFBQVAsRUFBQVEsU0FBQUQsRUFBQSxDQUNBLEtBQUFOLEVBQUFLLEtBQ0FMLEVBQUFLLEdBQUEsSUFFQUwsRUFEQUssRUFBQUQsS0FDQSxHQUVBLElBQUFJLEVBQUFULEVBQUFPLEtBQ0FOLEVBQUFLLEdBQ0FHLEVBQ0FSLEVBQUFJLEtBQUFJLEVBR0FSLEVBREFLLEVBQUFELEtBQ0EsRUFHQSxPQUFBSixFQUFBUyxTQUFBLEVBQUFMLEdBQUFNLFFBQUF0QixPQTFIQTdCLFFBQUFDLE9BQUEsaUJBQUFxQixRQUFBLE9BRUEsV0FDQSxNQUFBLENBQ0FFLE9BQUFBLEVBQ0FlLE9BQUFBLEtBbUNBZixFQUFBNEIsVUFBQUMsZUFBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUNBLElBQUEsSUFBQVQsRUFBQSxFQUFBQSxFQUFBTyxFQUFBTixPQUFBRCxJQUFBLENBQ0EsSUFBQVUsRUFBQUgsRUFBQVAsR0FTQSxHQVJBcEIsS0FBQUksd0JBRUFKLEtBQUFJLHVCQUFBLEVBQ0FKLEtBQUFLLGNBQUEsSUFHQUwsS0FBQUUsT0FBQUYsS0FBQUssaUJBQUF5QixJQUVBOUIsS0FBQUssZUFBQUwsS0FBQUMsRUFFQTRCLEVBQUEsV0FBQSxvQ0FDQTdCLEtBQUFJLHVCQUFBLE9BSUEsSUFBQTBCLEVBQUEsQ0FDQTlCLEtBQUFLLGNBQUFDLEVBQUFOLE1BQ0EsSUFBQStCLEVBQUEsSUFBQS9CLEtBQUFLLGNBQ0EwQixJQUNBL0IsS0FBQUUsT0FBQSxHQUFBLEdBRUEsSUFBQSxJQUFBOEIsRUFBQSxFQUFBQSxFQUFBaEMsS0FBQUssZ0JBQUEyQixFQUNBaEMsS0FBQUUsT0FBQSxJQUFBRixLQUFBRSxPQUFBOEIsR0FFQSxHQUFBLElBQUFoQyxLQUFBRSxPQUFBLEdBRUEsR0FEQUYsS0FBQUksdUJBQUEsRUFDQSxFQUFBSixLQUFBSyxjQUFBLENBR0EsSUFGQSxJQUFBNEIsRUFBQWpDLEtBQUFFLE9BQUEsR0FDQWdDLEVBQUEsRUFDQUMsRUFBQSxFQUFBQSxFQUFBLElBQUFBLEVBQ0FELEdBQUFsQyxLQUFBRSxPQUFBaUMsRUFBQSxJQUFBLEVBQUFBLEVBRUFQLEVBQUFLLEVBQUFDLEVBQ0FsQyxLQUFBRSxPQUFBcUIsU0FBQSxFQUFBdkIsS0FBQUssZUFDQW1CLFFBQ0F0QixhQUVBMkIsRUFBQSxRQUFBLHdCQUVBLENBQ0E3QixLQUFBSSx1QkFBQSxFQUNBLElBQUFnQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQSxJQUFBTCxFQUFBLEVBQUFBLEVBQUFoQyxLQUFBSyxjQUFBMkIsSUFDQUksR0FBQXBDLEtBQUFFLE9BQUE4QixHQUFBLElBQ0FLLEdBQUFDLE9BQUFDLGFBQUF2QyxLQUFBRSxPQUFBOEIsSUFFQSxHQUFBRCxFQUNBRixFQUFBLFFBQUEsb0NBSUFBLEVBQUEsV0FGQSxpQkFBQTdCLEtBQUFLLGNBQ0EsVUFBQStCLEVBQUFDLE9BakdBLEdDQUEsV0FDQSxhQU1BLFNBQUE3RCxFQUFBZ0UsR0FDQSxJQUFBQyxFQUFBLEdBQ0FDLEVBQUFGLEVBQUFHLFFBRUFDLEVBQUFDLEVBTUEsT0FMQUQsRUFBQUMsSUFBQUEsRUFDQUQsRUFBQUUsaUJBaUJBLFdBQ0FKLEVBQUFGLEVBQUFHLFNBakJBQyxFQUFBRyxVQW9CQSxTQUFBbkIsR0FDQSxPQUFBYyxFQUFBTSxRQUFBQyxVQUFBbEQsT0FBQUEsRUFBQTZCLElBcEJBZ0IsRUFBQU0sS0FBQUEsRUFFQU4sRUFFQSxTQUFBQyxFQUFBUixRQUNBdEMsSUFBQXNDLElBQ0FJLEVBQUFVLEtBQUFkLEdBQ0FLLEVBQUFVLE9BQUFGLE1BSUEsU0FBQUEsSUFDQSxPQUFBVCxHQXhCQXBFLFFBQUFDLE9BQUEsaUJBQUFxQixRQUFBLGFBQUFuQixHQUVBQSxFQUFBb0IsUUFBQSxDQUFBLE1BTEEsR0NBQSxXQUNBLGFBTUEsU0FBQXlELEVBQUFDLEdBQ0EsSUFBQUMsRUFBQSxHQUVBQyxFQUFBRixFQUNBRyxFQUFBRCxFQUFBRSxJQUFBLENBQ0EsQ0FBQUMsSUFBQSxNQUFBQyxRQUFBSixFQUFBSyxPQUNBLENBQUFGLElBQUEsUUFBQUMsUUFBQUosRUFBQUssT0FDQSxDQUFBRixJQUFBLE9BQUFDLFFBQUFKLEVBQUFLLFNBR0FDLEVBQUFOLEVBQUFFLElBQUEsQ0FDQSxDQUFBQyxJQUFBLFNBQUFDLFFBQUFKLEVBQUFPLFFBQ0EsQ0FBQUosSUFBQSxVQUFBQyxRQUFBSixFQUFBSyxPQUNBLENBQ0FGLElBQUEsU0FDQUMsUUFBQUosRUFBQUUsSUFBQSxDQUNBLENBQUFDLElBQUEsY0FBQUMsUUFBQUgsR0FDQSxDQUFBRSxJQUFBLGFBQUFDLFFBQUFILEdBQ0EsQ0FBQUUsSUFBQSxhQUFBQyxRQUFBSCxHQUNBLENBQUFFLElBQUEsWUFBQUMsUUFBQUgsTUFHQSxDQUFBRSxJQUFBLGdCQUFBQyxRQUFBSixFQUFBUSxNQUNBLENBQUFMLElBQUEsa0JBQUFDLFFBQUFKLEVBQUFRLFFBR0FDLEVBQUFULEVBQUFVLE1BQUEsRUFBQVYsRUFBQVcsU0FHQUMsR0FEQVosRUFBQVUsTUFBQSxFQUFBVixFQUFBSyxPQUNBTCxFQUFBVSxNQUFBLEVBQUFWLEVBQUFLLFFBQ0FRLEVBQUFiLEVBQUFVLE1BQUEsRUFBQVYsRUFBQU8sUUFDQU8sRUFBQWQsRUFBQVUsTUFBQSxFQUFBVixFQUFBVyxTQUNBSSxFQUFBZixFQUFBVSxNQUFBLEVBQUFWLEVBQUFXLFNBRUFLLEVBQUFoQixFQUFBVSxNQUFBLEdBQUFKLEVBQUEsSUFJQVcsR0FGQWpCLEVBQUFrQixPQUFBLEdBRUEsQ0FDQSxDQUFBQyxLQUFBLEVBQUFoQixJQUFBLFVBQUFDLFFBQUFKLEVBQUFVLE1BQUEsRUFBQVYsRUFBQUssUUFDQSxDQUFBYyxLQUFBLEVBQUFoQixJQUFBLEtBQUFDLFFBQUFKLEVBQUFvQixRQUNBLENBQUFELEtBQUEsRUFBQWhCLElBQUEsaUJBQUFDLFFBQUFLLEdBQ0EsQ0FBQVUsS0FBQSxFQUFBaEIsSUFBQSxpQkFBQUMsUUFBQUssR0FDQSxDQUFBVSxLQUFBLEVBQUFoQixJQUFBLGFBQUFDLFFBQUFKLEVBQUFVLE1BQUEsRUFBQVYsRUFBQXFCLE9BQ0EsQ0FBQUYsS0FBQSxFQUFBaEIsSUFBQSxhQUFBQyxRQUFBSixFQUFBVSxNQUFBLEVBQUFWLEVBQUFxQixPQUNBLENBQUFGLEtBQUEsRUFBQWhCLElBQUEsYUFBQUMsUUFBQUosRUFBQVUsTUFBQSxFQUFBVixFQUFBcUIsT0FDQSxDQUFBRixLQUFBLEVBQUFoQixJQUFBLGFBQUFDLFFBQUFKLEVBQUFVLE1BQUEsRUFBQVYsRUFBQXFCLE9BQ0EsQ0FBQUYsS0FBQSxFQUFBaEIsSUFBQSxVQUFBQyxRQUFBSyxHQUNBLENBQUFVLEtBQUEsRUFBQWhCLElBQUEsa0JBQUFDLFFBQUFRLEdBQ0EsQ0FBQU8sS0FBQSxFQUFBaEIsSUFBQSxtQkFBQUMsUUFBQUosRUFBQUssT0FDQSxDQUFBYyxLQUFBLEVBQUFoQixJQUFBLGtCQUFBQyxRQUFBUyxHQUNBLENBQUFNLEtBQUEsRUFBQWhCLElBQUEsa0JBQUFDLFFBQUFTLEdBQ0EsQ0FBQU0sS0FBQSxFQUFBaEIsSUFBQSw0QkFBQUMsUUFBQVUsR0FDQSxDQUFBSyxLQUFBLEVBQUFoQixJQUFBLDJCQUFBQyxRQUFBVSxHQUNBLENBQUFLLEtBQUEsRUFBQWhCLElBQUEsMEJBQUFDLFFBQUFVLEdBQ0EsQ0FBQUssS0FBQSxFQUFBaEIsSUFBQSx5QkFBQUMsUUFBQVUsR0FDQSxDQUFBSyxLQUFBLEVBQUFoQixJQUFBLDJCQUFBQyxRQUFBVSxHQUNBLENBQUFLLEtBQUEsRUFBQWhCLElBQUEsMEJBQUFDLFFBQUFVLEdBQ0EsQ0FBQUssS0FBQSxFQUFBaEIsSUFBQSx5QkFBQUMsUUFBQVUsR0FDQSxDQUFBSyxLQUFBLEVBQUFoQixJQUFBLHdCQUFBQyxRQUFBVSxHQUNBLENBQUFLLEtBQUEsRUFBQWhCLElBQUEsWUFBQUMsUUFBQUosRUFBQUssT0FDQSxDQUFBYyxLQUFBLEVBQUFoQixJQUFBLDRCQUFBQyxRQUFBVyxHQUNBLENBQUFJLEtBQUEsRUFBQWhCLElBQUEsbUJBQUFDLFFBQUFXLEdBQ0EsQ0FBQUksS0FBQSxFQUFBaEIsSUFBQSxZQUFBQyxRQUFBWSxHQUNBLENBQUFHLEtBQUEsRUFBQWhCLElBQUEsT0FBQUMsUUFBQUosRUFBQWtCLE9BQUEsTUFHQW5CLEVBQUEsU0FBQUMsRUFBQUUsSUFBQWUsRUFBQWpELFFBQUEsSUFFQSxJQUFBc0QsRUFBQSxDQUNBLENBQUFILEtBQUEsRUFBQWhCLElBQUEsYUFBQUMsUUFBQUosRUFBQVcsU0FDQSxDQUFBUSxLQUFBLEVBQUFoQixJQUFBLFlBQUFDLFFBQUFKLEVBQUFXLFNBQ0EsQ0FBQVEsS0FBQSxFQUFBaEIsSUFBQSxXQUFBQyxRQUFBSixFQUFBVyxTQUNBLENBQUFRLEtBQUEsRUFBQWhCLElBQUEsVUFBQUMsUUFBQUosRUFBQVcsVUFHQU0sRUFBQUEsRUFBQWpELE1BQUEsRUFBQSxJQUFBdUQsT0FDQUQsRUFBQUwsRUFBQWpELE1BQUEsS0FFQStCLEVBQUEsU0FBQUMsRUFBQUUsSUFBQWUsRUFBQWpELFFBQUEsSUFFQSxJQUFBd0QsRUFBQSxDQUNBLENBQUFMLEtBQUEsR0FBQWhCLElBQUEsNkJBQUFDLFFBQUFVLEdBQ0EsQ0FBQUssS0FBQSxHQUFBaEIsSUFBQSwyQkFBQUMsUUFBQVUsR0FDQSxDQUFBSyxLQUFBLEdBQUFoQixJQUFBLHdCQUFBQyxRQUFBVSxHQUNBLENBQUFLLEtBQUEsR0FBQWhCLElBQUEsNEJBQUFDLFFBQUFVLEdBQ0EsQ0FBQUssS0FBQSxHQUFBaEIsSUFBQSwwQkFBQUMsUUFBQVUsR0FDQSxDQUFBSyxLQUFBLEdBQUFoQixJQUFBLHVCQUFBQyxRQUFBVSxHQUNBLENBQUFLLEtBQUEsR0FBQWhCLElBQUEsb0JBQUFDLFFBQUFKLEVBQUFLLE9BQ0EsQ0FBQWMsS0FBQSxHQUFBaEIsSUFBQSxvQkFBQUMsUUFBQUssR0FDQSxDQUFBVSxLQUFBLEdBQUFoQixJQUFBLG1CQUFBQyxRQUFBSyxJQU9BLE9BSkFRLEVBQUFBLEVBQUFNLE9BQUFDLEdBRUF6QixFQUFBLFNBQUFDLEVBQUFFLElBQUFlLEVBQUFqRCxRQUFBLElBRUErQixFQXJHQWxGLFFBQUFDLE9BQUEsaUJBQUFxQixRQUFBLGdCQUFBMEQsR0FFQUEsRUFBQXpELFFBQUEsQ0FBQSxhQUxBLEdDQUEsV0FDQSxhQU9BLFNBQUFxRixFQUFBeEcsRUFBQUQsRUFBQThFLEVBQUE0QixHQUNBLElBQUFDLEVBRUFDLEVBQUEsV0FDQTVHLEVBQUEsc0RBR0E2RyxFQUFBLFdBQ0E3RyxFQUNBLHNHQTRDQSxTQUFBOEcsSUFDQSxJQUFBL0IsRUFBQTJCLEVBQUFLLHVCQUVBLE9BREEvRyxFQUFBLDRDQUNBQyxFQUFBRSxjQUFBLFVBQUEsQ0FDQUMsa0JBQUEsRUFDQTRHLHdCQUFBakMsRUFBQWtDLGtCQUFBQyxVQUNBLEdBdUJBLFNBQUFDLEVBQ0F6RCxFQUFBMEQsRUFBQUMsRUFBQUMsRUFBQUMsUUFDQWhHLElBQUFtQyxJQUNBQSxFQUFBLFFBRUFuQyxJQUFBNkYsSUFDQUEsRUFBQSxRQUVBN0YsSUFBQThGLElBQ0FBLEVBQUFWLEdBRUEsSUEwQkFhLEVBQUE5RCxFQUFBMEQsRUFDQUssRUFDQXRFLEVBQ0F1RSxFQUNBQyxFQTlCQUMsRUFBQU4sRUFDQXJILEVBQUE0SCxNQUFBQyxpQ0FDQTdILEVBQUE0SCxNQUFBRSw0QkFFQTVFLEdBc0JBcUUsRUF0QkFILEVBc0JBM0QsRUF0QkFBLEVBc0JBMEQsRUF0QkFBLEVBdUJBSyxFQUFBZixFQUFBN0IsZ0JBQ0ExQixFQUFBLElBQUF4QixXQUFBOEYsRUFBQU8sVUFBQSxDQUFBWixFQUFBMUQsS0FDQWdFLEVBQUEsSUFBQU8sU0FBQTlFLEVBQUF6QixPQUFBLEdBQ0FpRyxFQUFBLElBQUE3QyxFQUFBb0QsV0FDQVQsRUFBQVUsY0FBQVQsRUFBQUMsRUFBQUgsRUFBQSxDQUFBSixFQUFBMUQsSUFDQVAsR0EzQkEsT0FBQWxELEVBQUFtSSxLQUFBUixFQUFBekUsR0FBQSxHQUFBc0IsS0FBQSxXQUNBOEMsR0FDQVQsTUEyQ0EsU0FBQXVCLElBQ0EzQixFQUFBNEIsSUFBQTNCLEVBQUE0QixTQUNBN0IsRUFBQThCLGFBUUF4SSxFQUNBLGlDQUNBMkcsRUFBQTRCLFFBQUEsR0FBQSxJQUFBNUIsRUFBQTRCLFFBQUEsR0FBQSxJQUNBNUIsRUFBQTRCLFFBQUEsR0FBQSxLQUNBM0IsTUFYQTVHLEVBQUEsMENBQ0FBLEVBQ0Esa0JBQUEyRyxFQUFBNEIsUUFBQSxHQUFBLElBQ0E1QixFQUFBNEIsUUFBQSxHQUFBLElBQUE1QixFQUFBNEIsUUFBQSxHQUNBLHdCQUNBN0IsRUFBQStCLGVBd0JBLE9BbkpBeEksRUFBQXlJLG1CQUFBLFNBQUFoRixFQUFBaUYsR0FvR0EsSUFBQUEsRUFPQUEsRUFwR0EsR0FOQWpGLEVBQUF6RCxFQUFBNEgsTUFBQWUsc0JBbUdBRCxFQWxHQUEsRUFvR0FoQyxFQUFBRCxFQUFBN0IsZ0JBQUFnRSxPQUNBLElBQUFaLFNBQUFVLEVBQUEsR0FBQSxJQUFBN0QsRUFBQW9ELFlBQ0FHLEtBcEdBM0UsRUFBQXpELEVBQUE0SCxNQUFBRSw4QkF1R0FZLEVBdEdBQSxFQXdHQWhDLEVBQUFELEVBQUE3QixnQkFBQWlFLGNBQ0EsSUFBQWIsU0FBQVUsRUFBQSxHQUFBLElBQUE3RCxFQUFBb0QsV0FDQXJJLFFBQUFrSixLQUFBcEMsSUFDQTBCLEtBekdBM0UsR0FBQXpELEVBQUE0SCxNQUFBbUIsdUJBQ0EvSSxFQUFBNEgsTUFBQW9CLHdCQUFBLENBQ0EsSUFBQUMsRUFBQSxJQUFBdkgsV0FBQWdILEdBQ0EsR0FBQSxHQUFBTyxFQUFBckcsT0FBQSxDQUNBLElBQUFzRyxFQUFBRCxFQUFBLEdBQUFBLEVBQUEsSUFBQSxFQUNBL0YsRUFBQStGLEVBQUEsR0FDQXJDLEVBQUEsSUFBQSxFQUFBMUQsR0FBQSxJQUFBLEVBQUFBLEdBQUFnRyxRQUVBbkosRUFBQSxzQ0FrSUEyRyxFQUFBRCxFQUFBN0IsZ0JBQUFxQyxRQUVBLENBQ0FKLFFBQUFBLEVBQ0FzQyxPQW5IQSxXQUVBLE9BREFwSixFQUFBLGlEQUNBQyxFQUFBRSxjQUFBLFVBQUEsQ0FDQUMsa0JBQUEsRUFDQWlKLG9CQUFBLElBQ0EsR0FDQTVFLEtBQ0EsV0FDQSxPQUFBcUMsS0FFQSxTQUFBd0MsR0FDQXRKLEVBQ0EscUNBQUFzSixNQXdHQWxCLEtBcEdBLFNBQUFmLEdBQ0EsT0FBQUYsRUFBQSxNQUFBLE1BQUFFLEdBQUEsR0FBQSxJQW9HQUYsWUFBQUEsRUFDQW9DLFVBWEEsV0FDQSxPQUFBNUMsR0FXQTZDLGtCQXBCQSxTQUFBcEcsR0FDQXdELEVBQUF4RCxHQW9CQXFHLG1CQWpCQSxTQUFBckcsR0FDQXlELEVBQUF6RCxHQWlCQXNHLGtCQXZJQSxXQUNBLE9BQUFoRCxFQUFBaUQsV0F1SUE5QixNQTNLQSxDQUNBK0IsUUFBQSxFQUNBQyxHQUFBLEVBQ0FDLElBQUEsRUFDQUMsVUFBQSxFQUNBQyxTQUFBLEdBQ0FDLFFBQUEsR0FDQUMsZUFBQSxHQUNBQyxpQkFBQSxJQUNBQyxXQUFBLElBQ0FDLFlBQUEsSUFDQUMsd0JBQUEsS0FDQUMsY0FBQSxPQTlCQTFLLFFBQUFDLE9BQUEsaUJBQUFxQixRQUFBLGVBQUFzRixHQUVBQSxFQUFBckYsUUFDQSxDQUFBLFNBQUEsYUFBQSxZQUFBLG1CQU5BLEdDQUEsV0FDQXZCLFFBQUFDLE9BQUEsaUJBQUFxQixRQUFBLFlBQUEsV0FDQSxPQUFBMkQsSUFHQSxJQUFBQSxFQUFBLENBQ0FvQixPQW9GQSxTQUFBckQsR0FDQSxJQUFBNEUsRUFBQStDLEVBQUEzSCxFQUFBaUMsRUFBQU8sT0FhQSxPQUFBLElBQUFvRixFQUhBLFdBQ0EsT0FBQTVILEdBVkEsU0FBQTZFLEVBQUFnRCxFQUFBdkgsR0FDQXNFLEVBQUFyRixPQUFBc0YsRUFBQWdELEdBY0FDLEVBZEF4SCxFQWNBTixFQWRBQSxFQWVBK0gsRUFBQSxJQUFBakosV0FBQWtCLEdBQ0E4SCxFQUFBRSxNQUFBLElBQUFDLFFBQUEsU0FBQXhILEVBQUF5SCxHQUNBSCxFQUFBRyxHQUFBekgsRUFBQTBILFdBQUEsS0FFQUosRUFBQS9ILEVBQUEsR0FBQSxFQUNBK0gsSUFOQSxJQUFBRCxFQUFBOUgsRUFDQStILEdBYkEsU0FBQWxELEVBQUFnRCxHQUNBLE9Bb0JBLFNBQUFDLEVBQUE5SCxHQUdBLElBRkEsSUFBQStILEVBQUEsR0FDQUssRUFBQTFJLEtBQUEySSxJQUFBUCxFQUFBOUgsT0FBQUEsRUFBQSxHQUNBRCxFQUFBLEVBQUFBLEVBQUFxSSxJQUFBckksRUFBQSxDQUNBLEdBQUEsSUFBQStILEVBQUEvSCxHQUNBLE9BQUFnSSxFQUVBQSxHQUFBOUcsT0FBQUMsYUFBQTRHLEVBQUEvSCxJQUVBLE9BQUFnSSxFQTdCQU8sQ0FBQTFELEVBQUFvQixPQUFBbkIsRUFBQWdELEdBQUE3SCxJQUVBLFdBQ0EsTUFBQSxNQTVGQXFDLElBNFVBLFNBQUFrRyxFQUFBQyxHQUNBLElBNkNBNUQsRUE1Q0EsUUFBQWxHLElBREE2SixFQUFBdkksT0FFQSxNQUFBLElBQUF5SSxNQUNBLHNFQUdBRixFQUFBTixRQUFBLFNBQUFTLEdBQ0EsUUFBQWhLLElBQUFnSyxFQUFBcEcsT0FDQW9HLEVBQUFuRyxtQkFBQXFGLEdBQ0EsTUFBQSxJQUFBYSxNQUNBLDZFQUlBL0osSUFBQThKLEdBQ0FELEVBQUFOLFFBQUEsU0FBQVMsR0FDQSxRQUFBaEssSUFBQWdLLEVBQUFwRixLQUNBLE1BQUEsSUFBQW1GLE1BQ0Esa0hBTUEsU0FBQWxKLEVBQUFzRixFQUFBZ0QsRUFBQXZILEdBQ0FpSSxFQUFBTixRQUFBLFNBQUFTLEdBQ0FBLEVBQUFuRyxRQUFBaEQsT0FDQXNGLEVBQUFnRCxFQUFBdkgsRUFBQW9JLEVBQUFwRyxRQUdBLFNBQUEwRCxFQUFBbkIsRUFBQWdELEdBQ0EsSUFBQXZILEVBQUEsR0FLQSxPQUpBaUksRUFBQU4sUUFBQSxTQUFBUyxHQUNBcEksRUFBQW9JLEVBQUFwRyxLQUNBb0csRUFBQW5HLFFBQUF5RCxPQUFBbkIsRUFBQWdELEtBRUF2SCxFQUVBLFNBQUErRCxJQUNBLElBQUEvRCxFQUFBLEdBSUEsT0FIQWlJLEVBQUFOLFFBQUEsU0FBQVMsR0FDQXBJLEVBQUFvSSxFQUFBcEcsS0FBQW9HLEVBQUFuRyxRQUFBOEIsVUFFQS9ELEVBR0EsUUFBQTVCLElBQUE4SixFQUFBLENBQ0EsSUFBQUcsRUFBQUMsRUFBQUosR0FzQ0E1RCxFQUFBLElBQUFnRCxFQWRBLFNBQUFpQixHQUNBLElBQUFoSSxFQUNBaUksR0FBQSxPQUNBcEssSUFBQW1LLElBQ0FoSSxFQUFBZ0ksRUFBQUUsTUFDQUQsR0FBQSxHQUVBLE9BQUFQLEVBQUFTLE9BQUEsU0FBQUMsRUFBQUMsR0FDQSxPQUFBSixHQUFBakksRUFBQSxHQUFBcUksRUFBQTVGLEtBR0EyRixFQUFBQyxFQUFBM0csUUFBQTRDLFVBQUEwRCxHQUZBSSxHQUdBSCxFQUFBLEVBQUFOLEVBQUEsSUFHQWpKLEVBQUF5RyxFQUFBM0IsRUF0Q0EsU0FBQVEsRUFBQWdELEVBQUF2SCxFQUFBdUksR0FDQSxJQUFBaEksRUFBQWdJLEVBQUFFLE1BQ0FKLEVBQUFwSixPQUFBc0YsRUFBQWdELEVBQUFoSCxHQUNBMEgsRUFBQU4sUUFBQSxTQUFBUyxHQUNBN0gsRUFBQSxHQUFBNkgsRUFBQXBGLE1BQ0FvRixFQUFBbkcsUUFBQStDLGNBQ0FULEVBQUFnRCxFQUFBdkgsRUFBQW9JLEVBQUFwRyxLQUFBdUcsTUFJQSxTQUFBaEUsRUFBQWdELEVBQUFzQixHQUNBLElBQUF0SSxFQUFBOEgsRUFBQTNDLE9BQUFuQixFQUFBZ0QsR0FDQXZILEVBQUEsR0FTQSxPQVJBaUksRUFBQU4sUUFBQSxTQUFBUyxHQUNBN0gsRUFBQSxHQUFBNkgsRUFBQXBGLEtBQ0FoRCxFQUFBb0ksRUFBQXBHLEtBQUFvRyxFQUFBbkcsUUFBQTBELGNBQ0FwQixFQUFBZ0QsRUFBQXNCLEVBQUFULEVBQUFwRyxNQUVBaEMsRUFBQW9JLEVBQUFwRyxLQUFBNkcsRUFBQVQsRUFBQXBHLE9BR0FoQyxRQW1CQSxDQW9CQXNFLEVBQUEsSUFBQWdELEVBTEEsU0FBQWlCLEdBQ0EsT0FBQU4sRUFBQVMsT0FBQSxTQUFBQyxFQUFBQyxHQUNBLE9BQUFELEVBQUFDLEVBQUEzRyxRQUFBNEMsVUFBQTBELElBQ0EsSUFHQXRKLEVBQUF5RyxFQUFBM0IsRUFwQkEsU0FBQVEsRUFBQWdELEVBQUF2SCxFQUFBdUksR0FDQU4sRUFBQU4sUUFBQSxTQUFBUyxHQUNBQSxFQUFBbkcsUUFBQStDLGNBQ0FULEVBQUFnRCxFQUFBdkgsRUFBQW9JLEVBQUFwRyxLQUFBdUcsTUFHQSxTQUFBaEUsRUFBQWdELEVBQUFzQixHQUNBLElBQUE3SSxFQUFBLEdBS0EsT0FKQWlJLEVBQUFOLFFBQUEsU0FBQVMsR0FDQXBJLEVBQUFvSSxFQUFBcEcsS0FBQW9HLEVBQUFuRyxRQUFBMEQsY0FDQXBCLEVBQUFnRCxFQUFBc0IsRUFBQVQsRUFBQXBHLFFBRUFoQyxJQVdBLE9BREFzRSxFQUFBd0UsU0FBQWIsRUFDQTNELEdBNWJBL0IsTUFBQThFLEVBQ0EwQixVQWdPQSxTQUFBZCxFQUFBQyxHQUNBLElBOEJBNUQsRUE3QkEsUUFBQWxHLElBREE2SixFQUFBdkksT0FFQSxNQUFBLElBQUF5SSxNQUNBLHVEQVFBLFNBQUFsSixFQUFBc0YsRUFBQWdELEVBQUF2SCxHQUNBaUksRUFBQU4sUUFBQSxTQUFBUyxFQUFBUixHQUNBUSxFQUFBbkosT0FBQXNGLEVBQUFnRCxFQUFBdkgsRUFBQTRILE1BR0EsU0FBQWxDLEVBQUFuQixFQUFBZ0QsR0FDQSxJQUFBdkgsRUFBQSxHQUlBLE9BSEFpSSxFQUFBTixRQUFBLFNBQUFTLEVBQUFSLEdBQ0E1SCxFQUFBd0IsS0FBQTRHLEVBQUExQyxPQUFBbkIsRUFBQWdELE1BRUF2SCxFQUVBLFNBQUErRCxJQUNBLElBQUEvRCxFQUFBLEdBSUEsT0FIQWlJLEVBQUFOLFFBQUEsU0FBQVMsR0FDQXBJLEVBQUF3QixLQUFBNEcsRUFBQXJFLFdBRUEvRCxFQXZCQWlJLEVBQUFOLFFBQUEsU0FBQVMsR0FDQSxLQUFBQSxhQUFBZCxHQUNBLE1BQUEsSUFBQWEsTUFDQSx5REF1QkFGLEVBQUFTLE9BQUEsU0FBQUMsRUFBQUMsR0FDQSxPQUFBRCxFQUFBQyxFQUFBL0QsV0FDQSxHQUNBLFFBQUF6RyxJQUFBOEosRUFBQSxDQUNBLElBQUFHLEVBQUFDLEVBQUFKLEdBc0NBNUQsRUFBQSxJQUFBZ0QsRUFkQSxTQUFBaUIsR0FDQSxJQUFBaEksRUFDQWlJLEdBQUEsT0FDQXBLLElBQUFtSyxJQUNBaEksRUFBQWdJLEVBQUFFLE1BQ0FELEdBQUEsR0FFQSxPQUFBUCxFQUFBUyxPQUFBLFNBQUFDLEVBQUFDLEVBQUFoQixHQUNBLE9BQUFZLEdBQUFqSSxFQUFBLEdBQUFxSCxFQUdBZSxFQUFBQyxFQUFBL0QsVUFBQTBELEdBRkFJLEdBR0FILEVBQUEsRUFBQU4sRUFBQSxJQUdBakosRUFBQXlHLEVBQUEzQixFQXRDQSxTQUFBUSxFQUFBZ0QsRUFBQXZILEVBQUF1SSxHQUNBLElBQUFoSSxFQUFBZ0ksRUFBQUUsTUFDQUosRUFBQXBKLE9BQUFzRixFQUFBZ0QsRUFBQWhILEdBQ0EwSCxFQUFBTixRQUFBLFNBQUFTLEVBQUFSLEdBQ0FySCxFQUFBLEdBQUFxSCxHQUNBUSxFQUFBcEQsY0FDQVQsRUFBQWdELEVBQUF2SCxFQUFBNEgsR0FBQVcsTUFJQSxTQUFBaEUsRUFBQWdELEVBQUFzQixHQUNBLElBQUF0SSxFQUFBOEgsRUFBQTNDLE9BQUFuQixFQUFBZ0QsR0FDQXZILEVBQUEsR0FTQSxPQVJBaUksRUFBQU4sUUFBQSxTQUFBUyxFQUFBUixHQUNBckgsRUFBQSxHQUFBcUgsRUFDQTVILEVBQUF3QixLQUFBNEcsRUFBQXpDLGNBQ0FwQixFQUFBZ0QsRUFBQXNCLEVBQUFqQixLQUVBNUgsRUFBQXdCLEtBQUFxSCxFQUFBakIsTUFHQTVILFFBbUJBLENBb0JBc0UsRUFBQSxJQUFBZ0QsRUFMQSxTQUFBaUIsR0FDQSxPQUFBTixFQUFBUyxPQUFBLFNBQUFDLEVBQUFDLEdBQ0EsT0FBQUQsRUFBQUMsRUFBQS9ELFVBQUEwRCxJQUNBLElBR0F0SixFQUFBeUcsRUFBQTNCLEVBcEJBLFNBQUFRLEVBQUFnRCxFQUFBdkgsRUFBQXVJLEdBQ0FOLEVBQUFOLFFBQUEsU0FBQVMsRUFBQVIsR0FDQVEsRUFBQXBELGNBQ0FULEVBQUFnRCxFQUFBdkgsRUFBQTRILEdBQUFXLE1BR0EsU0FBQWhFLEVBQUFnRCxFQUFBc0IsR0FDQSxJQUFBN0ksRUFBQSxHQUtBLE9BSkFpSSxFQUFBTixRQUFBLFNBQUFTLEVBQUFSLEdBQ0E1SCxFQUFBd0IsS0FBQTRHLEVBQUF6QyxjQUNBcEIsRUFBQWdELEVBQUFzQixFQUFBakIsT0FFQTVILElBV0EsT0FEQXNFLEVBQUF3RSxTQUFBYixFQUNBM0QsR0FwVUFTLFdBQUFBLEdBR0EsU0FBQUEsSUFDQTFHLEtBQUEySyxNQUFBLEVBU0EsU0FBQUMsSUFDQSxPQUFBLEVBc0NBLFNBQUFYLEVBQUFZLEdBQ0EsSUFBQTVFLEVBQUEzQyxFQUFBLE9BQUF1SCxHQUNBLFFBQUE5SyxJQUFBa0csRUFDQSxNQUFBLElBQUE2RCxNQUNBLGdDQUFBZSxFQUNBLG1DQUVBLE9BQUE1RSxFQTZEQSxTQUFBK0MsRUFBQTNILEVBQUF1QyxFQUFBaUcsR0FDQSxRQUFBOUosSUFBQXNCLEVBQ0EsTUFBQSxJQUFBeUksTUFBQSw4QkFFQSxLQUFBbEcsYUFBQXFGLEdBQ0EsTUFBQSxJQUFBYSxNQUFBLCtDQUVBLFNBQUFsSixFQUFBc0YsRUFBQWdELEVBQUF2SCxHQUNBLElBQUEsSUFBQVAsRUFBQSxFQUFBQSxFQUFBQyxJQUFBRCxFQUNBd0MsRUFBQWhELE9BQUFzRixFQUFBZ0QsRUFBQXZILEVBQUFQLElBR0EsU0FBQWlHLEVBQUFuQixFQUFBZ0QsR0FFQSxJQURBLElBQUF2SCxFQUFBLEdBQ0FQLEVBQUEsRUFBQUEsRUFBQUMsSUFBQUQsRUFDQU8sRUFBQXdCLEtBQUFTLEVBQUF5RCxPQUFBbkIsRUFBQWdELElBRUEsT0FBQXZILEVBRUEsU0FBQStELElBRUEsSUFEQSxJQUFBL0QsRUFBQSxHQUNBUCxFQUFBLEVBQUFBLEVBQUFDLElBQUFELEVBQ0FPLEVBQUF3QixLQUFBUyxFQUFBOEIsU0FFQSxPQUFBL0QsRUFFQSxJQUFBc0UsRUFDQSxRQUFBbEcsSUFBQThKLEVBQUEsQ0FDQSxJQUFBRyxFQUFBQyxFQUFBSixHQXVDQTVELEVBQUEsSUFBQWdELEVBZkEsU0FBQWlCLEdBQ0EsSUFBQWhJLEVBQ0FpSSxHQUFBLE9BQ0FwSyxJQUFBbUssSUFDQWhJLEVBQUFnSSxFQUFBRSxNQUNBRCxHQUFBLEdBR0EsSUFEQSxJQUFBRyxFQUFBSCxFQUFBLEVBQUFOLEVBQUEsRUFDQXpJLEVBQUEsRUFBQUEsRUFBQUMsSUFBQUQsR0FDQStJLEdBQUFqSSxFQUFBLEdBQUFkLEtBQ0FrSixHQUFBMUcsRUFBQTRDLFVBQUEwRCxJQUdBLE9BQUFJLEdBR0ExSixFQUFBeUcsRUFBQTNCLEVBdkNBLFNBQUFRLEVBQUFnRCxFQUFBdkgsRUFBQXVJLEdBQ0EsSUFBQWhJLEVBQUFnSSxFQUFBRSxNQUNBSixFQUFBcEosT0FBQXNGLEVBQUFnRCxFQUFBaEgsR0FDQSxJQUFBLElBQUFkLEVBQUEsRUFBQUEsRUFBQUMsSUFBQUQsRUFDQWMsRUFBQSxHQUFBZCxHQUNBd0MsRUFBQStDLGNBQ0FULEVBQUFnRCxFQUFBdkgsRUFBQVAsR0FBQThJLElBSUEsU0FBQWhFLEVBQUFnRCxFQUFBc0IsR0FHQSxJQUZBLElBQUF0SSxFQUFBOEgsRUFBQTNDLE9BQUFuQixFQUFBZ0QsR0FDQXZILEVBQUEsR0FDQVAsRUFBQSxFQUFBQSxFQUFBQyxJQUFBRCxFQUNBYyxFQUFBLEdBQUFkLEVBQ0FPLEVBQUF3QixLQUFBUyxFQUFBMEQsY0FDQXBCLEVBQUFnRCxFQUFBc0IsRUFBQXBKLEtBRUFPLEVBQUF3QixLQUFBcUgsRUFBQXBKLElBR0EsT0FBQU8sUUFvQkEsQ0FxQkFzRSxFQUFBLElBQUFnRCxFQVBBLFNBQUFpQixHQUVBLElBREEsSUFBQUksRUFBQSxFQUNBbEosRUFBQSxFQUFBQSxFQUFBQyxJQUFBRCxFQUNBa0osR0FBQTFHLEVBQUE0QyxVQUFBMEQsR0FFQSxPQUFBSSxHQUdBMUosRUFBQXlHLEVBQUEzQixFQXJCQSxTQUFBUSxFQUFBZ0QsRUFBQXZILEVBQUF1SSxHQUNBLElBQUEsSUFBQTlJLEVBQUEsRUFBQUEsRUFBQUMsSUFBQUQsRUFDQXdDLEVBQUErQyxjQUFBVCxFQUFBZ0QsRUFBQXZILEVBQUFQLEdBQUE4SSxJQUdBLFNBQUFoRSxFQUFBZ0QsRUFBQXNCLEdBRUEsSUFEQSxJQUFBN0ksRUFBQSxHQUNBUCxFQUFBLEVBQUFBLEVBQUFDLElBQUFELEVBQ0FPLEVBQUF3QixLQUFBUyxFQUFBMEQsY0FDQXBCLEVBQUFnRCxFQUFBc0IsRUFBQXBKLEtBRUEsT0FBQU8sSUFnQkEsT0FKQXNFLEVBQUF3RSxTQUFBLENBQ0E3RyxRQUFBQSxFQUNBa0gsTUFBQXpKLEdBRUE0RSxFQW1PQSxTQUFBZ0QsRUFDQXpDLEVBQUE1RixFQUFBeUcsRUFBQTNCLEVBQUFpQixFQUFBVyxHQUNBWCxFQUFBQSxHQUFBL0YsRUFDQTBHLEVBQUFBLEdBQUFELEVBQ0FySCxLQUFBd0csVUFBQUEsRUFDQXhHLEtBQUFZLE9BQUFBLEVBQ0FaLEtBQUFxSCxPQUFBQSxFQUNBckgsS0FBQTJHLGNBQUFBLEVBQ0EzRyxLQUFBc0gsY0FBQUEsRUFDQXRILEtBQUEwRixNQUFBQSxFQS9iQWdCLEVBQUFqRixVQUFBc0osSUFBQSxTQUFBQyxHQUNBaEwsS0FBQTJLLE9BQUFLLEdBU0EsQ0FBQSxPQUFBLE9BQUExQixRQUFBLFNBQUEyQixHQUNBLENBQUEsRUFBQSxFQUFBLEdBQUEzQixRQUFBLFNBQUE0QixHQUNBLElBQUF2SCxFQUFBc0gsRUFBQSxFQUFBQyxFQWFBNUgsRUFBQUssR0FBQSxJQUFBc0YsRUFIQSxXQUNBLE9BQUFpQyxHQVZBLFNBQUFoRixFQUFBZ0QsRUFBQXZILEdBQ0F1RSxFQUFBLE1BQUF2QyxHQUFBdUYsRUFBQXlCLE1BQUFoSixFQUFBLEdBQ0F1SCxFQUFBNkIsSUFBQUcsSUFFQSxTQUFBaEYsRUFBQWdELEdBQ0EsSUFBQXZILEVBQUF1RSxFQUFBLE1BQUF2QyxHQUFBdUYsRUFBQXlCLE1BQUEsR0FFQSxPQURBekIsRUFBQTZCLElBQUFHLEdBQ0F2SixHQUtBaUosT0FHQSxDQUFBLEVBQUEsR0FBQXRCLFFBQUEsU0FBQTRCLEdBQ0EsSUFBQXZILEVBQUEsUUFBQSxFQUFBdUgsRUFhQTVILEVBQUFLLEdBQUEsSUFBQXNGLEVBSEEsV0FDQSxPQUFBaUMsR0FWQSxTQUFBaEYsRUFBQWdELEVBQUF2SCxHQUNBdUUsRUFBQSxNQUFBdkMsR0FBQXVGLEVBQUF5QixNQUFBaEosRUFBQSxHQUNBdUgsRUFBQTZCLElBQUFHLElBRUEsU0FBQWhGLEVBQUFnRCxHQUNBLElBQUF2SCxFQUFBdUUsRUFBQSxNQUFBdkMsR0FBQXVGLEVBQUF5QixNQUFBLEdBRUEsT0FEQXpCLEVBQUE2QixJQUFBRyxHQUNBdkosR0FLQWlKLEtBZUF0SCxFQUFBVSxLQUFBLElBQUFpRixFQUNBLFdBQ0EsT0FBQSxHQUVBLFNBQUEvQyxFQUFBZ0QsRUFBQXZILEdBQ0EyQixFQUFBTyxNQUFBakQsT0FBQXNGLEVBQUFnRCxFQUFBdkgsRUFBQSxFQUFBLElBRUEsU0FBQXVFLEVBQUFnRCxHQUNBLE9BQUEsSUFBQTVGLEVBQUFPLE1BQUF3RCxPQUFBbkIsRUFBQWdELElBRUEsV0FDQSxPQUFBLElBckZBLEdDQUEsV0FDQSxhQU1BLFNBQUFoRSxFQUFBN0IsRUFBQWtDLEdBQ0EsSUFBQXdCLEVBQUEsQ0FBQSxFQUFBLEVBQUEsR0FDQXBELEVBQUEsUUFDQXFELEVBQUEsQ0FDQW1FLFNBQUEsRUFDQUMsU0FBQSxFQUNBQyxTQUFBLEdBR0FsRCxFQUFBLENBQUEsRUFBQSxFQUFBLEdBQ0FsQixFQUFBLFFBRUFxRSxFQUFBakksRUFBQTRELEdBQ0FzRSxFQUFBRCxFQUNBRSxFQUFBakcsRUFBQWtHLFdBQUF4RSxHQUNBeUUsRUFBQUYsRUFFQUcsRUFBQSxDQUNBUixRQUFBLFVBQ0FDLFFBQUEsVUFDQUMsUUFBQSxXQUVBTyxFQUFBLFdBRUEsTUFBQSxDQUNBOUUsSUFBQSxTQUFBK0UsR0FFQWxJLEdBREFvRCxFQUFBOEUsR0FDQUMsS0FBQSxLQUNBUCxFQUNBbEksRUFBQU0sSUFBQTJILEVBQ0FJLEVBQ0FuRyxFQUFBa0csV0FBQXhFLElBQUF1RSxFQUNBSSxFQUFBRCxFQUFBaEksSUFBQSxZQUVBb0ksSUFBQSxXQUNBLE9BQUFoRixHQUVBcEQsSUFBQSxXQUNBLE9BQUFBLEdBRUFxRCxVQUFBLFdBQ0EsT0FBQSxJQUFBQSxFQUFBckQsSUFFQXdFLFFBQUEsV0FDQSxPQUFBQSxHQUVBbEIsV0FBQSxXQUNBLE9BQUFBLEdBRUE1RCxjQUFBLFdBQ0EsT0FBQWtJLEdBRUFoRyxxQkFBQSxXQUNBLE9BQUFtRyxHQUVBRSxVQUFBLFdBQ0EsT0FBQUEsSUE1REF2TixRQUFBQyxPQUFBLGlCQUFBcUIsUUFBQSxrQkFBQXVGLEdBRUFBLEVBQUF0RixRQUFBLENBQUEsZ0JBQUEsd0JBTEEsR0NBQSxXQUNBLGFBTUEsU0FBQW9NLEVBQUEvRyxHQUNBLElBQUFnSCxFQUFBLENBQ0FDLFlBQUEsRUFDQUMsTUFBQSxFQUNBQyxPQUFBLEVBQ0FDLFFBQUEsRUFDQUMsVUFBQSxFQUNBQyxNQUFBLEdBR0FDLEVBQUEsQ0FBQSxjQUFBLGFBQUEsYUFBQSxhQUNBQyxFQUFBLEdBRUFELEVBQUFsRCxRQUFBLFNBQUEzRixHQUNBOEksRUFBQTlJLEdBQUEsQ0FDQStJLElBQUEsRUFDQUMsTUFBQSxFQUNBQyxLQUFBLEtBSUEsSUFBQTlJLEVBQUEsQ0FDQStJLE9BQUEsTUFDQUMsUUFBQWIsRUFBQU0sTUFDQUUsT0FBQUEsRUFDQU0sZUFBQSxFQUNBQyxpQkFBQSxHQUdBQyxFQUFBLENBQUF6SSxVQUFBLENBQUFWLElBRUEsU0FBQWdELEVBQ0FvRyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBUCxFQUFBSixFQUFBQyxHQUNBLEVBQUFHLEdBQUFBLEVBQUEsSUFDQWhKLEVBQUFnSixRQUFBQSxHQUVBLENBQUFJLEVBQUFDLEVBQUFDLEVBQUFDLEdBQUEvRCxRQUFBLFNBQ0FnRSxFQUFBL0QsR0FDQSxHQUFBK0QsRUFBQSxDQUdBLElBQUEvQyxFQUFBa0MsRUFBQUQsRUFBQWpELElBQ0FnQixFQUFBbUMsSUFBQVksRUFBQVosSUFDQW5DLEVBQUFvQyxNQUFBVyxFQUFBWCxNQUNBcEMsRUFBQXFDLEtBQUFVLEVBQUFWLGFBRUE3TSxJQUFBMk0sSUFDQTVJLEVBQUFpSixjQUFBTCxRQUVBM00sSUFBQTRNLElBQ0E3SSxFQUFBa0osZ0JBQUFMLEdBWUExSCxFQUFBVSxZQUNBVixFQUFBb0IsTUFBQXVDLFdBQ0EsRUFDQXFFLEdBQ0EsR0FJQSxNQUFBLENBQ0FuRyxJQUFBQSxFQUNBeUcsVUFoQkEsU0FBQWIsRUFBQUMsRUFBQUMsR0FDQSxJQUFBVSxFQUFBLENBQUFaLElBQUFBLEdBQUEsRUFBQUMsTUFBQUEsR0FBQSxFQUFBQyxLQUFBQSxHQUFBLEdBQ0E5RixFQUFBd0csRUFBQUEsRUFBQUEsRUFBQUEsRUFBQXJCLEVBQUFNLFFBZUFpQixTQUFBdkIsR0E3RUE1TixRQUFBQyxPQUFBLGlCQUFBcUIsUUFBQSxNQUFBcU0sR0FFQUEsRUFBQXBNLFFBQUEsQ0FBQSxnQkFMQSxHQ0FBLFdBQ0EsYUFNQSxTQUFBNk4sRUFBQWpQLEVBQUE4RSxFQUFBNEIsR0FDQSxJQW1HQTFCLEVBQ0FrSyxFQXBHQUMsRUFBQSxDQUNBQyxNQUFBLEVBQ0FDLFFBQUEsRUFDQUMsWUFBQSxFQUNBQyxZQUFBLEVBQ0FDLFNBQUEsS0FtQ0FDLEVBQUEsQ0FDQUMsVUFBQSxXQUNBQyxXQUFBLEVBQ0FDLGFBQUEsRUFDQUMsYUFBQSxFQUNBQyxTQUFBLEVBQ0FDLFNBQUEsRUFDQUMsU0FBQSxHQUNBQyxZQUFBLEdBQ0FDLFdBQUEsR0FDQUMsVUFBQSxJQUNBQyxrQkFBQSxJQUNBQyxlQUFBLElBQ0FDLGFBQUEsS0FDQUMsb0JBQUEsS0FDQUMsZUFBQSxLQUNBQyxjQUFBLEtBQ0FDLG9CQUFBLE1BQ0FDLG9CQUFBLE1BQ0FDLG9CQUFBLE1BQ0FDLG9CQUFBLEdBQUEsR0FDQUMsbUJBQUEsR0FBQSxHQUNBQyxtQkFBQSxHQUFBLEdBQ0FDLG1CQUFBLEdBQUEsR0FDQUMsbUJBQUEsR0FBQSxHQUNBQyxnQkFBQSxHQUFBLEdBQ0FDLGlCQUFBLEdBQUEsR0FDQUMsZ0JBQUEsR0FBQSxHQUNBQyxvQkFBQSxHQUFBLEdBQ0FDLGlCQUFBLEdBQUEsSUEyQkFDLEVBQUEsRUFFQUMsR0FFQXRDLEdBREFsSyxFQUFBRixHQUNBb0gsVUFBQSxDQUNBbEgsRUFBQW9CLE9BQUFwQixFQUFBVyxRQUFBWCxFQUFBVyxRQUFBWCxFQUFBVyxRQUFBWCxFQUFBVyxRQUFBWCxFQUFBVyxVQUVBWCxFQUFBRSxJQUFBLENBQ0EsQ0FBQUMsSUFBQSxlQUFBQyxRQUFBSixFQUFBb0IsUUFDQSxDQUFBakIsSUFBQSxTQUFBQyxRQUFBSixFQUFBTyxRQUNBLENBQUFKLElBQUEsU0FBQUMsUUFBQUosRUFBQU8sUUFDQSxDQUFBSixJQUFBLFNBQUFDLFFBQUFKLEVBQUFPLFFBQ0EsQ0FBQUosSUFBQSxTQUFBQyxRQUFBSixFQUFBTyxRQUNBLENBQUFKLElBQUEsUUFBQUMsUUFBQUosRUFBQVUsTUFBQSxFQUFBVixFQUFBVyxVQUNBLENBQUFSLElBQUEsT0FBQUMsUUFBQUosRUFBQVUsTUFBQSxFQUFBVixFQUFBVyxVQUNBLENBQUFSLElBQUEsTUFBQUMsUUFBQUosRUFBQVUsTUFBQSxFQUFBVixFQUFBVyxVQUNBLENBQUFSLElBQUEsY0FBQUMsUUFBQUosRUFBQU8sUUFDQSxDQUFBSixJQUFBLFdBQUFDLFFBQUFKLEVBQUFvQixRQUNBLENBQUFqQixJQUFBLE1BQUFDLFFBQUFKLEVBQUFVLE1BQUEsRUFBQVYsRUFBQXlNLFFBQ0EsQ0FBQXRNLElBQUEsZ0JBQUFDLFFBQUFKLEVBQUFLLE9BRUEsQ0FBQUYsSUFBQSxVQUFBQyxRQUFBSixFQUFBVSxNQUFBLEVBQUFWLEVBQUF5TSxRQUVBLENBQUF0TSxJQUFBLFVBQUFDLFFBQUFKLEVBQUFVLE1BQUEsRUFBQVYsRUFBQVcsVUFFQSxDQUFBUixJQUFBLGdCQUFBQyxRQUFBOEosR0FDQSxDQUFBL0osSUFBQSxnQkFBQUMsUUFBQThKLEdBQ0EsQ0FBQS9KLElBQUEsZ0JBQUFDLFFBQUE4SixHQUNBLENBQUEvSixJQUFBLGdCQUFBQyxRQUFBOEosR0FDQSxDQUFBL0osSUFBQSxlQUFBQyxRQUFBOEosR0FDQSxDQUFBL0osSUFBQSxlQUFBQyxRQUFBOEosR0FDQSxDQUFBL0osSUFBQSxlQUFBQyxRQUFBOEosR0FDQSxDQUFBL0osSUFBQSxlQUFBQyxRQUFBOEosR0FDQSxDQUFBL0osSUFBQSxXQUFBQyxRQUFBSixFQUFBVSxNQUFBLEVBQUFWLEVBQUF5TSxRQUNBLENBQUF0TSxJQUFBLGtCQUFBQyxRQUFBSixFQUFBVSxNQUFBLEVBQUFWLEVBQUFXLFVBQ0EsQ0FBQVIsSUFBQSxpQkFBQUMsUUFBQUosRUFBQVUsTUFBQSxFQUFBVixFQUFBVyxVQUNBLENBQUFSLElBQUEscUJBQUFDLFFBQUFKLEVBQUFXLFNBQ0EsQ0FBQVIsSUFBQSxZQUFBQyxRQUFBSixFQUFBb0IsV0FxQ0EsU0FBQXNMLEVBQUFyUCxHQUNBLE9BQUF5QixPQUFBQyxhQUFBNE4sTUFBQSxLQUFBLElBQUFoUSxXQUFBVSxJQXFDQSxNQUFBLENBQ0F1UCx3QkF4RUEsU0FDQW5PLEVBQUFDLEVBQUFpRixFQUFBa0osRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsSUFNQSxTQUNBeE8sRUFBQUMsRUFBQWlGLEVBQUFrSixFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBLE9BQUF4TyxHQUNBLEtBQUEwTCxFQUFBQyxNQUNBeUMsRUFBQW5PLEVBQUFpRixHQUNBLE1BQ0EsS0FBQXdHLEVBQUFFLFFBQ0F5QyxFQUFBcE8sRUFBQWlGLEdBQ0EsTUFDQSxLQUFBd0csRUFBQUcsWUFDQSxJQUFBNEMsRUFBQVIsRUFBQS9JLEdBQ0FvSixFQUFBRyxHQUNBLE1BQ0EsS0FBQS9DLEVBQUFJLFlBQ0EsSUFBQTJDLEVBQUFSLEVBQUEvSSxHQUNBcUosRUFBQUUsR0FDQSxNQUNBLEtBQUEvQyxFQUFBSyxTQUNBLElBQUFyTSxFQUFBLElBQUE4RSxTQUFBVSxFQUFBLEdBQ0FzSixFQUFBdk8sRUFBQVAsRUFBQWdQLFNBQUEsRUFBQSxLQXhCQUMsQ0FBQTNPLEVBQUFDLEVBQUFpRixFQUNBLFdBa0NBLElBQUFqRixFQUFBaUYsRUFBQWtKLEVBQ0FRLEVBQ0FDLEVBQ0FuUCxFQUNBd0UsRUFDQTRLLEVBTEE3TyxFQWxDQUEsRUFrQ0FpRixFQWxDQUEsRUFrQ0FrSixFQWxDQUEsRUFtQ0FRLEVBQUFiLEVBQUF0SyxRQUNBb0wsRUFBQSxHQUNBblAsRUFBQSxJQUFBOEUsU0FBQVUsRUFBQSxHQUNBaEIsRUFBQSxJQUFBN0MsRUFBQW9ELFdBQ0FxSyxFQUFBLEVBRUE3TyxHQUFBZ0QsRUFBQTBHLFlBRUFvRSxFQUFBdkYsU0FBQW5CLFFBQUEsU0FBQTBILEVBQUF6SCxHQUVBLEdBQUFySCxFQURBLEdBQUFxSCxFQUNBLENBR0F1SCxFQUFBdkgsSUFBQSxFQUNBLElBQUF0RCxFQUFBK0ssRUFBQXBOLFFBQ0FELEVBQUFxTixFQUFBck4sSUFDQWtOLEVBQUFsTixHQUFBc0MsRUFBQW9CLE9BQUExRixFQUFBd0UsTUFHQWpFLEVBQUErTCxFQUFBRyxlQUNBMkMsRUFDQSxLQUFBRixFQUFBSSxhQUFBbEIsR0FDQUEsRUFBQWMsRUFBQUksY0FFQS9PLEVBQUErTCxFQUFBVyxvQkFDQWlDLEVBQUFLLGFBQUEsS0FFQWhQLEVBQUErTCxFQUFBWSxpQkFDQWdDLEVBQUFNLFVBQUEsS0FFQWQsRUFBQVEsRUFBQUMsRUFBQUMsSUFoRUFULEVBQUFDLEVBQUFDLEVBQUFDLElBcUVBOUMsWUFBQUEsRUFDQXlELGNBM01BLENBQ0FDLGlCQUFBLEVBQ0FqSyxvQkFBQSxFQUNBa0ssdUJBQUEsRUFDQUMsb0JBQUEsRUFDQUMseUJBQUEsR0FDQUMsMkJBQUEsR0FDQUMsMkJBQUEsR0FDQUMsMkJBQUEsSUFDQUMsMkJBQUEsSUFDQUMsMkJBQUEsSUFDQUMsMkJBQUEsS0FDQUMsMkJBQUEsS0FDQUMsMkJBQUEsS0FDQUMsNkJBQUEsS0FFQUMseUJBQUEsS0FDQUMsbUJBQUEsTUFDQUMsb0JBQUEsTUFDQTNLLHVCQUFBLE1BQ0E0SyxZQUFBLEdBQUEsR0FDQUMsa0JBQUEsR0FBQSxHQUNBOUssdUJBQUEsR0FBQSxHQUNBakIsNEJBQUEsR0FBQSxHQUNBZ00sK0JBQUEsR0FBQSxHQUNBQyw0QkFBQSxHQUFBLEdBQ0FDLDZCQUFBLEdBQUEsR0FDQW5NLGlDQUFBLEdBQUEsR0FDQW9NLHdCQUFBLEdBQUEsR0FDQUMsb0JBQUEsR0FBQSxJQStLQUMsWUE1SUEsQ0FDQUMsWUFBQSxFQUNBQyxnQkFBQSxFQUNBQyxnQkFBQSxFQUNBQyxlQUFBLEVBRUFDLFlBQUEsR0FFQUMsZ0JBQUEsR0FDQUMsc0JBQUEsR0FDQUMsb0JBQUEsSUFFQUMsc0JBQUEsSUFDQUMsa0JBQUEsSUFDQUMsa0JBQUEsTUFFQUMsZUFBQSxLQUNBQyxtQkFBQSxLQUVBQyxvQkFBQSxLQUNBQyxnQkFBQSxLQUNBQyxnQkFBQSxPQXdIQTNGLFlBQUFBLEdBMU5BNVAsUUFBQUMsT0FBQSxpQkFBQXFCLFFBQUEsU0FBQThOLEdBRUFBLEVBQUE3TixRQUFBLENBQUEsYUFBQSxZQUFBLG1CQUxBLEdDQUEsV0FDQSxhQU1BLFNBQUFpVSxFQUFBM08sRUFBQXVJLEdBQ0EsSUFBQXhCLEVBRUEsRUFGQUEsRUFHQSxFQUhBQSxFQUtBLEVBTEFBLEVBTUEsRUFHQTZILEVBQ0EsRUFEQUEsRUFFQSxTQUZBQSxFQUdBLE1BSEFBLEVBSUEsU0FKQUEsRUFLQSxJQUdBLFNBQUFDLEVBQUF6RyxHQUNBLE1BQUEsQ0FDQVosSUFBQVksR0FBQSxHQUFBLElBQ0FYLE1BQUFXLEdBQUEsRUFBQSxJQUNBVixLQUFBLElBQUFVLEdBSUEsU0FBQTBHLEVBQUE5UixFQUFBNEssRUFBQW1ILEVBQUFDLEVBQUF4SCxFQUFBQyxHQVFBLFlBUEE1TSxJQUFBbVUsSUFDQUEsRUFBQUQsR0FNQSxDQUNBcEgsT0FBQTNLLEVBQ0E0SyxRQUFBQSxFQUNBTCxPQUFBLENBQ0EwSCxZQVJBRixFQUFBRixFQUFBRSxHQVNBRyxXQUFBSCxFQUNBSSxXQVRBSCxFQUFBSCxFQUFBRyxHQVVBSSxVQUFBSixHQUVBbkgsY0FYQUwsRUFBQUEsSUFBQSxFQVlBTSxnQkFYQUwsRUFBQUEsSUFBQSxHQWVBLFNBQUE0SCxFQUFBakgsR0FDQSxJQUFBa0gsRUFBQWxILEdBQUEsR0FBQSxJQUNBbUgsRUFBQW5ILEdBQUEsRUFBQSxJQUNBbkgsRUFBQSxJQUFBbUgsRUFJQSxPQUhBa0gsR0FBQSxHQUNBQyxHQUFBLEdBQ0F0TyxHQUFBLEdBQ0FwRixLQUFBQyxNQUFBd1QsSUFBQSxHQUFBelQsS0FBQUMsTUFBQXlULElBQUEsRUFBQTFULEtBQUFDLE1BQUFtRixHQUdBLElBNkNBdU8sRUFBQSxDQUNBQyxlQUFBLENBQUEsRUFBQSxFQUFBLEdBQ0FDLGVBQUEsQ0FBQSxFQUFBLEVBQUEsR0FDQUMsUUFBQSxDQUFBLEVBQUEsRUFBQSxHQUNBQyxnQkFBQSxDQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBQyxpQkFBQSxFQUNBQyxnQkFBQSxDQUFBLEtBQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxNQUNBQyxnQkFBQSxDQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxJQUNBQywwQkFBQSxDQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEdBQ0FDLHlCQUFBLENBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEtBQUEsSUFDQUMsd0JBQUEsQ0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsS0FBQSxJQUNBQyx1QkFBQSxDQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxLQUFBLEtBQ0FDLHlCQUFBLENBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEtBQUEsSUFDQUMsd0JBQUEsQ0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsS0FBQSxJQUNBQyx1QkFBQSxDQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxLQUFBLElBQ0FDLHNCQUFBLENBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEtBQUEsS0FDQUMsV0FBQSxLQUNBQyxVQUFBLEtBQ0FDLFNBQUEsS0FDQUMsUUFBQSxLQUNBQyxVQUFBLEdBQ0FDLDBCQUFBLENBQUEsRUFBQSxLQUNBQyxpQkFBQSxDQUFBLEtBQUEsSUFDQXhSLFVBcEVBLENBQ0F3UCxFQUNBdkcsRUFBQW1GLFlBQUFFLGdCQUFBN0csRUFDQXNJLEVBQUFULEdBQUFTLEVBQUFULElBQUEsR0FDQUUsRUFDQXZHLEVBQUFtRixZQUFBRyxnQkFBQTlHLEVBQ0FzSSxFQUFBVCxHQUFBUyxFQUFBVCxJQUFBLEdBQ0FFLEVBQ0F2RyxFQUFBbUYsWUFBQUMsWUFBQTVHLEVBQ0FzSSxFQUFBVCxJQUNBRSxFQUNBdkcsRUFBQW1GLFlBQUFJLGVBQUEvRyxFQUNBc0ksRUFBQVQsSUFDQUUsRUFDQXZHLEVBQUFtRixZQUFBVyxrQkFBQXRILEVBQ0FzSSxFQUFBVCxJQUNBRSxFQUNBdkcsRUFBQW1GLFlBQUFTLHNCQUFBcEgsRUFDQXNJLEVBQUFULEdBQUFTLEVBQUFULElBQ0FFLEVBQ0F2RyxFQUFBbUYsWUFBQVUsa0JBQUFySCxFQUNBc0ksRUFBQVQsR0FBQVMsRUFBQVQsSUFDQUUsRUFDQXZHLEVBQUFtRixZQUFBZ0IsZ0JBQUEzSCxFQUNBc0ksRUFBQVQsSUFDQUUsRUFDQXZHLEVBQUFtRixZQUFBYyxvQkFBQXpILEVBQ0FzSSxFQUFBVCxJQUNBRSxFQUNBdkcsRUFBQW1GLFlBQUFhLG1CQUFBeEgsRUFDQXNJLEVBQUFULElBQ0FFLEVBQ0F2RyxFQUFBbUYsWUFBQU0sZ0JBQUFqSCxFQUNBc0ksRUFBQVQsSUFDQUUsRUFDQXZHLEVBQUFtRixZQUFBWSxlQUFBdkgsRUFDQXNJLEVBQUFULElBQ0FFLEVBQ0F2RyxFQUFBbUYsWUFBQUssWUFBQWhILEVBQ0FzSSxFQUFBVCxJQUNBRSxFQUFBLEVBQUEsRUFBQSxHQUNBQSxFQUFBLEVBQUEsRUFBQSxHQUNBQSxFQUFBLEVBQUEsRUFBQSxJQTJCQTdLLEtBQUEsVUFDQThNLDJCQUFBLENBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEtBQUEsSUFDQUMseUJBQUEsQ0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsS0FBQSxJQUNBQyxzQkFBQSxDQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxLQUFBLElBQ0FDLDBCQUFBLENBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEtBQUEsSUFDQUMsd0JBQUEsQ0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsS0FBQSxJQUNBQyxxQkFBQSxDQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxLQUFBLElBQ0FDLGtCQUFBLElBQ0FDLGtCQUFBLENBQUEsRUFBQSxFQUFBLEdBQ0FDLGlCQUFBLENBQUEsRUFBQSxFQUFBLElBR0EsTUFBQSxDQUNBMUssSUFHQSxTQUFBMkssR0FFQSxJQURBQSxFQUFBM1YsS0FBQUMsTUFBQTBWLEtBQ0FBLEVBQUEsSUFDQUEsRUFBQSxHQUVBLElBQUF6USxFQUFBZixFQUFBN0IsZ0JBQ0F3SSxFQUFBLEdBUUEsT0FQQXhOLFFBQUFrSixLQUFBbU4sR0FDQXpPLEVBQUF3RSxTQUFBbkIsUUFBQSxTQUFBMEgsR0FDQSxJQUFBck4sRUFBQXFOLEVBQUFyTixJQUNBa0ksRUFBQWxJLEdBQUF0RixRQUFBa0osS0FBQW1OLEVBQUEvUSxNQUVBa0ksRUFBQTZLLEdBQUFBLEVBQ0E3SyxFQUFBOUUsUUFBQTdCLEVBQUE2RyxNQUFBdkssUUFDQWtWLEdBQ0EsS0FBQSxFQUNBN0ssRUFBQThLLFdBQUEsQ0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0E5SyxFQUFBK0ssV0FBQSxDQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FDQS9LLEVBQUFnTCxXQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUNBaEwsRUFBQWlMLFdBQUEsQ0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQ0EsTUFDQSxLQUFBLEVBQ0FqTCxFQUFBOEssV0FBQSxDQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQTlLLEVBQUErSyxXQUFBLENBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUNBL0ssRUFBQWdMLFdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQ0FoTCxFQUFBaUwsV0FBQSxDQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FDQSxNQUNBLEtBQUEsRUFDQWpMLEVBQUE4SyxXQUFBLENBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBOUssRUFBQStLLFdBQUEsQ0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQ0EvSyxFQUFBZ0wsV0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FDQWhMLEVBQUFpTCxXQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUdBLE9BQUFqTCxJQXJMQXhOLFFBQUFDLE9BQUEsaUJBQUFxQixRQUFBLFVBQUFrVSxHQUVBQSxFQUFBalUsUUFBQSxDQUFBLGtCQUFBLFVBTEEsR0NBQSxXQUNBLGFBTUEsU0FBQW1YLEVBQUF0WSxHQUNBLElBQUF1WSxFQUFBLENBQ0FDLElBQUEsRUFDQUMsSUFBQSxFQUNBQyxLQUFBLEdBRUFDLEVBQUEsQ0FBQSxNQUFBLE1BQUEsUUFFQUMsR0FBQSxFQUNBQyxFQUFBLEVBQ0FDLEVBQUEsRUFDQUMsRUFBQSxFQUVBQyxFQUFBVCxFQUFBRyxLQUVBTyxFQUFBVixFQUFBRyxLQUVBUSxHQUFBLEVBRUEsTUFBQSxDQUNBQyxZQXNEQSxTQUFBck4sR0FDQThNLEVBQUE5TSxHQXREQXNOLFNBeURBLFNBQUF0TixHQUNBK00sRUFBQS9NLEdBekRBdU4sUUE0REEsU0FBQXZOLEdBQ0FnTixFQUFBaE4sR0E1REF3TixPQStEQSxTQUFBeE4sR0FDQWlOLEVBQUFqTixHQS9EQXlOLFFBa0VBLFNBQUF6TixHQUNBa04sRUFBQTFXLEtBQUFrWCxJQUFBLEVBQUFsWCxLQUFBMkksSUFBQSxFQUFBYSxLQWxFQTJOLFFBcUVBLFNBQUEzTixHQUNBbU4sRUFBQTNXLEtBQUFrWCxJQUFBLEVBQUFsWCxLQUFBMkksSUFBQSxFQUFBYSxLQXJFQTROLFlBd0VBLFdBQ0EsT0FBQWQsR0F4RUFlLFNBMkVBLFdBQ0EsT0FBQWQsR0EzRUFlLFFBOEVBLFdBQ0EsT0FBQWQsR0E5RUFlLE9BaUZBLFdBQ0EsT0FBQWQsR0FqRkFlLFFBb0ZBLFdBQ0EsT0FBQWQsR0FwRkFlLFFBdUZBLFdBQ0EsT0FBQWQsR0F2RkFWLElBQUFBLEVBQ0FwUSxLQUlBLFdBQ0EsSUFBQStRLEdBQUFsWixFQUFBZ2EsT0FDQSxPQUVBZCxHQUFBLEVBRUEsSUFBQTFWLEVBQUEsR0FLQUEsRUFBQW9WLFNBQUFxQixFQUNBLE1BQUFyQixJQUZBLElBR0EsSUFDQSxFQUFBLE1BQ0FwVixFQUFBcVYsTUFDQW9CLEVBQUEsTUFBQUMsRUFBQXJCLEVBQUEsSUFBQSxHQUFBLEtBQUEsTUFDQXJWLEVBQUFzVixLQUNBbUIsRUFBQSxLQUFBQyxFQUFBcEIsRUFBQSxJQUFBLEdBQUEsS0FBQSxNQUNBdFYsRUFBQXVWLElBQ0FrQixFQUFBLE1BQUFDLEVBQUFuQixFQUFBLElBQUEsR0FBQSxLQUFBLE1BRUEsSUFBQW9CLEVBQUEsR0FLQSxPQUhBQSxFQUFBLFFBQUF4QixFQUFBSyxLQUFBLEVBQ0FtQixFQUFBLFFBQUF4QixFQUFBTSxLQUFBLEVBRUFqWixFQUFBRSxjQUFBLFVBQUEsQ0FDQUMsa0JBQUEsRUFDQWlhLGNBQUEsQ0FDQS9aLFNBQUEsRUFDQW1ELFFBQUFBLEVBQ0EyVyxTQUFBQSxLQUVBLElBckNBRSxjQXdGQSxXQUNBbkIsR0FBQSxJQUdBLFNBQUFlLEVBQUFLLEVBQUFDLEVBQUFDLEdBQ0EsT0FBQWxZLEtBQUFrWCxJQUFBZSxFQUFBalksS0FBQTJJLElBQUFxUCxFQUFBRSxJQUdBLFNBQUFOLEVBQUE5TSxFQUFBcU4sR0FDQSxPQUFBQSxFQUFBck4sRUFDQUEsRUFBQXFOLEVBRUFyTixHQUFBcU4sRUFDQXJOLEVBQUFxTixFQUVBLEdBN0lBN2EsUUFBQUMsT0FBQSxpQkFBQXFCLFFBQUEsU0FBQW9YLEdBRUFBLEVBQUFuWCxRQUFBLENBQUEsVUFMQSxHQ0FBLFdBQ0EsYUFNQSxTQUFBbkIsRUFBQTBhLEVBQUEzVyxFQUFBNFcsRUFBQTVhLEVBQUFpUCxFQUFBdkksRUFBQUssR0FDQSxJQUFBOFQsRUFBQSxHQUNBQyxFQUFBLElBQUFDLEVBQ0FDLEVBQUEsV0FDQWhiLEVBQUEseUNBRUFpYixFQUFBLFdBQ0FqYixFQUFBLDJDQUVBa2IsRUFBQSxXQUNBbGIsRUFBQSx5Q0FFQW1iLEVBQUEsV0FDQW5iLEVBQUEsMkNBR0FvYixFQUFBLElBQUFSLEVBQUF2WixPQUFBLEtBQ0FnYSxPQUFBOVosRUFFQSxTQUFBd1osS0FlQSxPQVpBQSxFQUFBOVgsVUFBQWdYLEtBQUEsV0FDQSxPQUFBLEdBR0FjLEVBQUE5WCxVQUFBbUYsS0FBQSxTQUFBakYsR0FDQW5ELEVBQUEseUNBR0ErYSxFQUFBOVgsVUFBQXFZLE9BQUEsU0FBQW5ZLEdBQ0FuRCxFQUFBLDJDQUdBLENBQ0FpYSxLQWlJQSxXQUNBLE9BQUFhLEVBQUFiLFFBaklBcFMsTUFBQW9ILEVBQUEyRCxjQUNBeEssS0FBQUEsRUFDQWpJLGNBeUJBLFNBQUFvYixFQUFBcFksRUFBQXFZLEdBQ0EsSUFBQXpXLEVBQUEyQixFQUFBSyx1QkFFQTZELEVBQUE1RyxFQUFBRyxRQUNBLEtBQUFvWCxLQUFBdE0sRUFBQUUsYUFJQSxPQUhBdkUsRUFBQTZRLE9BQUEsaUJBQUFGLEVBQ0EsdURBQ0FHLE9BQUExTixLQUFBaUIsRUFBQUUsYUFBQTdCLEtBQUEsT0FDQTFDLEVBQUFwRyxRQUVBLEtBQUErVyxLQUFBeFcsR0FJQSxPQUhBNkYsRUFBQTZRLE9BQUEsaUJBQUFGLEVBQ0EsNERBQ0FHLE9BQUExTixLQUFBakosR0FBQXVJLEtBQUEsT0FDQTFDLEVBQUFwRyxRQUVBLElBQUFtWCxFQUFBMU0sRUFBQUUsWUFBQW9NLEdBQ0E5VCxFQUFBMUMsRUFBQXdXLEdBRUE3WixFQUFBLElBQUFDLFdBQUE4RixFQUFBaUYsV0FFQWhDLEVBQUEsSUFBQTNELEVBQUFtQixXQUFBLElBQUFELFNBQUF2RyxFQUFBQSxTQUNBK0YsRUFBQXJGLE9BQUFzSSxFQUFBdkgsR0FDQSxJQUFBTyxFQUFBK0QsRUFBQW1VLFVBQUF6WSxHQUNBTyxFQUFBYixPQUFBLElBQ0FhLEVBQUFBLEVBQUEsSUFBQSxFQUFBQSxFQUFBLElBQUEsRUFBQUEsRUFBQSxJQUFBLEdBQUFBLEVBQUEsSUFBQSxJQUdBLElBQUFtWSxFQUFBblIsRUFBQXlCLE1BRUEyUCxFQUFBLElBQUFuYSxXQUFBa2EsRUFBQSxHQUNBQyxFQUFBLEdBQUFBLEVBQUEsR0FBQUgsRUFDQSxJQUFBLElBQUE1USxFQUFBLEVBQUFBLEVBQUE4USxJQUFBOVEsRUFDQStRLEVBQUEsSUFBQUEsRUFBQS9RLEVBQUEsR0FBQXJKLEVBQUFxSixHQUVBK1EsRUFBQUQsRUFBQSxHQUFBLEVBRUFoQixFQUFBbFcsS0FBQSxDQUNBakIsS0FBQUEsRUFDQWtILFNBQUFBLElBR0ErUCxFQUFBLFdBQ0FHLEVBQUExUyxLQUFBLElBQUF6RyxXQUFBaVosRUFBQXhZLE9BQUEwWixNQUNBLEdBRUFOLEdBQ0F4YixFQUFBLG1CQUFBMmIsR0FHQSxPQUFBL1EsRUFBQXBHLFNBMUVBdVgsV0FVQSxTQUFBaFEsSUFDQStPLEVBQUEvTyxHQUNBdVAsT0FBQTVXLEdBWEFzWCxpQkErSUEsU0FBQTVZLEdBQ0E0WCxFQUFBNVgsR0EvSUFzRixtQkFrSkEsU0FBQXRGLEdBQ0E2WCxFQUFBN1gsR0FsSkE2WSxpQkF5SkEsU0FBQTdZLEdBQ0E4WCxFQUFBOVgsR0F6SkE4WSxtQkFvSkEsU0FBQTlZLEdBQ0ErWCxFQUFBL1gsR0FwSkErWSxlQTRIQSxTQUFBMVUsR0FDQTRULEVBQUE1VCxHQTVIQTJVLGtCQVNBLFdBQ0EsT0FJQWhVLEVBQ0E2RyxFQUFBMkQsY0FBQW9CLDRCQUFBLENBQUEsRUFBQSxFQUFBLEVBQUEsS0FkQStHLFFBQUFBLEdBc0VBLFNBQUEzUyxFQUFBMUUsRUFBQVAsRUFBQXFZLFFBQ0FqYSxJQUFBaWEsSUFDQUEsR0FBQSxHQUVBLElBQUE1USxFQUFBNUcsRUFBQUcsUUFFQVQsR0FBQXVMLEVBQUEyRCxjQUFBQyxpQkFFQSxJQUNBd0osRUFBQUMsRUFEQUMsRUFBQSxFQUlBLEdBQUEsaUJBQUFwWixFQUFBLENBQ0EsSUFBQXFaLEVBQUEsRUFBQXJaLEVBQUFOLE9BRUEwWixJQURBRCxFQUFBLElBQUEzYSxXQUFBNmEsSUFDQSxHQUFBdk4sRUFBQUUsWUFBQUUsUUFDQSxJQUFBLElBQUF6TSxFQUFBLEVBQUFBLEVBQUEsSUFBQUEsRUFDQTJaLEdBQUFELEVBQUExWixFQUFBLEdBQUE2WixFQUFBL1ksRUFBQWQsR0FDQSxJQUFBQSxFQUFBLEVBQUFBLEVBQUFPLEVBQUFOLE9BQUFELElBQ0EyWixHQUFBRCxFQUFBMVosRUFBQSxHQUFBTyxFQUFBUCxPQUNBLENBQ0F5WixFQUFBLElBQUFLLFlBQUEsR0FFQUgsSUFEQUQsRUFBQSxJQUFBM2EsV0FBQTBhLElBQ0EsR0FBQXBOLEVBQUFFLFlBQUFFLFFBQ0EsSUFBQXpNLEVBQUEsRUFBQUEsRUFBQSxJQUFBQSxFQUNBMlosR0FBQUQsRUFBQTFaLEVBQUEsR0FBQTZaLEVBQUEvWSxFQUFBZCxHQUNBMlosR0FBQUQsRUFBQSxHQUFBblosRUFtQkEsT0FqQkFtWixFQUFBLEdBQUFDLEVBQ0FELEVBQUFBLEVBQUF6WixPQUFBLEdBQUEsRUFFQWdZLEVBQUFsVyxLQUFBLENBQ0FqQixLQUFBQSxFQUNBa0gsU0FBQUEsSUFHQStQLEVBQUEsV0FDQUcsRUFBQTFTLEtBQUEsSUFBQXpHLFdBQUFpWixFQUFBeFksT0FBQWthLE1BQ0EsR0FFQWQsR0FDQXhiLEVBQ0EsbUJBQUFpUCxFQUFBRSxZQUFBRSxTQUdBekUsRUFBQXBHLFFBV0EsU0FBQUUsRUFBQXZCLEdBQ0FrWSxFQUNBQSxFQUFBbFksRUFBQXdaLEdBRUF2QixFQUFBbFksZUFBQUMsRUFBQXdaLEVBQUFDLEdBR0EsU0FBQUEsRUFBQUMsRUFBQUMsR0FDQTljLEVBQUEseUJBQUE2YyxFQUFBLE1BQUFDLEdBbUJBLFNBQUFDLEVBQUFyWixFQUFBMkosR0FDQSxLQUFBLEVBQUF3TixFQUFBaFksUUFBQSxDQUNBLElBQUFrSixFQUFBOE8sRUFBQW1DLFFBQ0EsR0FBQWpSLEVBQUFySSxPQUFBQSxFQUFBLENBSUEsSUFBQXVaLEVBQUF2WixFQUVBLElBREF1WixJQUFBaE8sRUFBQTJELGNBQUFDLG9CQUNBeEYsRUFBQSxDQUNBdEIsRUFBQW5CLFNBQUE2USxPQUFBLG1DQUNBLE1BRUExUCxFQUFBbkIsU0FBQXNTLFVBQ0EsTUFWQW5SLEVBQUFuQixTQUFBNlEsT0FBQSxnQkFjQSxTQUFBa0IsRUFBQWxaLEVBQUFDLEVBQUFpRixHQUNBc0csRUFBQTJDLHdCQUNBbk8sRUFBQUMsRUFBQWlGLEVBQUFxUyxFQUNBQyxFQUFBQyxFQUFBQyxFQUFBNEIsR0FHQSxTQUFBTixFQUFBdFosRUFBQWdhLEdBQ0EsT0FBQWhhLEdBQUEsRUFBQWdhLEVBQUEsS0FwT0F0ZCxRQUFBQyxPQUFBLGlCQUFBcUIsUUFBQSxTQUFBbEIsR0FFQUEsRUFBQW1CLFFBQUEsQ0FBQSxXQUFBLEtBQUEsT0FBQSxhQUFBLFNBQUEsa0JBQUEsd0JBTEEsR0NBQSxXQUNBLGFBTUEsU0FBQTJGLElBQ0EsSUFBQXFXLEVBQUEsR0FzUUEsT0FKQUEsRUFBQSxTQUFBQyxxQkFBQUMsTUFKQUMsazJIQUtBSCxFQUFBLFNBQUFBLEVBQUEsU0FBQUMscUJBQUFDLE1BSkFFLG05SEFLQUosRUFBQSxTQUFBQyxxQkFBQUMsTUFKQUcsNjFJQU1BLENBQ0F2VixXQUFBbVYscUJBQUFuVixXQUNBK0UsV0FBQSxTQUFBeVEsR0FDQSxPQUFBTixFQUFBTSxLQTlRQTNXLEVBQUEzRixRQUFBLEdBRUF2QixRQUFBQyxPQUFBLGlCQUFBcUIsUUFBQSx1QkFBQTRGLEdBTEEiLCJmaWxlIjoiZmx5YnJpeC1jb21tb24ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdmbHlicml4Q29tbW9uJywgW10pO1xyXG59KCkpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2ZseWJyaXhDb21tb24nKS5mYWN0b3J5KCdjYWxpYnJhdGlvbicsIGNhbGlicmF0aW9uKTtcclxuXHJcbiAgICBjYWxpYnJhdGlvbi4kaW5qZWN0ID0gWydjb21tYW5kTG9nJywgJ3NlcmlhbCddO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNhbGlicmF0aW9uKGNvbW1hbmRMb2csIHNlcmlhbCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1hZ25ldG9tZXRlcjogbWFnbmV0b21ldGVyLFxyXG4gICAgICAgICAgICBhY2NlbGVyb21ldGVyOiB7XHJcbiAgICAgICAgICAgICAgICBmbGF0OiBjYWxpYnJhdGVBY2NlbGVyb21ldGVyLmJpbmQobnVsbCwgJ2ZsYXQnLCAwKSxcclxuICAgICAgICAgICAgICAgIGZvcndhcmQ6IGNhbGlicmF0ZUFjY2VsZXJvbWV0ZXIuYmluZChudWxsLCAnbGVhbiBmb3J3YXJkJywgMSksXHJcbiAgICAgICAgICAgICAgICBiYWNrOiBjYWxpYnJhdGVBY2NlbGVyb21ldGVyLmJpbmQobnVsbCwgJ2xlYW4gYmFjaycsIDIpLFxyXG4gICAgICAgICAgICAgICAgcmlnaHQ6IGNhbGlicmF0ZUFjY2VsZXJvbWV0ZXIuYmluZChudWxsLCAnbGVhbiByaWdodCcsIDMpLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogY2FsaWJyYXRlQWNjZWxlcm9tZXRlci5iaW5kKG51bGwsICdsZWFuIGxlZnQnLCA0KSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZmluaXNoOiBmaW5pc2gsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbWFnbmV0b21ldGVyKCkge1xyXG4gICAgICAgICAgICBjb21tYW5kTG9nKFwiQ2FsaWJyYXRpbmcgbWFnbmV0b21ldGVyIGJpYXNcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBzZXJpYWwuc2VuZFN0cnVjdHVyZSgnQ29tbWFuZCcsIHtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RfcmVzcG9uc2U6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBzZXRfY2FsaWJyYXRpb246IHtcclxuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IDAsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjYWxpYnJhdGVBY2NlbGVyb21ldGVyKHBvc2VEZXNjcmlwdGlvbiwgcG9zZUlkKSB7XHJcbiAgICAgICAgICAgIGNvbW1hbmRMb2coXCJDYWxpYnJhdGluZyBncmF2aXR5IGZvciBwb3NlOiBcIiArIHBvc2VEZXNjcmlwdGlvbik7XHJcbiAgICAgICAgICAgIHJldHVybiBzZXJpYWwuc2VuZFN0cnVjdHVyZSgnQ29tbWFuZCcsIHtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RfcmVzcG9uc2U6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBzZXRfY2FsaWJyYXRpb246IHtcclxuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IHBvc2VJZCArIDEsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBmaW5pc2goKSB7XHJcbiAgICAgICAgICAgIGNvbW1hbmRMb2coXCJGaW5pc2hpbmcgY2FsaWJyYXRpb25cIik7XHJcbiAgICAgICAgICAgIHJldHVybiBzZXJpYWwuc2VuZFN0cnVjdHVyZSgnQ29tbWFuZCcsIHtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RfcmVzcG9uc2U6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBzZXRfY2FsaWJyYXRpb246IHtcclxuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBtb2RlOiAwLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSgpKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdmbHlicml4Q29tbW9uJykuZmFjdG9yeSgnY29icycsIGNvYnMpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvYnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgUmVhZGVyOiBSZWFkZXIsXHJcbiAgICAgICAgICAgIGVuY29kZTogZW5jb2RlLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIFJlYWRlcihjYXBhY2l0eSkge1xyXG4gICAgICAgIGlmIChjYXBhY2l0eSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNhcGFjaXR5ID0gMjAwMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5OID0gY2FwYWNpdHk7XHJcbiAgICAgICAgdGhpcy5idWZmZXIgPSBuZXcgVWludDhBcnJheShjYXBhY2l0eSk7XHJcbiAgICAgICAgdGhpcy5yZWFkeV9mb3JfbmV3X21lc3NhZ2UgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYnVmZmVyX2xlbmd0aCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29ic0RlY29kZShyZWFkZXIpIHtcclxuICAgICAgICB2YXIgc3JjX3B0ciA9IDA7XHJcbiAgICAgICAgdmFyIGRzdF9wdHIgPSAwO1xyXG4gICAgICAgIHZhciBsZWZ0b3Zlcl9sZW5ndGggPSAwO1xyXG4gICAgICAgIHZhciBhcHBlbmRfemVybyA9IGZhbHNlO1xyXG4gICAgICAgIHdoaWxlIChyZWFkZXIuYnVmZmVyW3NyY19wdHJdKSB7XHJcbiAgICAgICAgICAgIGlmICghbGVmdG92ZXJfbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXBwZW5kX3plcm8pXHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLmJ1ZmZlcltkc3RfcHRyKytdID0gMDtcclxuICAgICAgICAgICAgICAgIGxlZnRvdmVyX2xlbmd0aCA9IHJlYWRlci5idWZmZXJbc3JjX3B0cisrXSAtIDE7XHJcbiAgICAgICAgICAgICAgICBhcHBlbmRfemVybyA9IGxlZnRvdmVyX2xlbmd0aCA8IDB4RkU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAtLWxlZnRvdmVyX2xlbmd0aDtcclxuICAgICAgICAgICAgICAgIHJlYWRlci5idWZmZXJbZHN0X3B0cisrXSA9IHJlYWRlci5idWZmZXJbc3JjX3B0cisrXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGxlZnRvdmVyX2xlbmd0aCA/IDAgOiBkc3RfcHRyO1xyXG4gICAgfVxyXG5cclxuICAgIFJlYWRlci5wcm90b3R5cGUuQXBwZW5kVG9CdWZmZXIgPSBmdW5jdGlvbihkYXRhLCBjYWxsYmFjaywgb25FcnJvcikge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgYyA9IGRhdGFbaV07XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJlYWR5X2Zvcl9uZXdfbWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gZmlyc3QgYnl0ZSBvZiBhIG5ldyBtZXNzYWdlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlYWR5X2Zvcl9uZXdfbWVzc2FnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJfbGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5idWZmZXJbdGhpcy5idWZmZXJfbGVuZ3RoKytdID0gYztcclxuXHJcbiAgICAgICAgICAgIGlmIChjICYmIHRoaXMuYnVmZmVyX2xlbmd0aCA9PSB0aGlzLk4pIHtcclxuICAgICAgICAgICAgICAgIC8vIGJ1ZmZlciBvdmVyZmxvdywgcHJvYmFibHkgZHVlIHRvIGVycm9ycyBpbiBkYXRhXHJcbiAgICAgICAgICAgICAgICBvbkVycm9yKCdvdmVyZmxvdycsICdidWZmZXIgb3ZlcmZsb3cgaW4gQ09CUyBkZWNvZGluZycpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWFkeV9mb3JfbmV3X21lc3NhZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghYykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJfbGVuZ3RoID0gY29ic0RlY29kZSh0aGlzKTtcclxuICAgICAgICAgICAgICAgIHZhciBmYWlsZWRfZGVjb2RlID0gKHRoaXMuYnVmZmVyX2xlbmd0aCA9PT0gMCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmFpbGVkX2RlY29kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyWzBdID0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgdGhpcy5idWZmZXJfbGVuZ3RoOyArK2opIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlclswXSBePSB0aGlzLmJ1ZmZlcltqXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJ1ZmZlclswXSA9PT0gMCkgeyAgLy8gY2hlY2sgc3VtIGlzIGNvcnJlY3RcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWR5X2Zvcl9uZXdfbWVzc2FnZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyX2xlbmd0aCA+IDUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSB0aGlzLmJ1ZmZlclsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hc2sgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IDQ7ICsraykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFzayB8PSB0aGlzLmJ1ZmZlcltrICsgMl0gPDwgKGsgKiA4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhjb21tYW5kLCBtYXNrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlci5zdWJhcnJheSg2LCB0aGlzLmJ1ZmZlcl9sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25FcnJvcignc2hvcnQnLCAnVG9vIHNob3J0IHBhY2tldCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAvLyBiYWQgY2hlY2tzdW1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWR5X2Zvcl9uZXdfbWVzc2FnZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ5dGVzID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLmJ1ZmZlcl9sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBieXRlcyArPSB0aGlzLmJ1ZmZlcltqXSArIFwiLFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5idWZmZXJbal0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmFpbGVkX2RlY29kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yKCdmcmFtZScsICdVbmV4cGVjdGVkIGVuZGluZyBvZiBwYWNrZXQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbXNnID0gJ0JBRCBDSEVDS1NVTSAoJyArIHRoaXMuYnVmZmVyX2xlbmd0aCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIGJ5dGVzKScgKyBieXRlcyArIG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoJ2NoZWNrc3VtJywgbXNnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGVuY29kZShidWYpIHtcclxuICAgICAgICB2YXIgcmV0dmFsID1cclxuICAgICAgICAgICAgbmV3IFVpbnQ4QXJyYXkoTWF0aC5mbG9vcigoYnVmLmJ5dGVMZW5ndGggKiAyNTUgKyA3NjEpIC8gMjU0KSk7XHJcbiAgICAgICAgdmFyIGxlbiA9IDE7XHJcbiAgICAgICAgdmFyIHBvc19jdHIgPSAwO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXR2YWxbcG9zX2N0cl0gPT0gMHhGRSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dmFsW3Bvc19jdHJdID0gMHhGRjtcclxuICAgICAgICAgICAgICAgIHBvc19jdHIgPSBsZW4rKztcclxuICAgICAgICAgICAgICAgIHJldHZhbFtwb3NfY3RyXSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHZhbCA9IGJ1ZltpXTtcclxuICAgICAgICAgICAgKytyZXR2YWxbcG9zX2N0cl07XHJcbiAgICAgICAgICAgIGlmICh2YWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHZhbFtsZW4rK10gPSB2YWw7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwb3NfY3RyID0gbGVuKys7XHJcbiAgICAgICAgICAgICAgICByZXR2YWxbcG9zX2N0cl0gPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXR2YWwuc3ViYXJyYXkoMCwgbGVuKS5zbGljZSgpLmJ1ZmZlcjtcclxuICAgIH07XHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnZmx5YnJpeENvbW1vbicpLmZhY3RvcnkoJ2NvbW1hbmRMb2cnLCBjb21tYW5kTG9nKTtcclxuXHJcbiAgICBjb21tYW5kTG9nLiRpbmplY3QgPSBbJyRxJ107XHJcblxyXG4gICAgZnVuY3Rpb24gY29tbWFuZExvZygkcSkge1xyXG4gICAgICAgIHZhciBtZXNzYWdlcyA9IFtdO1xyXG4gICAgICAgIHZhciByZXNwb25kZXIgPSAkcS5kZWZlcigpO1xyXG5cclxuICAgICAgICB2YXIgc2VydmljZSA9IGxvZztcclxuICAgICAgICBzZXJ2aWNlLmxvZyA9IGxvZztcclxuICAgICAgICBzZXJ2aWNlLmNsZWFyU3Vic2NyaWJlcnMgPSBjbGVhclN1YnNjcmliZXJzO1xyXG4gICAgICAgIHNlcnZpY2Uub25NZXNzYWdlID0gb25NZXNzYWdlO1xyXG4gICAgICAgIHNlcnZpY2UucmVhZCA9IHJlYWQ7XHJcblxyXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBsb2cobWVzc2FnZSkge1xyXG4gICAgICAgICAgICBpZiAobWVzc2FnZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uZGVyLm5vdGlmeShyZWFkKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZWFkKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjbGVhclN1YnNjcmliZXJzKCkge1xyXG4gICAgICAgICAgICByZXNwb25kZXIgPSAkcS5kZWZlcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gb25NZXNzYWdlKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25kZXIucHJvbWlzZS50aGVuKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KCkpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2ZseWJyaXhDb21tb24nKS5mYWN0b3J5KCdjb25maWdIYW5kbGVyJywgY29uZmlnSGFuZGxlcik7XHJcblxyXG4gICAgY29uZmlnSGFuZGxlci4kaW5qZWN0ID0gWydlbmNvZGFibGUnXTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb25maWdIYW5kbGVyKGVuY29kYWJsZSkge1xyXG4gICAgICAgIHZhciBoYW5kbGVycyA9IHt9O1xyXG5cclxuICAgICAgICB2YXIgZSA9IGVuY29kYWJsZTtcclxuICAgICAgICB2YXIgbGVkQ29sb3IgPSBlLm1hcChbXHJcbiAgICAgICAgICAgIHtrZXk6ICdyZWQnLCBlbGVtZW50OiBlLlVpbnQ4fSxcclxuICAgICAgICAgICAge2tleTogJ2dyZWVuJywgZWxlbWVudDogZS5VaW50OH0sXHJcbiAgICAgICAgICAgIHtrZXk6ICdibHVlJywgZWxlbWVudDogZS5VaW50OH0sXHJcbiAgICAgICAgXSk7XHJcblxyXG4gICAgICAgIHZhciBsZWRTdGF0ZSA9IGUubWFwKFtcclxuICAgICAgICAgICAge2tleTogJ3N0YXR1cycsIGVsZW1lbnQ6IGUuVWludDE2fSxcclxuICAgICAgICAgICAge2tleTogJ3BhdHRlcm4nLCBlbGVtZW50OiBlLlVpbnQ4fSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGtleTogJ2NvbG9ycycsXHJcbiAgICAgICAgICAgICAgZWxlbWVudDogZS5tYXAoW1xyXG4gICAgICAgICAgICAgICAgICB7a2V5OiAncmlnaHRfZnJvbnQnLCBlbGVtZW50OiBsZWRDb2xvcn0sXHJcbiAgICAgICAgICAgICAgICAgIHtrZXk6ICdyaWdodF9iYWNrJywgZWxlbWVudDogbGVkQ29sb3J9LFxyXG4gICAgICAgICAgICAgICAgICB7a2V5OiAnbGVmdF9mcm9udCcsIGVsZW1lbnQ6IGxlZENvbG9yfSxcclxuICAgICAgICAgICAgICAgICAge2tleTogJ2xlZnRfYmFjaycsIGVsZW1lbnQ6IGxlZENvbG9yfSxcclxuICAgICAgICAgICAgICBdKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7a2V5OiAnaW5kaWNhdG9yX3JlZCcsIGVsZW1lbnQ6IGUuYm9vbH0sXHJcbiAgICAgICAgICAgIHtrZXk6ICdpbmRpY2F0b3JfZ3JlZW4nLCBlbGVtZW50OiBlLmJvb2x9LFxyXG4gICAgICAgIF0pO1xyXG5cclxuICAgICAgICB2YXIgY29vcmQzZCA9IGUuYXJyYXkoMywgZS5GbG9hdDMyKTtcclxuXHJcbiAgICAgICAgdmFyIHZlcnNpb24gPSBlLmFycmF5KDMsIGUuVWludDgpO1xyXG4gICAgICAgIHZhciBjaGFubmVsTWFwcGluZyA9IGUuYXJyYXkoNiwgZS5VaW50OCk7XHJcbiAgICAgICAgdmFyIGNoYW5uZWxNYXJrID0gZS5hcnJheSg2LCBlLlVpbnQxNik7XHJcbiAgICAgICAgdmFyIHBpZCA9IGUuYXJyYXkoNywgZS5GbG9hdDMyKTtcclxuICAgICAgICB2YXIgc3RQYXJhbSA9IGUuYXJyYXkoMiwgZS5GbG9hdDMyKTtcclxuXHJcbiAgICAgICAgdmFyIGxlZFN0YXRlcyA9IGUuYXJyYXkoMTYsIGxlZFN0YXRlLCAxNik7XHJcblxyXG4gICAgICAgIHZhciBuYW1lID0gZS5zdHJpbmcoOSk7XHJcblxyXG4gICAgICAgIHZhciBoYW5kbGVyQXJyYXkgPSBbXHJcbiAgICAgICAgICAgIHtwYXJ0OiAwLCBrZXk6ICd2ZXJzaW9uJywgZWxlbWVudDogZS5hcnJheSgzLCBlLlVpbnQ4KX0sXHJcbiAgICAgICAgICAgIHtwYXJ0OiAxLCBrZXk6ICdpZCcsIGVsZW1lbnQ6IGUuVWludDMyfSxcclxuICAgICAgICAgICAge3BhcnQ6IDIsIGtleTogJ3BjYk9yaWVudGF0aW9uJywgZWxlbWVudDogY29vcmQzZH0sXHJcbiAgICAgICAgICAgIHtwYXJ0OiAyLCBrZXk6ICdwY2JUcmFuc2xhdGlvbicsIGVsZW1lbnQ6IGNvb3JkM2R9LFxyXG4gICAgICAgICAgICB7cGFydDogMywga2V5OiAnbWl4VGFibGVGeicsIGVsZW1lbnQ6IGUuYXJyYXkoOCwgZS5JbnQ4KX0sXHJcbiAgICAgICAgICAgIHtwYXJ0OiAzLCBrZXk6ICdtaXhUYWJsZVR4JywgZWxlbWVudDogZS5hcnJheSg4LCBlLkludDgpfSxcclxuICAgICAgICAgICAge3BhcnQ6IDMsIGtleTogJ21peFRhYmxlVHknLCBlbGVtZW50OiBlLmFycmF5KDgsIGUuSW50OCl9LFxyXG4gICAgICAgICAgICB7cGFydDogMywga2V5OiAnbWl4VGFibGVUeicsIGVsZW1lbnQ6IGUuYXJyYXkoOCwgZS5JbnQ4KX0sXHJcbiAgICAgICAgICAgIHtwYXJ0OiA0LCBrZXk6ICdtYWdCaWFzJywgZWxlbWVudDogY29vcmQzZH0sXHJcbiAgICAgICAgICAgIHtwYXJ0OiA1LCBrZXk6ICdhc3NpZ25lZENoYW5uZWwnLCBlbGVtZW50OiBjaGFubmVsTWFwcGluZ30sXHJcbiAgICAgICAgICAgIHtwYXJ0OiA1LCBrZXk6ICdjb21tYW5kSW52ZXJzaW9uJywgZWxlbWVudDogZS5VaW50OH0sXHJcbiAgICAgICAgICAgIHtwYXJ0OiA1LCBrZXk6ICdjaGFubmVsTWlkcG9pbnQnLCBlbGVtZW50OiBjaGFubmVsTWFya30sXHJcbiAgICAgICAgICAgIHtwYXJ0OiA1LCBrZXk6ICdjaGFubmVsRGVhZHpvbmUnLCBlbGVtZW50OiBjaGFubmVsTWFya30sXHJcbiAgICAgICAgICAgIHtwYXJ0OiA2LCBrZXk6ICd0aHJ1c3RNYXN0ZXJQSURQYXJhbWV0ZXJzJywgZWxlbWVudDogcGlkfSxcclxuICAgICAgICAgICAge3BhcnQ6IDYsIGtleTogJ3BpdGNoTWFzdGVyUElEUGFyYW1ldGVycycsIGVsZW1lbnQ6IHBpZH0sXHJcbiAgICAgICAgICAgIHtwYXJ0OiA2LCBrZXk6ICdyb2xsTWFzdGVyUElEUGFyYW1ldGVycycsIGVsZW1lbnQ6IHBpZH0sXHJcbiAgICAgICAgICAgIHtwYXJ0OiA2LCBrZXk6ICd5YXdNYXN0ZXJQSURQYXJhbWV0ZXJzJywgZWxlbWVudDogcGlkfSxcclxuICAgICAgICAgICAge3BhcnQ6IDYsIGtleTogJ3RocnVzdFNsYXZlUElEUGFyYW1ldGVycycsIGVsZW1lbnQ6IHBpZH0sXHJcbiAgICAgICAgICAgIHtwYXJ0OiA2LCBrZXk6ICdwaXRjaFNsYXZlUElEUGFyYW1ldGVycycsIGVsZW1lbnQ6IHBpZH0sXHJcbiAgICAgICAgICAgIHtwYXJ0OiA2LCBrZXk6ICdyb2xsU2xhdmVQSURQYXJhbWV0ZXJzJywgZWxlbWVudDogcGlkfSxcclxuICAgICAgICAgICAge3BhcnQ6IDYsIGtleTogJ3lhd1NsYXZlUElEUGFyYW1ldGVycycsIGVsZW1lbnQ6IHBpZH0sXHJcbiAgICAgICAgICAgIHtwYXJ0OiA2LCBrZXk6ICdwaWRCeXBhc3MnLCBlbGVtZW50OiBlLlVpbnQ4fSxcclxuICAgICAgICAgICAge3BhcnQ6IDcsIGtleTogJ3N0YXRlRXN0aW1hdGlvblBhcmFtZXRlcnMnLCBlbGVtZW50OiBzdFBhcmFtfSxcclxuICAgICAgICAgICAge3BhcnQ6IDcsIGtleTogJ2VuYWJsZVBhcmFtZXRlcnMnLCBlbGVtZW50OiBzdFBhcmFtfSxcclxuICAgICAgICAgICAge3BhcnQ6IDgsIGtleTogJ2xlZFN0YXRlcycsIGVsZW1lbnQ6IGxlZFN0YXRlc30sXHJcbiAgICAgICAgICAgIHtwYXJ0OiA5LCBrZXk6ICduYW1lJywgZWxlbWVudDogZS5zdHJpbmcoOSl9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGhhbmRsZXJzWycxLjQuMCddID0gZS5tYXAoaGFuZGxlckFycmF5LnNsaWNlKCksIDE2KTtcclxuXHJcbiAgICAgICAgdmFyIGdhaW5IYW5kbGVycyA9IFtcclxuICAgICAgICAgICAge3BhcnQ6IDYsIGtleTogJ3RocnVzdEdhaW4nLCBlbGVtZW50OiBlLkZsb2F0MzJ9LFxyXG4gICAgICAgICAgICB7cGFydDogNiwga2V5OiAncGl0Y2hHYWluJywgZWxlbWVudDogZS5GbG9hdDMyfSxcclxuICAgICAgICAgICAge3BhcnQ6IDYsIGtleTogJ3JvbGxHYWluJywgZWxlbWVudDogZS5GbG9hdDMyfSxcclxuICAgICAgICAgICAge3BhcnQ6IDYsIGtleTogJ3lhd0dhaW4nLCBlbGVtZW50OiBlLkZsb2F0MzJ9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGhhbmRsZXJBcnJheSA9IGhhbmRsZXJBcnJheS5zbGljZSgwLCAyMSkuY29uY2F0KFxyXG4gICAgICAgICAgICBnYWluSGFuZGxlcnMsIGhhbmRsZXJBcnJheS5zbGljZSgyMSkpO1xyXG5cclxuICAgICAgICBoYW5kbGVyc1snMS41LjAnXSA9IGUubWFwKGhhbmRsZXJBcnJheS5zbGljZSgpLCAxNik7XHJcblxyXG4gICAgICAgIHZhciB2ZWxvY2l0eVBpZEhhbmRsZXJzID0gW1xyXG4gICAgICAgICAgICB7cGFydDogMTAsIGtleTogJ2ZvcndhcmRNYXN0ZXJQSURQYXJhbWV0ZXJzJywgZWxlbWVudDogcGlkfSxcclxuICAgICAgICAgICAge3BhcnQ6IDEwLCBrZXk6ICdyaWdodE1hc3RlclBJRFBhcmFtZXRlcnMnLCBlbGVtZW50OiBwaWR9LFxyXG4gICAgICAgICAgICB7cGFydDogMTAsIGtleTogJ3VwTWFzdGVyUElEUGFyYW1ldGVycycsIGVsZW1lbnQ6IHBpZH0sXHJcbiAgICAgICAgICAgIHtwYXJ0OiAxMCwga2V5OiAnZm9yd2FyZFNsYXZlUElEUGFyYW1ldGVycycsIGVsZW1lbnQ6IHBpZH0sXHJcbiAgICAgICAgICAgIHtwYXJ0OiAxMCwga2V5OiAncmlnaHRTbGF2ZVBJRFBhcmFtZXRlcnMnLCBlbGVtZW50OiBwaWR9LFxyXG4gICAgICAgICAgICB7cGFydDogMTAsIGtleTogJ3VwU2xhdmVQSURQYXJhbWV0ZXJzJywgZWxlbWVudDogcGlkfSxcclxuICAgICAgICAgICAge3BhcnQ6IDEwLCBrZXk6ICd2ZWxvY2l0eVBpZEJ5cGFzcycsIGVsZW1lbnQ6IGUuVWludDh9LFxyXG4gICAgICAgICAgICB7cGFydDogMTEsIGtleTogJ2luZXJ0aWFsQmlhc0FjY2VsJywgZWxlbWVudDogY29vcmQzZH0sXHJcbiAgICAgICAgICAgIHtwYXJ0OiAxMSwga2V5OiAnaW5lcnRpYWxCaWFzR3lybycsIGVsZW1lbnQ6IGNvb3JkM2R9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGhhbmRsZXJBcnJheSA9IGhhbmRsZXJBcnJheS5jb25jYXQodmVsb2NpdHlQaWRIYW5kbGVycyk7XHJcblxyXG4gICAgICAgIGhhbmRsZXJzWycxLjYuMCddID0gZS5tYXAoaGFuZGxlckFycmF5LnNsaWNlKCksIDE2KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGhhbmRsZXJzO1xyXG4gICAgfVxyXG5cclxufSgpKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdmbHlicml4Q29tbW9uJykuZmFjdG9yeSgnZGV2aWNlQ29uZmlnJywgZGV2aWNlQ29uZmlnKTtcclxuXHJcbiAgICBkZXZpY2VDb25maWcuJGluamVjdCA9XHJcbiAgICAgICAgWydzZXJpYWwnLCAnY29tbWFuZExvZycsICdlbmNvZGFibGUnLCAnZmlybXdhcmVWZXJzaW9uJ107XHJcblxyXG4gICAgZnVuY3Rpb24gZGV2aWNlQ29uZmlnKHNlcmlhbCwgY29tbWFuZExvZywgZW5jb2RhYmxlLCBmaXJtd2FyZVZlcnNpb24pIHtcclxuICAgICAgICB2YXIgY29uZmlnO1xyXG5cclxuICAgICAgICB2YXIgY29uZmlnQ2FsbGJhY2sgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY29tbWFuZExvZygnTm8gY2FsbGJhY2sgZGVmaW5lZCBmb3IgcmVjZWl2aW5nIGNvbmZpZ3VyYXRpb25zIScpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBsb2dnaW5nQ2FsbGJhY2sgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY29tbWFuZExvZyhcclxuICAgICAgICAgICAgICAgICdObyBjYWxsYmFjayBkZWZpbmVkIGZvciByZWNlaXZpbmcgbG9nZ2luZyBzdGF0ZSEnICtcclxuICAgICAgICAgICAgICAgICcgQ2FsbGJhY2sgYXJndW1lbnRzOiAoaXNMb2dnaW5nLCBpc0xvY2tlZCwgZGVsYXkpJyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGNvbmZpZ0ZpZWxkcyA9IHtcclxuICAgICAgICAgICAgVkVSU0lPTjogMSA8PCAwLFxyXG4gICAgICAgICAgICBJRDogMSA8PCAxLFxyXG4gICAgICAgICAgICBQQ0I6IDEgPDwgMixcclxuICAgICAgICAgICAgTUlYX1RBQkxFOiAxIDw8IDMsXHJcbiAgICAgICAgICAgIE1BR19CSUFTOiAxIDw8IDQsXHJcbiAgICAgICAgICAgIENIQU5ORUw6IDEgPDwgNSxcclxuICAgICAgICAgICAgUElEX1BBUkFNRVRFUlM6IDEgPDwgNixcclxuICAgICAgICAgICAgU1RBVEVfUEFSQU1FVEVSUzogMSA8PCA3LFxyXG4gICAgICAgICAgICBMRURfU1RBVEVTOiAxIDw8IDgsXHJcbiAgICAgICAgICAgIERFVklDRV9OQU1FOiAxIDw8IDksXHJcbiAgICAgICAgICAgIFZFTE9DSVRZX1BJRF9QQVJBTUVURVJTOiAxIDw8IDEwLFxyXG4gICAgICAgICAgICBJTkVSVElBTF9CSUFTOiAxIDw8IDExLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlcmlhbC5zZXRDb21tYW5kQ2FsbGJhY2soZnVuY3Rpb24obWFzaywgbWVzc2FnZV9idWZmZXIpIHtcclxuICAgICAgICAgICAgaWYgKG1hc2sgJiBzZXJpYWwuZmllbGQuQ09NX1NFVF9FRVBST01fREFUQSkge1xyXG4gICAgICAgICAgICAgICAgY29tU2V0RWVwcm9tRGF0YShtZXNzYWdlX2J1ZmZlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1hc2sgJiBzZXJpYWwuZmllbGQuQ09NX1NFVF9QQVJUSUFMX0VFUFJPTV9EQVRBKSB7XHJcbiAgICAgICAgICAgICAgICBjb21TZXRQYXJ0aWFsRWVwcm9tRGF0YShtZXNzYWdlX2J1ZmZlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1hc2sgJiAoc2VyaWFsLmZpZWxkLkNPTV9TRVRfQ0FSRF9SRUNPUkRJTkcgfFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJpYWwuZmllbGQuQ09NX1NFVF9TRF9XUklURV9ERUxBWSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRhQnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkobWVzc2FnZV9idWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFCdWZmZXIubGVuZ3RoID49IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGVsYXkgPSBkYXRhQnVmZmVyWzBdIHwgKGRhdGFCdWZmZXJbMV0gPDwgOCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBkYXRhQnVmZmVyWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dpbmdDYWxsYmFjaygoZGF0YSAmIDEpICE9PSAwLCAoZGF0YSAmIDIpICE9PSAwLCBkZWxheSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmRMb2coJ0JhZCBkYXRhIGdpdmVuIGZvciBsb2dnaW5nIGluZm8nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXREZXNpcmVkVmVyc2lvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZpcm13YXJlVmVyc2lvbi5kZXNpcmVkKCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVxdWVzdCgpIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXJzID0gZmlybXdhcmVWZXJzaW9uLnNlcmlhbGl6YXRpb25IYW5kbGVyKCk7XHJcbiAgICAgICAgICAgIGNvbW1hbmRMb2coJ1JlcXVlc3RpbmcgY3VycmVudCBjb25maWd1cmF0aW9uIGRhdGEuLi4nKTtcclxuICAgICAgICAgICAgcmV0dXJuIHNlcmlhbC5zZW5kU3RydWN0dXJlKCdDb21tYW5kJywge1xyXG4gICAgICAgICAgICAgICAgcmVxdWVzdF9yZXNwb25zZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHJlcV9wYXJ0aWFsX2VlcHJvbV9kYXRhOiBoYW5kbGVycy5Db25maWd1cmF0aW9uRmxhZy5lbXB0eSgpLFxyXG4gICAgICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZWluaXQoKSB7XHJcbiAgICAgICAgICAgIGNvbW1hbmRMb2coJ1NldHRpbmcgZmFjdG9yeSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gZGF0YS4uLicpO1xyXG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsLnNlbmRTdHJ1Y3R1cmUoJ0NvbW1hbmQnLCB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0X3Jlc3BvbnNlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgcmVpbml0X2VlcHJvbV9kYXRhOiB0cnVlLFxyXG4gICAgICAgICAgICB9LCBmYWxzZSlcclxuICAgICAgICAgICAgICAgIC50aGVuKFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVhc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmRMb2coXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUmVxdWVzdCBmb3IgZmFjdG9yeSByZXNldCBmYWlsZWQ6ICcgKyByZWFzb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2VuZChuZXdDb25maWcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbmRQYXJ0aWFsKDB4ZmZmZiwgMHhmZmZmLCBuZXdDb25maWcsIGZhbHNlLCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNlbmRQYXJ0aWFsKFxyXG4gICAgICAgICAgICBtYXNrLCBsZWRfbWFzaywgbmV3Q29uZmlnLCB0ZW1wb3JhcnksIHJlcXVlc3RfdXBkYXRlKSB7XHJcbiAgICAgICAgICAgIGlmIChtYXNrID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIG1hc2sgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChsZWRfbWFzayA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBsZWRfbWFzayA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG5ld0NvbmZpZyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdDb25maWcgPSBjb25maWc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHRhcmdldCA9IHRlbXBvcmFyeSA/XHJcbiAgICAgICAgICAgICAgICBzZXJpYWwuZmllbGQuQ09NX1NFVF9QQVJUSUFMX1RFTVBPUkFSWV9DT05GSUcgOlxyXG4gICAgICAgICAgICAgICAgc2VyaWFsLmZpZWxkLkNPTV9TRVRfUEFSVElBTF9FRVBST01fREFUQTtcclxuXHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gc2V0Q29uZmlnUGFydGlhbChuZXdDb25maWcsIG1hc2ssIGxlZF9tYXNrKTtcclxuICAgICAgICAgICAgcmV0dXJuIHNlcmlhbC5zZW5kKHRhcmdldCwgZGF0YSwgZmFsc2UpLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdF91cGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBhcHBseVByb3BlcnRpZXNUbyhzb3VyY2UsIGRlc3RpbmF0aW9uKSB7XHJcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uW2tleV0gPSBzb3VyY2Vba2V5XTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXRDb25maWcoc3RydWN0dXJlKSB7XHJcbiAgICAgICAgICAgIHZhciBoYW5kbGVyID0gZmlybXdhcmVWZXJzaW9uLmNvbmZpZ0hhbmRsZXIoKTtcclxuICAgICAgICAgICAgdmFyIGRhdGEgPSBuZXcgVWludDhBcnJheShoYW5kbGVyLmJ5dGVjb3VudCgpKTtcclxuICAgICAgICAgICAgdmFyIGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KGRhdGEuYnVmZmVyLCAwKTtcclxuICAgICAgICAgICAgaGFuZGxlci5lbmNvZGUoZGF0YVZpZXcsIG5ldyBlbmNvZGFibGUuU2VyaWFsaXplcigpLCBzdHJ1Y3R1cmUpO1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldENvbmZpZ1BhcnRpYWwoc3RydWN0dXJlLCBtYXNrLCBsZWRfbWFzaykge1xyXG4gICAgICAgICAgICB2YXIgaGFuZGxlciA9IGZpcm13YXJlVmVyc2lvbi5jb25maWdIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoaGFuZGxlci5ieXRlY291bnQoW2xlZF9tYXNrLCBtYXNrXSkpXHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YS5idWZmZXIsIDApO1xyXG4gICAgICAgICAgICB2YXIgYiA9IG5ldyBlbmNvZGFibGUuU2VyaWFsaXplcigpO1xyXG4gICAgICAgICAgICBoYW5kbGVyLmVuY29kZVBhcnRpYWwoZGF0YVZpZXcsIGIsIHN0cnVjdHVyZSwgW2xlZF9tYXNrLCBtYXNrXSk7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY29tU2V0RWVwcm9tRGF0YShtZXNzYWdlX2J1ZmZlcikge1xyXG4gICAgICAgICAgICAvL2NvbW1hbmRMb2coJ1JlY2VpdmVkIGNvbmZpZyEnKTtcclxuICAgICAgICAgICAgY29uZmlnID0gZmlybXdhcmVWZXJzaW9uLmNvbmZpZ0hhbmRsZXIoKS5kZWNvZGUoXHJcbiAgICAgICAgICAgICAgICBuZXcgRGF0YVZpZXcobWVzc2FnZV9idWZmZXIsIDApLCBuZXcgZW5jb2RhYmxlLlNlcmlhbGl6ZXIoKSk7XHJcbiAgICAgICAgICAgIHJlc3BvbmRUb1NldEVlcHJvbSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY29tU2V0UGFydGlhbEVlcHJvbURhdGEobWVzc2FnZV9idWZmZXIpIHtcclxuICAgICAgICAgICAgLy9jb21tYW5kTG9nKCdSZWNlaXZlZCBwYXJ0aWFsIGNvbmZpZyEnKTtcclxuICAgICAgICAgICAgY29uZmlnID0gZmlybXdhcmVWZXJzaW9uLmNvbmZpZ0hhbmRsZXIoKS5kZWNvZGVQYXJ0aWFsKFxyXG4gICAgICAgICAgICAgICAgbmV3IERhdGFWaWV3KG1lc3NhZ2VfYnVmZmVyLCAwKSwgbmV3IGVuY29kYWJsZS5TZXJpYWxpemVyKCksXHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmNvcHkoY29uZmlnKSksXHJcbiAgICAgICAgICAgIHJlc3BvbmRUb1NldEVlcHJvbSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVzcG9uZFRvU2V0RWVwcm9tKCkge1xyXG4gICAgICAgICAgICBmaXJtd2FyZVZlcnNpb24uc2V0KGNvbmZpZy52ZXJzaW9uKTtcclxuICAgICAgICAgICAgaWYgKCFmaXJtd2FyZVZlcnNpb24uc3VwcG9ydGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbW1hbmRMb2coJ1JlY2VpdmVkIGFuIHVuc3VwcG9ydGVkIGNvbmZpZ3VyYXRpb24hJyk7XHJcbiAgICAgICAgICAgICAgICBjb21tYW5kTG9nKFxyXG4gICAgICAgICAgICAgICAgICAgICdGb3VuZCB2ZXJzaW9uOiAnICsgY29uZmlnLnZlcnNpb25bMF0gKyAnLicgK1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy52ZXJzaW9uWzFdICsgJy4nICsgY29uZmlnLnZlcnNpb25bMl0gICtcclxuICAgICAgICAgICAgICAgICAgICAnIC0tLSBOZXdlc3QgdmVyc2lvbjogJyArXHJcbiAgICAgICAgICAgICAgICAgICAgZmlybXdhcmVWZXJzaW9uLmRlc2lyZWRLZXkoKSApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29tbWFuZExvZyhcclxuICAgICAgICAgICAgICAgICAgICAnUmVjZWl2ZWQgY29uZmlndXJhdGlvbiBkYXRhICh2JyArXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLnZlcnNpb25bMF0gKyAnLicgKyBjb25maWcudmVyc2lvblsxXSArICcuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLnZlcnNpb25bMl0gKycpJyk7XHJcbiAgICAgICAgICAgICAgICBjb25maWdDYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXRDb25maWdDYWxsYmFjayhjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBjb25maWdDYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0TG9nZ2luZ0NhbGxiYWNrKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGxvZ2dpbmdDYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0Q29uZmlnKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29uZmlnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uZmlnID0gZmlybXdhcmVWZXJzaW9uLmNvbmZpZ0hhbmRsZXIoKS5lbXB0eSgpO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXF1ZXN0OiByZXF1ZXN0LFxyXG4gICAgICAgICAgICByZWluaXQ6IHJlaW5pdCxcclxuICAgICAgICAgICAgc2VuZDogc2VuZCxcclxuICAgICAgICAgICAgc2VuZFBhcnRpYWw6IHNlbmRQYXJ0aWFsLFxyXG4gICAgICAgICAgICBnZXRDb25maWc6IGdldENvbmZpZyxcclxuICAgICAgICAgICAgc2V0Q29uZmlnQ2FsbGJhY2s6IHNldENvbmZpZ0NhbGxiYWNrLFxyXG4gICAgICAgICAgICBzZXRMb2dnaW5nQ2FsbGJhY2s6IHNldExvZ2dpbmdDYWxsYmFjayxcclxuICAgICAgICAgICAgZ2V0RGVzaXJlZFZlcnNpb246IGdldERlc2lyZWRWZXJzaW9uLFxyXG4gICAgICAgICAgICBmaWVsZDogY29uZmlnRmllbGRzLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdmbHlicml4Q29tbW9uJykuZmFjdG9yeSgnZW5jb2RhYmxlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIGVuY29kYWJsZTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBlbmNvZGFibGUgPSB7XHJcbiAgICAgICAgc3RyaW5nOiBjb21waWxlU3RyaW5nLFxyXG4gICAgICAgIG1hcDogY29tcGlsZU1hcCxcclxuICAgICAgICBhcnJheTogY29tcGlsZUFycmF5LFxyXG4gICAgICAgIHBvbHlhcnJheTogY29tcGlsZVBvbHlhcnJheSxcclxuICAgICAgICBTZXJpYWxpemVyOiBTZXJpYWxpemVyLFxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBTZXJpYWxpemVyKCkge1xyXG4gICAgICAgIHRoaXMuaW5kZXggPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIFNlcmlhbGl6ZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGluY3JlbWVudCkge1xyXG4gICAgICAgIHRoaXMuaW5kZXggKz0gaW5jcmVtZW50O1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBIYW5kbGluZyBudW1iZXJzXHJcblxyXG4gICAgZnVuY3Rpb24gbnVtYmVyWmVybygpIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuXHJcbiAgICBbJ1VpbnQnLCAnSW50J10uZm9yRWFjaChmdW5jdGlvbihrZXlQcmVmaXgpIHtcclxuICAgICAgICBbMSwgMiwgNF0uZm9yRWFjaChmdW5jdGlvbihieXRlQ291bnQpIHtcclxuICAgICAgICAgICAgdmFyIGtleSA9IGtleVByZWZpeCArIChieXRlQ291bnQgKiA4KTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gZW5jb2RlKGRhdGFWaWV3LCBzZXJpYWxpemVyLCBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhVmlld1snc2V0JyArIGtleV0oc2VyaWFsaXplci5pbmRleCwgZGF0YSwgMSk7XHJcbiAgICAgICAgICAgICAgICBzZXJpYWxpemVyLmFkZChieXRlQ291bnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRlY29kZShkYXRhVmlldywgc2VyaWFsaXplcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBkYXRhVmlld1snZ2V0JyArIGtleV0oc2VyaWFsaXplci5pbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICBzZXJpYWxpemVyLmFkZChieXRlQ291bnQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gYnl0ZWNvdW50KCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ5dGVDb3VudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbmNvZGFibGVba2V5XSA9IG5ldyBIYW5kbGVyKGJ5dGVjb3VudCwgZW5jb2RlLCBkZWNvZGUsIG51bWJlclplcm8pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICBbNCwgOF0uZm9yRWFjaChmdW5jdGlvbihieXRlQ291bnQpIHtcclxuICAgICAgICB2YXIga2V5ID0gJ0Zsb2F0JyArIChieXRlQ291bnQgKiA4KTtcclxuICAgICAgICBmdW5jdGlvbiBlbmNvZGUoZGF0YVZpZXcsIHNlcmlhbGl6ZXIsIGRhdGEpIHtcclxuICAgICAgICAgICAgZGF0YVZpZXdbJ3NldCcgKyBrZXldKHNlcmlhbGl6ZXIuaW5kZXgsIGRhdGEsIDEpO1xyXG4gICAgICAgICAgICBzZXJpYWxpemVyLmFkZChieXRlQ291bnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBkZWNvZGUoZGF0YVZpZXcsIHNlcmlhbGl6ZXIpIHtcclxuICAgICAgICAgICAgdmFyIGRhdGEgPSBkYXRhVmlld1snZ2V0JyArIGtleV0oc2VyaWFsaXplci5pbmRleCwgMSk7XHJcbiAgICAgICAgICAgIHNlcmlhbGl6ZXIuYWRkKGJ5dGVDb3VudCk7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBieXRlY291bnQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBieXRlQ291bnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVuY29kYWJsZVtrZXldID0gbmV3IEhhbmRsZXIoYnl0ZWNvdW50LCBlbmNvZGUsIGRlY29kZSwgbnVtYmVyWmVybyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb21waWxlTnVtYmVyKHR5cGUpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciA9IGVuY29kYWJsZVsnVWludCcgKyB0eXBlXTtcclxuICAgICAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAgICAgICAgICdVbnN1cHBvcnRlZCBzcGxpdCBiaXQgY291bnQ6ICcgKyB0eXBlICtcclxuICAgICAgICAgICAgICAgICcuIEFsbG93ZWQgY291bnRzOiA4LCAxNiwgMzIsIDY0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBoYW5kbGVyO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEhhbmRsaW5nIGJvb2xzXHJcblxyXG4gICAgZW5jb2RhYmxlLmJvb2wgPSBuZXcgSGFuZGxlcihcclxuICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmdW5jdGlvbihkYXRhVmlldywgc2VyaWFsaXplciwgZGF0YSkge1xyXG4gICAgICAgICAgICBlbmNvZGFibGUuVWludDguZW5jb2RlKGRhdGFWaWV3LCBzZXJpYWxpemVyLCBkYXRhID8gMSA6IDApXHJcbiAgICAgICAgfSxcclxuICAgICAgICBmdW5jdGlvbihkYXRhVmlldywgc2VyaWFsaXplcikge1xyXG4gICAgICAgICAgICByZXR1cm4gZW5jb2RhYmxlLlVpbnQ4LmRlY29kZShkYXRhVmlldywgc2VyaWFsaXplcikgIT09IDA7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vIEhhbmRsaW5nIHN0cmluZ3NcclxuXHJcbiAgICBmdW5jdGlvbiBjb21waWxlU3RyaW5nKGxlbmd0aCkge1xyXG4gICAgICAgIHZhciBoYW5kbGVyID0gY29tcGlsZUFycmF5KGxlbmd0aCwgZW5jb2RhYmxlLlVpbnQ4KTtcclxuICAgICAgICBmdW5jdGlvbiBlbmNvZGUoZGF0YVZpZXcsIHNlcmlhbGl6ZXIsIGRhdGEpIHtcclxuICAgICAgICAgICAgaGFuZGxlci5lbmNvZGUoZGF0YVZpZXcsIHNlcmlhbGl6ZXIsIGFzY2lpRW5jb2RlKGRhdGEsIGxlbmd0aCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBkZWNvZGUoZGF0YVZpZXcsIHNlcmlhbGl6ZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFzY2lpRGVjb2RlKGhhbmRsZXIuZGVjb2RlKGRhdGFWaWV3LCBzZXJpYWxpemVyKSwgbGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZW1wdHkoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gYnl0ZWNvdW50KCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IEhhbmRsZXIoYnl0ZWNvdW50LCBlbmNvZGUsIGRlY29kZSwgZW1wdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFzY2lpRW5jb2RlKG5hbWUsIGxlbmd0aCkge1xyXG4gICAgICAgIHZhciByZXNwb25zZSA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XHJcbiAgICAgICAgbmFtZS5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbihjLCBpZHgpIHtcclxuICAgICAgICAgICAgcmVzcG9uc2VbaWR4XSA9IGMuY2hhckNvZGVBdCgwKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXNwb25zZVtsZW5ndGggLSAxXSA9IDA7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFzY2lpRGVjb2RlKG5hbWUsIGxlbmd0aCkge1xyXG4gICAgICAgIHZhciByZXNwb25zZSA9ICcnO1xyXG4gICAgICAgIHZhciBsID0gTWF0aC5taW4obmFtZS5sZW5ndGgsIGxlbmd0aCAtIDEpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgKytpKSB7XHJcbiAgICAgICAgICAgIGlmIChuYW1lW2ldID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzcG9uc2UgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShuYW1lW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEhhbmRsaW5nIGFycmF5c1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbXBpbGVBcnJheShsZW5ndGgsIGVsZW1lbnQsIHNwbGl0Qml0cykge1xyXG4gICAgICAgIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FycmF5IHR5cGUgcmVxdWlyZXMgbGVuZ3RoJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghKGVsZW1lbnQgaW5zdGFuY2VvZiBIYW5kbGVyKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FycmF5IHR5cGUgcmVxdWlyZXMgSGFuZGxlciB0eXBlIGFzIGVsZW1lbnQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZW5jb2RlKGRhdGFWaWV3LCBzZXJpYWxpemVyLCBkYXRhKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuZW5jb2RlKGRhdGFWaWV3LCBzZXJpYWxpemVyLCBkYXRhW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBkZWNvZGUoZGF0YVZpZXcsIHNlcmlhbGl6ZXIpIHtcclxuICAgICAgICAgICAgdmFyIGRhdGEgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKGVsZW1lbnQuZGVjb2RlKGRhdGFWaWV3LCBzZXJpYWxpemVyKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGVtcHR5KCkge1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goZWxlbWVudC5lbXB0eSgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGhhbmRsZXI7XHJcbiAgICAgICAgaWYgKHNwbGl0Qml0cyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHZhciBudW1iZXJFbmNvZGVyID0gY29tcGlsZU51bWJlcihzcGxpdEJpdHMpO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBlbmNvZGVQYXJ0aWFsU3BsaXQoZGF0YVZpZXcsIHNlcmlhbGl6ZXIsIGRhdGEsIG1hc2tzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFzayA9IG1hc2tzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgbnVtYmVyRW5jb2Rlci5lbmNvZGUoZGF0YVZpZXcsIHNlcmlhbGl6ZXIsIG1hc2spO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXNrICYgKDEgPDwgaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5lbmNvZGVQYXJ0aWFsKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVZpZXcsIHNlcmlhbGl6ZXIsIGRhdGFbaV0sIG1hc2tzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gZGVjb2RlUGFydGlhbFNwbGl0KGRhdGFWaWV3LCBzZXJpYWxpemVyLCBvcmlnaW5hbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hc2sgPSBudW1iZXJFbmNvZGVyLmRlY29kZShkYXRhVmlldywgc2VyaWFsaXplcik7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXNrICYgKDEgPDwgaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKGVsZW1lbnQuZGVjb2RlUGFydGlhbChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFWaWV3LCBzZXJpYWxpemVyLCBvcmlnaW5hbFtpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHVzaChvcmlnaW5hbFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gYnl0ZWNvdW50U3BsaXQobWFza3MpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXNrO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vbWFzayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAobWFza3MgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc2sgPSBtYXNrcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBub21hc2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBhY2N1bSA9IG5vbWFzayA/IDAgOiBzcGxpdEJpdHMgLyA4O1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChub21hc2sgfHwgKG1hc2sgJiAoMSA8PCBpKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjdW0gKz0gZWxlbWVudC5ieXRlY291bnQobWFza3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBhY2N1bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBoYW5kbGVyID0gbmV3IEhhbmRsZXIoXHJcbiAgICAgICAgICAgICAgICBieXRlY291bnRTcGxpdCwgZW5jb2RlLCBkZWNvZGUsIGVtcHR5LCBlbmNvZGVQYXJ0aWFsU3BsaXQsXHJcbiAgICAgICAgICAgICAgICBkZWNvZGVQYXJ0aWFsU3BsaXQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGVuY29kZVBhcnRpYWwoZGF0YVZpZXcsIHNlcmlhbGl6ZXIsIGRhdGEsIG1hc2tzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5lbmNvZGVQYXJ0aWFsKGRhdGFWaWV3LCBzZXJpYWxpemVyLCBkYXRhW2ldLCBtYXNrcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gZGVjb2RlUGFydGlhbChkYXRhVmlldywgc2VyaWFsaXplciwgb3JpZ2luYWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKGVsZW1lbnQuZGVjb2RlUGFydGlhbChcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVZpZXcsIHNlcmlhbGl6ZXIsIG9yaWdpbmFsW2ldKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBieXRlY291bnQobWFza3MpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhY2N1bSA9IDA7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWNjdW0gKz0gZWxlbWVudC5ieXRlY291bnQobWFza3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjY3VtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGhhbmRsZXIgPSBuZXcgSGFuZGxlcihcclxuICAgICAgICAgICAgICAgIGJ5dGVjb3VudCwgZW5jb2RlLCBkZWNvZGUsIGVtcHR5LCBlbmNvZGVQYXJ0aWFsLCBkZWNvZGVQYXJ0aWFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaGFuZGxlci5jaGlsZHJlbiA9IHtcclxuICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcclxuICAgICAgICAgICAgY291bnQ6IGxlbmd0aCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBoYW5kbGVyO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEhhbmRsaW5nIHBvbHlhcnJheXNcclxuXHJcbiAgICBmdW5jdGlvbiBjb21waWxlUG9seWFycmF5KHByb3BlcnRpZXMsIHNwbGl0Qml0cykge1xyXG4gICAgICAgIHZhciBsZW5ndGggPSBwcm9wZXJ0aWVzLmxlbmd0aDtcclxuICAgICAgICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICAgICAgICAgJ1BvbHlhcnJheSB0eXBlIHJlcXVpcmVzIGFuIGFycmF5IG9mIEhhbmRsZXIgb2JqZWN0cycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24ocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgaWYgKCEocHJvcGVydHkgaW5zdGFuY2VvZiBIYW5kbGVyKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICAgICAgICAgICAgICdQb2x5YXJyYXkgdHlwZSByZXF1aXJlcyBhbiBhcnJheSBvZiBIYW5kbGVyIG9iamVjdHMnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZ1bmN0aW9uIGVuY29kZShkYXRhVmlldywgc2VyaWFsaXplciwgZGF0YSkge1xyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24ocHJvcGVydHksIGlkeCkge1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydHkuZW5jb2RlKGRhdGFWaWV3LCBzZXJpYWxpemVyLCBkYXRhW2lkeF0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZGVjb2RlKGRhdGFWaWV3LCBzZXJpYWxpemVyKSB7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gW107XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbihwcm9wZXJ0eSwgaWR4KSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2gocHJvcGVydHkuZGVjb2RlKGRhdGFWaWV3LCBzZXJpYWxpemVyKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZW1wdHkoKSB7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gW107XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbihwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKHByb3BlcnR5LmVtcHR5KCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBoYW5kbGVyO1xyXG4gICAgICAgIHZhciBieXRlQ291bnQgPSBwcm9wZXJ0aWVzLnJlZHVjZShmdW5jdGlvbihhY2N1bSwgdikge1xyXG4gICAgICAgICAgICByZXR1cm4gYWNjdW0gKyB2LmJ5dGVjb3VudDtcclxuICAgICAgICB9LCAwKTtcclxuICAgICAgICBpZiAoc3BsaXRCaXRzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdmFyIG51bWJlckVuY29kZXIgPSBjb21waWxlTnVtYmVyKHNwbGl0Qml0cyk7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGVuY29kZVBhcnRpYWxTcGxpdChkYXRhVmlldywgc2VyaWFsaXplciwgZGF0YSwgbWFza3MpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXNrID0gbWFza3MucG9wKCk7XHJcbiAgICAgICAgICAgICAgICBudW1iZXJFbmNvZGVyLmVuY29kZShkYXRhVmlldywgc2VyaWFsaXplciwgbWFzayk7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24ocHJvcGVydHksIGlkeCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXNrICYgKDEgPDwgaWR4KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5lbmNvZGVQYXJ0aWFsKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVZpZXcsIHNlcmlhbGl6ZXIsIGRhdGFbaWR4XSwgbWFza3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRlY29kZVBhcnRpYWxTcGxpdChkYXRhVmlldywgc2VyaWFsaXplciwgb3JpZ2luYWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXNrID0gbnVtYmVyRW5jb2Rlci5kZWNvZGUoZGF0YVZpZXcsIHNlcmlhbGl6ZXIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBbXTtcclxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbihwcm9wZXJ0eSwgaWR4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hc2sgJiAoMSA8PCBpZHgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHVzaChwcm9wZXJ0eS5kZWNvZGVQYXJ0aWFsKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVZpZXcsIHNlcmlhbGl6ZXIsIG9yaWdpbmFsW2lkeF0pKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnB1c2gob3JpZ2luYWxbaWR4XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBieXRlY291bnRTcGxpdChtYXNrcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hc2s7XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9tYXNrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChtYXNrcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzayA9IG1hc2tzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vbWFzayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3BlcnRpZXMucmVkdWNlKGZ1bmN0aW9uKGFjY3VtLCB2LCBpZHgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW5vbWFzayAmJiAoIShtYXNrICYgKDEgPDwgaWR4KSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2N1bTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjY3VtICsgdi5ieXRlY291bnQobWFza3MpO1xyXG4gICAgICAgICAgICAgICAgfSwgbm9tYXNrID8gMCA6IHNwbGl0Qml0cyAvIDgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGhhbmRsZXIgPSBuZXcgSGFuZGxlcihcclxuICAgICAgICAgICAgICAgIGJ5dGVjb3VudFNwbGl0LCBlbmNvZGUsIGRlY29kZSwgZW1wdHksIGVuY29kZVBhcnRpYWxTcGxpdCxcclxuICAgICAgICAgICAgICAgIGRlY29kZVBhcnRpYWxTcGxpdCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gZW5jb2RlUGFydGlhbChkYXRhVmlldywgc2VyaWFsaXplciwgZGF0YSwgbWFza3MpIHtcclxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbihwcm9wZXJ0eSwgaWR4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkuZW5jb2RlUGFydGlhbChcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVZpZXcsIHNlcmlhbGl6ZXIsIGRhdGFbaWR4XSwgbWFza3MpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gZGVjb2RlUGFydGlhbChkYXRhVmlldywgc2VyaWFsaXplciwgb3JpZ2luYWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gW107XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24ocHJvcGVydHksIGlkeCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEucHVzaChwcm9wZXJ0eS5kZWNvZGVQYXJ0aWFsKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVmlldywgc2VyaWFsaXplciwgb3JpZ2luYWxbaWR4XSkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBieXRlY291bnQobWFza3MpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0aWVzLnJlZHVjZShmdW5jdGlvbihhY2N1bSwgdikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2N1bSArIHYuYnl0ZWNvdW50KG1hc2tzKTtcclxuICAgICAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGhhbmRsZXIgPSBuZXcgSGFuZGxlcihcclxuICAgICAgICAgICAgICAgIGJ5dGVjb3VudCwgZW5jb2RlLCBkZWNvZGUsIGVtcHR5LCBlbmNvZGVQYXJ0aWFsLCBkZWNvZGVQYXJ0aWFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaGFuZGxlci5jaGlsZHJlbiA9IHByb3BlcnRpZXM7XHJcbiAgICAgICAgcmV0dXJuIGhhbmRsZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSGFuZGxpbmcgbWFwc1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbXBpbGVNYXAocHJvcGVydGllcywgc3BsaXRCaXRzKSB7XHJcbiAgICAgICAgdmFyIGxlbmd0aCA9IHByb3BlcnRpZXMubGVuZ3RoO1xyXG4gICAgICAgIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICAgICAnTWFwIHR5cGUgcmVxdWlyZXMgYW4gYXJyYXkgb2YgJyArXHJcbiAgICAgICAgICAgICAgICAne2tleTogU3RyaW5nLCBlbGVtZW50OiBIYW5kbGVyfSBtYXBzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbihwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICBpZiAocHJvcGVydHkua2V5ID09PSB1bmRlZmluZWQgfHxcclxuICAgICAgICAgICAgICAgICEocHJvcGVydHkuZWxlbWVudCBpbnN0YW5jZW9mIEhhbmRsZXIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICAgICAgICAgJ01hcCB0eXBlIHJlcXVpcmVzIGFuIGFycmF5IG9mICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICd7a2V5OiBTdHJpbmcsIGVsZW1lbnQ6IEhhbmRsZXJ9IG1hcHMnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChzcGxpdEJpdHMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24ocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eS5wYXJ0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYXAgdHlwZSByZXF1aXJlcyBhbiBhcnJheSBvZiAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3trZXk6IFN0cmluZywgZWxlbWVudDogSGFuZGxlciwgcGFydDogTnVtYmVyfScgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnIG1hcHMgd2hlbiBzcGxpdCBiaXRzIGFyZSBkZWZpbmVkJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBlbmNvZGUoZGF0YVZpZXcsIHNlcmlhbGl6ZXIsIGRhdGEpIHtcclxuICAgICAgICAgICAgcHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS5lbGVtZW50LmVuY29kZShcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVmlldywgc2VyaWFsaXplciwgZGF0YVtwcm9wZXJ0eS5rZXldKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGRlY29kZShkYXRhVmlldywgc2VyaWFsaXplcikge1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24ocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFbcHJvcGVydHkua2V5XSA9XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkuZWxlbWVudC5kZWNvZGUoZGF0YVZpZXcsIHNlcmlhbGl6ZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGVtcHR5KCkge1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24ocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFbcHJvcGVydHkua2V5XSA9IHByb3BlcnR5LmVsZW1lbnQuZW1wdHkoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaGFuZGxlcjtcclxuICAgICAgICBpZiAoc3BsaXRCaXRzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdmFyIG51bWJlckVuY29kZXIgPSBjb21waWxlTnVtYmVyKHNwbGl0Qml0cyk7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGVuY29kZVBhcnRpYWxTcGxpdChkYXRhVmlldywgc2VyaWFsaXplciwgZGF0YSwgbWFza3MpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXNrID0gbWFza3MucG9wKCk7XHJcbiAgICAgICAgICAgICAgICBudW1iZXJFbmNvZGVyLmVuY29kZShkYXRhVmlldywgc2VyaWFsaXplciwgbWFzayk7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24ocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWFzayAmICgxIDw8IHByb3BlcnR5LnBhcnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LmVsZW1lbnQuZW5jb2RlUGFydGlhbChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFWaWV3LCBzZXJpYWxpemVyLCBkYXRhW3Byb3BlcnR5LmtleV0sIG1hc2tzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBkZWNvZGVQYXJ0aWFsU3BsaXQoZGF0YVZpZXcsIHNlcmlhbGl6ZXIsIG9yaWdpbmFsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFzayA9IG51bWJlckVuY29kZXIuZGVjb2RlKGRhdGFWaWV3LCBzZXJpYWxpemVyKTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24ocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWFzayAmICgxIDw8IHByb3BlcnR5LnBhcnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbcHJvcGVydHkua2V5XSA9IHByb3BlcnR5LmVsZW1lbnQuZGVjb2RlUGFydGlhbChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFWaWV3LCBzZXJpYWxpemVyLCBvcmlnaW5hbFtwcm9wZXJ0eS5rZXldKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW3Byb3BlcnR5LmtleV0gPSBvcmlnaW5hbFtwcm9wZXJ0eS5rZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gYnl0ZWNvdW50U3BsaXQobWFza3MpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXNrO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vbWFzayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAobWFza3MgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc2sgPSBtYXNrcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBub21hc2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0aWVzLnJlZHVjZShmdW5jdGlvbihhY2N1bSwgdikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbm9tYXNrICYmICghKG1hc2sgJiAoMSA8PCB2LnBhcnQpKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjY3VtO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjdW0gKyB2LmVsZW1lbnQuYnl0ZWNvdW50KG1hc2tzKTtcclxuICAgICAgICAgICAgICAgIH0sIG5vbWFzayA/IDAgOiBzcGxpdEJpdHMgLyA4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBoYW5kbGVyID0gbmV3IEhhbmRsZXIoXHJcbiAgICAgICAgICAgICAgICBieXRlY291bnRTcGxpdCwgZW5jb2RlLCBkZWNvZGUsIGVtcHR5LCBlbmNvZGVQYXJ0aWFsU3BsaXQsXHJcbiAgICAgICAgICAgICAgICBkZWNvZGVQYXJ0aWFsU3BsaXQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGVuY29kZVBhcnRpYWwoZGF0YVZpZXcsIHNlcmlhbGl6ZXIsIGRhdGEsIG1hc2tzKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24ocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5lbGVtZW50LmVuY29kZVBhcnRpYWwoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFWaWV3LCBzZXJpYWxpemVyLCBkYXRhW3Byb3BlcnR5LmtleV0sIG1hc2tzKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRlY29kZVBhcnRpYWwoZGF0YVZpZXcsIHNlcmlhbGl6ZXIsIG9yaWdpbmFsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtwcm9wZXJ0eS5rZXldID0gcHJvcGVydHkuZWxlbWVudC5kZWNvZGVQYXJ0aWFsKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVmlldywgc2VyaWFsaXplciwgb3JpZ2luYWxbcHJvcGVydHkua2V5XSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGJ5dGVjb3VudChtYXNrcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3BlcnRpZXMucmVkdWNlKGZ1bmN0aW9uKGFjY3VtLCB2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjY3VtICsgdi5lbGVtZW50LmJ5dGVjb3VudChtYXNrcyk7XHJcbiAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBoYW5kbGVyID0gbmV3IEhhbmRsZXIoXHJcbiAgICAgICAgICAgICAgICBieXRlY291bnQsIGVuY29kZSwgZGVjb2RlLCBlbXB0eSwgZW5jb2RlUGFydGlhbCwgZGVjb2RlUGFydGlhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhhbmRsZXIuY2hpbGRyZW4gPSBwcm9wZXJ0aWVzO1xyXG4gICAgICAgIHJldHVybiBoYW5kbGVyO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIEhhbmRsZXIoXHJcbiAgICAgICAgYnl0ZWNvdW50LCBlbmNvZGUsIGRlY29kZSwgZW1wdHksIGVuY29kZVBhcnRpYWwsIGRlY29kZVBhcnRpYWwpIHtcclxuICAgICAgICBlbmNvZGVQYXJ0aWFsID0gZW5jb2RlUGFydGlhbCB8fCBlbmNvZGU7XHJcbiAgICAgICAgZGVjb2RlUGFydGlhbCA9IGRlY29kZVBhcnRpYWwgfHwgZGVjb2RlO1xyXG4gICAgICAgIHRoaXMuYnl0ZWNvdW50ID0gYnl0ZWNvdW50O1xyXG4gICAgICAgIHRoaXMuZW5jb2RlID0gZW5jb2RlO1xyXG4gICAgICAgIHRoaXMuZGVjb2RlID0gZGVjb2RlO1xyXG4gICAgICAgIHRoaXMuZW5jb2RlUGFydGlhbCA9IGVuY29kZVBhcnRpYWw7XHJcbiAgICAgICAgdGhpcy5kZWNvZGVQYXJ0aWFsID0gZGVjb2RlUGFydGlhbDtcclxuICAgICAgICB0aGlzLmVtcHR5ID0gZW1wdHk7XHJcbiAgICB9XHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnZmx5YnJpeENvbW1vbicpLmZhY3RvcnkoJ2Zpcm13YXJlVmVyc2lvbicsIGZpcm13YXJlVmVyc2lvbik7XHJcblxyXG4gICAgZmlybXdhcmVWZXJzaW9uLiRpbmplY3QgPSBbJ2NvbmZpZ0hhbmRsZXInLCAnc2VyaWFsaXphdGlvbkhhbmRsZXInXTtcclxuXHJcbiAgICBmdW5jdGlvbiBmaXJtd2FyZVZlcnNpb24oY29uZmlnSGFuZGxlciwgc2VyaWFsaXphdGlvbkhhbmRsZXIpIHtcclxuICAgICAgICB2YXIgdmVyc2lvbiA9IFswLCAwLCAwXTtcclxuICAgICAgICB2YXIga2V5ID0gJzAuMC4wJztcclxuICAgICAgICB2YXIgc3VwcG9ydGVkID0ge1xyXG4gICAgICAgICAgICAnMS40LjAnOiB0cnVlLFxyXG4gICAgICAgICAgICAnMS41LjAnOiB0cnVlLFxyXG4gICAgICAgICAgICAnMS42LjAnOiB0cnVlLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBkZXNpcmVkID0gWzEsIDYsIDBdO1xyXG4gICAgICAgIHZhciBkZXNpcmVkS2V5ID0gJzEuNi4wJztcclxuXHJcbiAgICAgICAgdmFyIGRlZmF1bHRDb25maWdIYW5kbGVyID0gY29uZmlnSGFuZGxlcltkZXNpcmVkS2V5XTtcclxuICAgICAgICB2YXIgY3VycmVudENvbmZpZ0hhbmRsZXIgPSBkZWZhdWx0Q29uZmlnSGFuZGxlcjtcclxuICAgICAgICB2YXIgZGVmYXVsdFNlcmlhbGl6YXRpb25IYW5kbGVyID0gc2VyaWFsaXphdGlvbkhhbmRsZXIuZ2V0SGFuZGxlcihkZXNpcmVkS2V5KTtcclxuICAgICAgICB2YXIgY3VycmVudFNlcmlhbGl6YXRpb25IYW5kbGVyID0gZGVmYXVsdFNlcmlhbGl6YXRpb25IYW5kbGVyO1xyXG5cclxuICAgICAgICB2YXIgZmllbGRWZXJzaW9uTWFza3MgPSB7XHJcbiAgICAgICAgICAgICcxLjQuMCc6IDB4N0ZGRkZGRixcclxuICAgICAgICAgICAgJzEuNS4wJzogMHg3RkZGRkZGLFxyXG4gICAgICAgICAgICAnMS42LjAnOiAweDdGRkZGRkYsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgc3RhdGVNYXNrID0gMHhGRkZGRkZGRjtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmVyc2lvbiA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAga2V5ID0gdmFsdWUuam9pbignLicpO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudENvbmZpZ0hhbmRsZXIgPVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ0hhbmRsZXJba2V5XSB8fCBkZWZhdWx0Q29uZmlnSGFuZGxlcjtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXJpYWxpemF0aW9uSGFuZGxlciA9XHJcbiAgICAgICAgICAgICAgICAgICAgc2VyaWFsaXphdGlvbkhhbmRsZXIuZ2V0SGFuZGxlcihkZXNpcmVkS2V5KSB8fCBkZWZhdWx0U2VyaWFsaXphdGlvbkhhbmRsZXI7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZU1hc2sgPSBmaWVsZFZlcnNpb25NYXNrc1trZXldIHx8IDB4RkZGRkZGRkY7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmVyc2lvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAga2V5OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1cHBvcnRlZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VwcG9ydGVkW2tleV0gPT09IHRydWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRlc2lyZWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlc2lyZWQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRlc2lyZWRLZXk6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlc2lyZWRLZXk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbmZpZ0hhbmRsZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRDb25maWdIYW5kbGVyO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXJpYWxpemF0aW9uSGFuZGxlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudFNlcmlhbGl6YXRpb25IYW5kbGVyO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdGF0ZU1hc2s6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlTWFzaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG59KCkpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2ZseWJyaXhDb21tb24nKS5mYWN0b3J5KCdsZWQnLCBsZWQpO1xyXG5cclxuICAgIGxlZC4kaW5qZWN0ID0gWydkZXZpY2VDb25maWcnXTtcclxuXHJcbiAgICBmdW5jdGlvbiBsZWQoZGV2aWNlQ29uZmlnKSB7XHJcbiAgICAgICAgdmFyIExlZFBhdHRlcm5zID0ge1xyXG4gICAgICAgICAgICBOT19PVkVSUklERTogMCxcclxuICAgICAgICAgICAgRkxBU0g6IDEsXHJcbiAgICAgICAgICAgIEJFQUNPTjogMixcclxuICAgICAgICAgICAgQlJFQVRIRTogMyxcclxuICAgICAgICAgICAgQUxURVJOQVRFOiA0LFxyXG4gICAgICAgICAgICBTT0xJRDogNSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIga2V5cyA9IFsncmlnaHRfZnJvbnQnLCAncmlnaHRfYmFjaycsICdsZWZ0X2Zyb250JywgJ2xlZnRfYmFjayddO1xyXG4gICAgICAgIHZhciBjb2xvcnMgPSB7fTtcclxuXHJcbiAgICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xyXG4gICAgICAgICAgICBjb2xvcnNba2V5XSA9IHtcclxuICAgICAgICAgICAgICAgIHJlZDogMCxcclxuICAgICAgICAgICAgICAgIGdyZWVuOiAwLFxyXG4gICAgICAgICAgICAgICAgYmx1ZTogMCxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgbGVkU3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHN0YXR1czogNjU1MzUsXHJcbiAgICAgICAgICAgIHBhdHRlcm46IExlZFBhdHRlcm5zLlNPTElELFxyXG4gICAgICAgICAgICBjb2xvcnM6IGNvbG9ycyxcclxuICAgICAgICAgICAgaW5kaWNhdG9yX3JlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGluZGljYXRvcl9ncmVlbjogZmFsc2UsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgY29uZmlnUGFydCA9IHtsZWRTdGF0ZXM6IFtsZWRTdGF0ZV19O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXQoXHJcbiAgICAgICAgICAgIGNvbG9yX3JmLCBjb2xvcl9yYiwgY29sb3JfbGYsIGNvbG9yX2xiLCBwYXR0ZXJuLCByZWQsIGdyZWVuKSB7XHJcbiAgICAgICAgICAgIGlmIChwYXR0ZXJuID4gMCAmJiBwYXR0ZXJuIDwgNikge1xyXG4gICAgICAgICAgICAgICAgbGVkU3RhdGUucGF0dGVybiA9IHBhdHRlcm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgW2NvbG9yX3JmLCBjb2xvcl9yYiwgY29sb3JfbGYsIGNvbG9yX2xiXS5mb3JFYWNoKGZ1bmN0aW9uKFxyXG4gICAgICAgICAgICAgICAgY29sb3IsIGlkeCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciB2ID0gY29sb3JzW2tleXNbaWR4XV07XHJcbiAgICAgICAgICAgICAgICB2LnJlZCA9IGNvbG9yLnJlZDtcclxuICAgICAgICAgICAgICAgIHYuZ3JlZW4gPSBjb2xvci5ncmVlbjtcclxuICAgICAgICAgICAgICAgIHYuYmx1ZSA9IGNvbG9yLmJsdWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAocmVkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGxlZFN0YXRlLmluZGljYXRvcl9yZWQgPSByZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGdyZWVuICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGxlZFN0YXRlLmluZGljYXRvcl9ncmVlbiA9IGdyZWVuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhcHBseSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0U2ltcGxlKHJlZCwgZ3JlZW4sIGJsdWUpIHtcclxuICAgICAgICAgICAgdmFyIGNvbG9yID0ge3JlZDogcmVkIHx8IDAsIGdyZWVuOiBncmVlbiB8fCAwLCBibHVlOiBibHVlIHx8IDB9O1xyXG4gICAgICAgICAgICBzZXQoY29sb3IsIGNvbG9yLCBjb2xvciwgY29sb3IsIExlZFBhdHRlcm5zLlNPTElEKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFwcGx5KCkge1xyXG4gICAgICAgICAgICBkZXZpY2VDb25maWcuc2VuZFBhcnRpYWwoXHJcbiAgICAgICAgICAgICAgICBkZXZpY2VDb25maWcuZmllbGQuTEVEX1NUQVRFUywgIC8vIFNldCBMRUQgc3RhdGUgcGFydFxyXG4gICAgICAgICAgICAgICAgMSwgICAgICAgICAgIC8vIG1vcmUgc3BlY2lmaWNhbGx5LCB0aGUgZmlyc3Qgc3RhdGUgMl4wID0gMVxyXG4gICAgICAgICAgICAgICAgY29uZmlnUGFydCwgIC8vIHRvIG91ciBwYXJ0aWFsIGNvbmZpZ3VyYXRpb25cclxuICAgICAgICAgICAgICAgIHRydWUgIC8vIGFuZCBzZXQgdGhlIFwidGVtcG9yYXJ5XCIgZmxhZywgbm90IGNoYW5naW5nIEVFUFJPTVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHNldDogc2V0LFxyXG4gICAgICAgICAgICBzZXRTaW1wbGU6IHNldFNpbXBsZSxcclxuICAgICAgICAgICAgcGF0dGVybnM6IExlZFBhdHRlcm5zLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG59KCkpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2ZseWJyaXhDb21tb24nKS5mYWN0b3J5KCdwYXJzZXInLCBwYXJzZXIpO1xyXG5cclxuICAgIHBhcnNlci4kaW5qZWN0ID0gWydjb21tYW5kTG9nJywgJ2VuY29kYWJsZScsICdmaXJtd2FyZVZlcnNpb24nXTtcclxuXHJcbiAgICBmdW5jdGlvbiBwYXJzZXIoY29tbWFuZExvZywgZW5jb2RhYmxlLCBmaXJtd2FyZVZlcnNpb24pIHtcclxuICAgICAgICB2YXIgTWVzc2FnZVR5cGUgPSB7XHJcbiAgICAgICAgICAgIFN0YXRlOiAwLFxyXG4gICAgICAgICAgICBDb21tYW5kOiAxLFxyXG4gICAgICAgICAgICBEZWJ1Z1N0cmluZzogMyxcclxuICAgICAgICAgICAgSGlzdG9yeURhdGE6IDQsXHJcbiAgICAgICAgICAgIFJlc3BvbnNlOiAyNTUsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIENvbW1hbmRGaWVsZHMgPSB7XHJcbiAgICAgICAgICAgIENPTV9SRVFfUkVTUE9OU0U6IDEgPDwgMCxcclxuICAgICAgICAgICAgQ09NX1NFVF9FRVBST01fREFUQTogMSA8PCAxLFxyXG4gICAgICAgICAgICBDT01fUkVJTklUX0VFUFJPTV9EQVRBOiAxIDw8IDIsXHJcbiAgICAgICAgICAgIENPTV9SRVFfRUVQUk9NX0RBVEE6IDEgPDwgMyxcclxuICAgICAgICAgICAgQ09NX1JFUV9FTkFCTEVfSVRFUkFUSU9OOiAxIDw8IDQsXHJcbiAgICAgICAgICAgIENPTV9NT1RPUl9PVkVSUklERV9TUEVFRF8wOiAxIDw8IDUsXHJcbiAgICAgICAgICAgIENPTV9NT1RPUl9PVkVSUklERV9TUEVFRF8xOiAxIDw8IDYsXHJcbiAgICAgICAgICAgIENPTV9NT1RPUl9PVkVSUklERV9TUEVFRF8yOiAxIDw8IDcsXHJcbiAgICAgICAgICAgIENPTV9NT1RPUl9PVkVSUklERV9TUEVFRF8zOiAxIDw8IDgsXHJcbiAgICAgICAgICAgIENPTV9NT1RPUl9PVkVSUklERV9TUEVFRF80OiAxIDw8IDksXHJcbiAgICAgICAgICAgIENPTV9NT1RPUl9PVkVSUklERV9TUEVFRF81OiAxIDw8IDEwLFxyXG4gICAgICAgICAgICBDT01fTU9UT1JfT1ZFUlJJREVfU1BFRURfNjogMSA8PCAxMSxcclxuICAgICAgICAgICAgQ09NX01PVE9SX09WRVJSSURFX1NQRUVEXzc6IDEgPDwgMTIsXHJcbiAgICAgICAgICAgIENPTV9NT1RPUl9PVkVSUklERV9TUEVFRF9BTEw6ICgxIDw8IDUpIHwgKDEgPDwgNikgfCAoMSA8PCA3KSB8XHJcbiAgICAgICAgICAgICAgICAoMSA8PCA4KSB8ICgxIDw8IDkpIHwgKDEgPDwgMTApIHwgKDEgPDwgMTEpIHwgKDEgPDwgMTIpLFxyXG4gICAgICAgICAgICBDT01fU0VUX0NPTU1BTkRfT1ZFUlJJREU6IDEgPDwgMTMsXHJcbiAgICAgICAgICAgIENPTV9TRVRfU1RBVEVfTUFTSzogMSA8PCAxNCxcclxuICAgICAgICAgICAgQ09NX1NFVF9TVEFURV9ERUxBWTogMSA8PCAxNSxcclxuICAgICAgICAgICAgQ09NX1NFVF9TRF9XUklURV9ERUxBWTogMSA8PCAxNixcclxuICAgICAgICAgICAgQ09NX1NFVF9MRUQ6IDEgPDwgMTcsXHJcbiAgICAgICAgICAgIENPTV9TRVRfU0VSSUFMX1JDOiAxIDw8IDE4LFxyXG4gICAgICAgICAgICBDT01fU0VUX0NBUkRfUkVDT1JESU5HOiAxIDw8IDE5LFxyXG4gICAgICAgICAgICBDT01fU0VUX1BBUlRJQUxfRUVQUk9NX0RBVEE6IDEgPDwgMjAsXHJcbiAgICAgICAgICAgIENPTV9SRUlOSVRfUEFSVElBTF9FRVBST01fREFUQTogMSA8PCAyMSxcclxuICAgICAgICAgICAgQ09NX1JFUV9QQVJUSUFMX0VFUFJPTV9EQVRBOiAxIDw8IDIyLFxyXG4gICAgICAgICAgICBDT01fUkVRX0NBUkRfUkVDT1JESU5HX1NUQVRFOiAxIDw8IDIzLFxyXG4gICAgICAgICAgICBDT01fU0VUX1BBUlRJQUxfVEVNUE9SQVJZX0NPTkZJRzogMSA8PCAyNCxcclxuICAgICAgICAgICAgQ09NX1NFVF9DT01NQU5EX1NPVVJDRVM6IDEgPDwgMjUsXHJcbiAgICAgICAgICAgIENPTV9TRVRfQ0FMSUJSQVRJT046IDEgPDwgMjYsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIFN0YXRlRmllbGRzID0ge1xyXG4gICAgICAgICAgICBTVEFURV9BTEw6IDB4RkZGRkZGRkYsXHJcbiAgICAgICAgICAgIFNUQVRFX05PTkU6IDAsXHJcbiAgICAgICAgICAgIFNUQVRFX01JQ1JPUzogMSA8PCAwLFxyXG4gICAgICAgICAgICBTVEFURV9TVEFUVVM6IDEgPDwgMSxcclxuICAgICAgICAgICAgU1RBVEVfVjA6IDEgPDwgMixcclxuICAgICAgICAgICAgU1RBVEVfSTA6IDEgPDwgMyxcclxuICAgICAgICAgICAgU1RBVEVfSTE6IDEgPDwgNCxcclxuICAgICAgICAgICAgU1RBVEVfQUNDRUw6IDEgPDwgNSxcclxuICAgICAgICAgICAgU1RBVEVfR1lSTzogMSA8PCA2LFxyXG4gICAgICAgICAgICBTVEFURV9NQUc6IDEgPDwgNyxcclxuICAgICAgICAgICAgU1RBVEVfVEVNUEVSQVRVUkU6IDEgPDwgOCxcclxuICAgICAgICAgICAgU1RBVEVfUFJFU1NVUkU6IDEgPDwgOSxcclxuICAgICAgICAgICAgU1RBVEVfUlhfUFBNOiAxIDw8IDEwLFxyXG4gICAgICAgICAgICBTVEFURV9BVVhfQ0hBTl9NQVNLOiAxIDw8IDExLFxyXG4gICAgICAgICAgICBTVEFURV9DT01NQU5EUzogMSA8PCAxMixcclxuICAgICAgICAgICAgU1RBVEVfRl9BTkRfVDogMSA8PCAxMyxcclxuICAgICAgICAgICAgU1RBVEVfUElEX0ZaX01BU1RFUjogMSA8PCAxNCxcclxuICAgICAgICAgICAgU1RBVEVfUElEX1RYX01BU1RFUjogMSA8PCAxNSxcclxuICAgICAgICAgICAgU1RBVEVfUElEX1RZX01BU1RFUjogMSA8PCAxNixcclxuICAgICAgICAgICAgU1RBVEVfUElEX1RaX01BU1RFUjogMSA8PCAxNyxcclxuICAgICAgICAgICAgU1RBVEVfUElEX0ZaX1NMQVZFOiAxIDw8IDE4LFxyXG4gICAgICAgICAgICBTVEFURV9QSURfVFhfU0xBVkU6IDEgPDwgMTksXHJcbiAgICAgICAgICAgIFNUQVRFX1BJRF9UWV9TTEFWRTogMSA8PCAyMCxcclxuICAgICAgICAgICAgU1RBVEVfUElEX1RaX1NMQVZFOiAxIDw8IDIxLFxyXG4gICAgICAgICAgICBTVEFURV9NT1RPUl9PVVQ6IDEgPDwgMjIsXHJcbiAgICAgICAgICAgIFNUQVRFX0tJTkVfQU5HTEU6IDEgPDwgMjMsXHJcbiAgICAgICAgICAgIFNUQVRFX0tJTkVfUkFURTogMSA8PCAyNCxcclxuICAgICAgICAgICAgU1RBVEVfS0lORV9BTFRJVFVERTogMSA8PCAyNSxcclxuICAgICAgICAgICAgU1RBVEVfTE9PUF9DT1VOVDogMSA8PCAyNixcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgU3RhdHVzQ29kZXMgPSB7XHJcbiAgICAgICAgICAgIFNUQVRVU19CT09UOiAweDAwMDEsXHJcbiAgICAgICAgICAgIFNUQVRVU19NUFVfRkFJTDogMHgwMDAyLFxyXG4gICAgICAgICAgICBTVEFUVVNfQk1QX0ZBSUw6IDB4MDAwNCxcclxuICAgICAgICAgICAgU1RBVFVTX1JYX0ZBSUw6IDB4MDAwOCxcclxuXHJcbiAgICAgICAgICAgIFNUQVRVU19JRExFOiAweDAwMTAsXHJcblxyXG4gICAgICAgICAgICBTVEFUVVNfRU5BQkxJTkc6IDB4MDAyMCxcclxuICAgICAgICAgICAgU1RBVFVTX0NMRUFSX01QVV9CSUFTOiAweDAwNDAsXHJcbiAgICAgICAgICAgIFNUQVRVU19TRVRfTVBVX0JJQVM6IDB4MDA4MCxcclxuXHJcbiAgICAgICAgICAgIFNUQVRVU19GQUlMX1NUQUJJTElUWTogMHgwMTAwLFxyXG4gICAgICAgICAgICBTVEFUVVNfRkFJTF9BTkdMRTogMHgwMjAwLFxyXG4gICAgICAgICAgICBTVEFUVVNfRkFJTF9PVEhFUjogMHg0MDAwLFxyXG5cclxuICAgICAgICAgICAgU1RBVFVTX0VOQUJMRUQ6IDB4MDQwMCxcclxuICAgICAgICAgICAgU1RBVFVTX0JBVFRFUllfTE9XOiAweDA4MDAsXHJcblxyXG4gICAgICAgICAgICBTVEFUVVNfVEVNUF9XQVJOSU5HOiAweDEwMDAsXHJcbiAgICAgICAgICAgIFNUQVRVU19MT0dfRlVMTDogMHgyMDAwLFxyXG4gICAgICAgICAgICBTVEFUVVNfT1ZFUlJJREU6IDB4ODAwMCxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgbGFzdF90aW1lc3RhbXBfdXMgPSAwO1xyXG5cclxuICAgICAgICB2YXIgc3RhdGVIYW5kbGVyID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgZSA9IGVuY29kYWJsZTtcclxuICAgICAgICAgICAgdmFyIHBpZEhhbmRsZXIgPSBlLnBvbHlhcnJheShbXHJcbiAgICAgICAgICAgICAgICBlLlVpbnQzMiwgZS5GbG9hdDMyLCBlLkZsb2F0MzIsIGUuRmxvYXQzMiwgZS5GbG9hdDMyLCBlLkZsb2F0MzJcclxuICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIHJldHVybiBlLm1hcChbXHJcbiAgICAgICAgICAgICAgICB7a2V5OiAndGltZXN0YW1wX3VzJywgZWxlbWVudDogZS5VaW50MzJ9LFxyXG4gICAgICAgICAgICAgICAge2tleTogJ3N0YXR1cycsIGVsZW1lbnQ6IGUuVWludDE2fSxcclxuICAgICAgICAgICAgICAgIHtrZXk6ICdWMF9yYXcnLCBlbGVtZW50OiBlLlVpbnQxNn0sXHJcbiAgICAgICAgICAgICAgICB7a2V5OiAnSTBfcmF3JywgZWxlbWVudDogZS5VaW50MTZ9LFxyXG4gICAgICAgICAgICAgICAge2tleTogJ0kxX3JhdycsIGVsZW1lbnQ6IGUuVWludDE2fSxcclxuICAgICAgICAgICAgICAgIHtrZXk6ICdhY2NlbCcsIGVsZW1lbnQ6IGUuYXJyYXkoMywgZS5GbG9hdDMyKX0sXHJcbiAgICAgICAgICAgICAgICB7a2V5OiAnZ3lybycsIGVsZW1lbnQ6IGUuYXJyYXkoMywgZS5GbG9hdDMyKX0sXHJcbiAgICAgICAgICAgICAgICB7a2V5OiAnbWFnJywgZWxlbWVudDogZS5hcnJheSgzLCBlLkZsb2F0MzIpfSxcclxuICAgICAgICAgICAgICAgIHtrZXk6ICd0ZW1wZXJhdHVyZScsIGVsZW1lbnQ6IGUuVWludDE2fSxcclxuICAgICAgICAgICAgICAgIHtrZXk6ICdwcmVzc3VyZScsIGVsZW1lbnQ6IGUuVWludDMyfSxcclxuICAgICAgICAgICAgICAgIHtrZXk6ICdwcG0nLCBlbGVtZW50OiBlLmFycmF5KDYsIGUuSW50MTYpfSxcclxuICAgICAgICAgICAgICAgIHtrZXk6ICdBVVhfY2hhbl9tYXNrJywgZWxlbWVudDogZS5VaW50OH0sXHJcbiAgICAgICAgICAgICAgICAvLyB0aHJvdHRsZSwgcGl0Y2gsIHJvbGwsIHlhd1xyXG4gICAgICAgICAgICAgICAge2tleTogJ2NvbW1hbmQnLCBlbGVtZW50OiBlLmFycmF5KDQsIGUuSW50MTYpfSxcclxuICAgICAgICAgICAgICAgIC8vIEZ6LCBUeCwgVHksIFR6XHJcbiAgICAgICAgICAgICAgICB7a2V5OiAnY29udHJvbCcsIGVsZW1lbnQ6IGUuYXJyYXkoNCwgZS5GbG9hdDMyKX0sXHJcbiAgICAgICAgICAgICAgICAvLyB0aW1lLCBpbnB1dCwgc2V0cG9pbnQsIHBfdGVybSwgaV90ZXJtLCBkX3Rlcm1cclxuICAgICAgICAgICAgICAgIHtrZXk6ICdwaWRfbWFzdGVyX0Z6JywgZWxlbWVudDogcGlkSGFuZGxlcn0sXHJcbiAgICAgICAgICAgICAgICB7a2V5OiAncGlkX21hc3Rlcl9UeCcsIGVsZW1lbnQ6IHBpZEhhbmRsZXJ9LFxyXG4gICAgICAgICAgICAgICAge2tleTogJ3BpZF9tYXN0ZXJfVHknLCBlbGVtZW50OiBwaWRIYW5kbGVyfSxcclxuICAgICAgICAgICAgICAgIHtrZXk6ICdwaWRfbWFzdGVyX1R6JywgZWxlbWVudDogcGlkSGFuZGxlcn0sXHJcbiAgICAgICAgICAgICAgICB7a2V5OiAncGlkX3NsYXZlX0Z6JywgZWxlbWVudDogcGlkSGFuZGxlcn0sXHJcbiAgICAgICAgICAgICAgICB7a2V5OiAncGlkX3NsYXZlX1R4JywgZWxlbWVudDogcGlkSGFuZGxlcn0sXHJcbiAgICAgICAgICAgICAgICB7a2V5OiAncGlkX3NsYXZlX1R5JywgZWxlbWVudDogcGlkSGFuZGxlcn0sXHJcbiAgICAgICAgICAgICAgICB7a2V5OiAncGlkX3NsYXZlX1R6JywgZWxlbWVudDogcGlkSGFuZGxlcn0sXHJcbiAgICAgICAgICAgICAgICB7a2V5OiAnTW90b3JPdXQnLCBlbGVtZW50OiBlLmFycmF5KDgsIGUuSW50MTYpfSxcclxuICAgICAgICAgICAgICAgIHtrZXk6ICdraW5lbWF0aWNzQW5nbGUnLCBlbGVtZW50OiBlLmFycmF5KDMsIGUuRmxvYXQzMil9LFxyXG4gICAgICAgICAgICAgICAge2tleTogJ2tpbmVtYXRpY3NSYXRlJywgZWxlbWVudDogZS5hcnJheSgzLCBlLkZsb2F0MzIpfSxcclxuICAgICAgICAgICAgICAgIHtrZXk6ICdraW5lbWF0aWNzQWx0aXR1ZGUnLCBlbGVtZW50OiBlLkZsb2F0MzJ9LFxyXG4gICAgICAgICAgICAgICAge2tleTogJ2xvb3BDb3VudCcsIGVsZW1lbnQ6IGUuVWludDMyfSxcclxuICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgfSgpKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcHJvY2Vzc0JpbmFyeURhdGFzdHJlYW0oXHJcbiAgICAgICAgICAgIGNvbW1hbmQsIG1hc2ssIG1lc3NhZ2VfYnVmZmVyLCBjYl9zdGF0ZSwgY2JfY29tbWFuZCwgY2JfZGVidWcsIGNiX2hpc3RvcnksIGNiX2Fjaykge1xyXG4gICAgICAgICAgICBkaXNwYXRjaChjb21tYW5kLCBtYXNrLCBtZXNzYWdlX2J1ZmZlciwgXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtjYWxsYmFja1N0YXRlSGVscGVyKG1hc2ssIG1lc3NhZ2VfYnVmZmVyLCBjYl9zdGF0ZSl9LFxyXG4gICAgICAgICAgICAgICAgY2JfY29tbWFuZCwgY2JfZGVidWcsIGNiX2hpc3RvcnksIGNiX2Fjayk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkaXNwYXRjaChcclxuICAgICAgICAgICAgY29tbWFuZCwgbWFzaywgbWVzc2FnZV9idWZmZXIsIGNiX3N0YXRlLCBjYl9jb21tYW5kLCBjYl9kZWJ1ZywgY2JfaGlzdG9yeSwgY2JfYWNrKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoY29tbWFuZCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5TdGF0ZTpcclxuICAgICAgICAgICAgICAgICAgICBjYl9zdGF0ZShtYXNrLCBtZXNzYWdlX2J1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLkNvbW1hbmQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY2JfY29tbWFuZChtYXNrLCBtZXNzYWdlX2J1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLkRlYnVnU3RyaW5nOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWJ1Z19zdHJpbmcgPSBhcnJheWJ1ZmZlcjJzdHJpbmcobWVzc2FnZV9idWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNiX2RlYnVnKGRlYnVnX3N0cmluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLkhpc3RvcnlEYXRhOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWJ1Z19zdHJpbmcgPSBhcnJheWJ1ZmZlcjJzdHJpbmcobWVzc2FnZV9idWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNiX2hpc3RvcnkoZGVidWdfc3RyaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTWVzc2FnZVR5cGUuUmVzcG9uc2U6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBuZXcgRGF0YVZpZXcobWVzc2FnZV9idWZmZXIsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGNiX2FjayhtYXNrLCBkYXRhLmdldEludDMyKDAsIDEpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFycmF5YnVmZmVyMnN0cmluZyhidWYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoYnVmKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjYWxsYmFja1N0YXRlSGVscGVyKG1hc2ssIG1lc3NhZ2VfYnVmZmVyLCBjYl9zdGF0ZSkge1xyXG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBzdGF0ZUhhbmRsZXIuZW1wdHkoKTtcclxuICAgICAgICAgICAgdmFyIHN0YXRlX2RhdGFfbWFzayA9IFtdOyAgLy8gVE9ETzogZ2V0IHJpZCBvZiB0aGlzIGluIGdlbmVyYWxcclxuICAgICAgICAgICAgdmFyIGRhdGEgPSBuZXcgRGF0YVZpZXcobWVzc2FnZV9idWZmZXIsIDApO1xyXG4gICAgICAgICAgICB2YXIgYiA9IG5ldyBlbmNvZGFibGUuU2VyaWFsaXplcigpO1xyXG4gICAgICAgICAgICB2YXIgc2VyaWFsX3VwZGF0ZV9yYXRlX0h6ID0gMDtcclxuXHJcbiAgICAgICAgICAgIG1hc2sgJj0gZmlybXdhcmVWZXJzaW9uLnN0YXRlTWFzaygpO1xyXG5cclxuICAgICAgICAgICAgc3RhdGVIYW5kbGVyLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24oY2hpbGQsIGlkeCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN1Ym1hc2sgPSAoMSA8PCBpZHgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCEobWFzayAmIHN1Ym1hc2spKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc3RhdGVfZGF0YV9tYXNrW2lkeF0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBjaGlsZC5lbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGNoaWxkLmtleTtcclxuICAgICAgICAgICAgICAgIHN0YXRlW2tleV0gPSBoYW5kbGVyLmRlY29kZShkYXRhLCBiKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAobWFzayAmIFN0YXRlRmllbGRzLlNUQVRFX01JQ1JPUykge1xyXG4gICAgICAgICAgICAgICAgc2VyaWFsX3VwZGF0ZV9yYXRlX0h6ID1cclxuICAgICAgICAgICAgICAgICAgICAxMDAwMDAwIC8gKHN0YXRlLnRpbWVzdGFtcF91cyAtIGxhc3RfdGltZXN0YW1wX3VzKTtcclxuICAgICAgICAgICAgICAgIGxhc3RfdGltZXN0YW1wX3VzID0gc3RhdGUudGltZXN0YW1wX3VzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChtYXNrICYgU3RhdGVGaWVsZHMuU1RBVEVfVEVNUEVSQVRVUkUpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLnRlbXBlcmF0dXJlIC89IDEwMC4wOyAgLy8gdGVtcGVyYXR1cmVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobWFzayAmIFN0YXRlRmllbGRzLlNUQVRFX1BSRVNTVVJFKSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5wcmVzc3VyZSAvPSAyNTYuMDsgIC8vIHByZXNzdXJlIChRMjQuOClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYl9zdGF0ZShzdGF0ZSwgc3RhdGVfZGF0YV9tYXNrLCBzZXJpYWxfdXBkYXRlX3JhdGVfSHopO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcHJvY2Vzc0JpbmFyeURhdGFzdHJlYW06IHByb2Nlc3NCaW5hcnlEYXRhc3RyZWFtLFxyXG4gICAgICAgICAgICBNZXNzYWdlVHlwZTogTWVzc2FnZVR5cGUsXHJcbiAgICAgICAgICAgIENvbW1hbmRGaWVsZHM6IENvbW1hbmRGaWVsZHMsXHJcbiAgICAgICAgICAgIFN0YXR1c0NvZGVzOiBTdGF0dXNDb2RlcyxcclxuICAgICAgICAgICAgU3RhdGVGaWVsZHM6IFN0YXRlRmllbGRzLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnZmx5YnJpeENvbW1vbicpLmZhY3RvcnkoJ3ByZXNldHMnLCBwcmVzZXRzKTtcclxuXHJcbiAgICBwcmVzZXRzLiRpbmplY3QgPSBbJ2Zpcm13YXJlVmVyc2lvbicsICdwYXJzZXInXTtcclxuXHJcbiAgICBmdW5jdGlvbiBwcmVzZXRzKGZpcm13YXJlVmVyc2lvbiwgcGFyc2VyKSB7XHJcbiAgICAgICAgdmFyIExlZFBhdHRlcm5zID0ge1xyXG4gICAgICAgICAgICBOT19PVkVSUklERTogMCxcclxuICAgICAgICAgICAgRkxBU0g6IDEsXHJcbiAgICAgICAgICAgIEJFQUNPTjogMixcclxuICAgICAgICAgICAgQlJFQVRIRTogMyxcclxuICAgICAgICAgICAgQUxURVJOQVRFOiA0LFxyXG4gICAgICAgICAgICBTT0xJRDogNSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgQ29sb3IgPSB7XHJcbiAgICAgICAgICAgIEJsYWNrOiAweDAwMDAwMCxcclxuICAgICAgICAgICAgUmVkOiAweGZmMDAwMCxcclxuICAgICAgICAgICAgR3JlZW46IDB4MDA4MDAwLFxyXG4gICAgICAgICAgICBPcmFuZ2U6IDB4ZmZhNTAwLFxyXG4gICAgICAgICAgICBCbHVlOiAweDAwMDBmZixcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiB0b1JnYihjb2xvcikge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcmVkOiAoY29sb3IgPj4gMTYpICYgMHhmZixcclxuICAgICAgICAgICAgICAgIGdyZWVuOiAoY29sb3IgPj4gOCkgJiAweGZmLFxyXG4gICAgICAgICAgICAgICAgYmx1ZTogY29sb3IgJiAweGZmLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbWFrZUxlZENhc2UobWFzaywgcGF0dGVybiwgY29sb3IxLCBjb2xvcjIsIHJlZCwgZ3JlZW4pIHtcclxuICAgICAgICAgICAgaWYgKGNvbG9yMiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjIgPSBjb2xvcjE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29sb3IxID0gdG9SZ2IoY29sb3IxKTtcclxuICAgICAgICAgICAgY29sb3IyID0gdG9SZ2IoY29sb3IyKTtcclxuICAgICAgICAgICAgcmVkID0gcmVkIHx8IGZhbHNlO1xyXG4gICAgICAgICAgICBncmVlbiA9IGdyZWVuIHx8IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBtYXNrLFxyXG4gICAgICAgICAgICAgICAgcGF0dGVybjogcGF0dGVybixcclxuICAgICAgICAgICAgICAgIGNvbG9yczoge1xyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0X2Zyb250OiBjb2xvcjEsXHJcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRfYmFjazogY29sb3IxLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnRfZnJvbnQ6IGNvbG9yMixcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0X2JhY2s6IGNvbG9yMixcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBpbmRpY2F0b3JfcmVkOiByZWQsXHJcbiAgICAgICAgICAgICAgICBpbmRpY2F0b3JfZ3JlZW46IGdyZWVuLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZmFkZShjb2xvcikge1xyXG4gICAgICAgICAgICB2YXIgciA9IChjb2xvciA+PiAxNikgJiAweGZmO1xyXG4gICAgICAgICAgICB2YXIgZyA9IChjb2xvciA+PiA4KSAmIDB4ZmY7XHJcbiAgICAgICAgICAgIHZhciBiID0gY29sb3IgJiAweGZmO1xyXG4gICAgICAgICAgICByICo9IDAuOTtcclxuICAgICAgICAgICAgZyAqPSAwLjk7XHJcbiAgICAgICAgICAgIGIgKj0gMC45O1xyXG4gICAgICAgICAgICByZXR1cm4gKE1hdGguZmxvb3IocikgPDwgMTYpIHwgKE1hdGguZmxvb3IoZykgPDwgOCkgfCBNYXRoLmZsb29yKGIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGxlZFN0YXRlcyA9IFtcclxuICAgICAgICAgICAgbWFrZUxlZENhc2UoXHJcbiAgICAgICAgICAgICAgICBwYXJzZXIuU3RhdHVzQ29kZXMuU1RBVFVTX01QVV9GQUlMLCBMZWRQYXR0ZXJucy5TT0xJRCxcclxuICAgICAgICAgICAgICAgIGZhZGUoQ29sb3IuQmxhY2spLCBmYWRlKENvbG9yLlJlZCksIHRydWUpLFxyXG4gICAgICAgICAgICBtYWtlTGVkQ2FzZShcclxuICAgICAgICAgICAgICAgIHBhcnNlci5TdGF0dXNDb2Rlcy5TVEFUVVNfQk1QX0ZBSUwsIExlZFBhdHRlcm5zLlNPTElELFxyXG4gICAgICAgICAgICAgICAgZmFkZShDb2xvci5SZWQpLCBmYWRlKENvbG9yLkJsYWNrKSwgdHJ1ZSksXHJcbiAgICAgICAgICAgIG1ha2VMZWRDYXNlKFxyXG4gICAgICAgICAgICAgICAgcGFyc2VyLlN0YXR1c0NvZGVzLlNUQVRVU19CT09ULCBMZWRQYXR0ZXJucy5TT0xJRCxcclxuICAgICAgICAgICAgICAgIGZhZGUoQ29sb3IuR3JlZW4pKSxcclxuICAgICAgICAgICAgbWFrZUxlZENhc2UoXHJcbiAgICAgICAgICAgICAgICBwYXJzZXIuU3RhdHVzQ29kZXMuU1RBVFVTX1JYX0ZBSUwsIExlZFBhdHRlcm5zLkZMQVNILFxyXG4gICAgICAgICAgICAgICAgZmFkZShDb2xvci5PcmFuZ2UpKSxcclxuICAgICAgICAgICAgbWFrZUxlZENhc2UoXHJcbiAgICAgICAgICAgICAgICBwYXJzZXIuU3RhdHVzQ29kZXMuU1RBVFVTX0ZBSUxfT1RIRVIsIExlZFBhdHRlcm5zLkFMVEVSTkFURSxcclxuICAgICAgICAgICAgICAgIGZhZGUoQ29sb3IuQmx1ZSkpLFxyXG4gICAgICAgICAgICBtYWtlTGVkQ2FzZShcclxuICAgICAgICAgICAgICAgIHBhcnNlci5TdGF0dXNDb2Rlcy5TVEFUVVNfRkFJTF9TVEFCSUxJVFksIExlZFBhdHRlcm5zLkZMQVNILFxyXG4gICAgICAgICAgICAgICAgZmFkZShDb2xvci5CbGFjayksIGZhZGUoQ29sb3IuQmx1ZSkpLFxyXG4gICAgICAgICAgICBtYWtlTGVkQ2FzZShcclxuICAgICAgICAgICAgICAgIHBhcnNlci5TdGF0dXNDb2Rlcy5TVEFUVVNfRkFJTF9BTkdMRSwgTGVkUGF0dGVybnMuRkxBU0gsXHJcbiAgICAgICAgICAgICAgICBmYWRlKENvbG9yLkJsdWUpLCBmYWRlKENvbG9yLkJsYWNrKSksXHJcbiAgICAgICAgICAgIG1ha2VMZWRDYXNlKFxyXG4gICAgICAgICAgICAgICAgcGFyc2VyLlN0YXR1c0NvZGVzLlNUQVRVU19PVkVSUklERSwgTGVkUGF0dGVybnMuQkVBQ09OLFxyXG4gICAgICAgICAgICAgICAgZmFkZShDb2xvci5SZWQpKSxcclxuICAgICAgICAgICAgbWFrZUxlZENhc2UoXHJcbiAgICAgICAgICAgICAgICBwYXJzZXIuU3RhdHVzQ29kZXMuU1RBVFVTX1RFTVBfV0FSTklORywgTGVkUGF0dGVybnMuRkxBU0gsXHJcbiAgICAgICAgICAgICAgICBmYWRlKENvbG9yLlJlZCkpLFxyXG4gICAgICAgICAgICBtYWtlTGVkQ2FzZShcclxuICAgICAgICAgICAgICAgIHBhcnNlci5TdGF0dXNDb2Rlcy5TVEFUVVNfQkFUVEVSWV9MT1csIExlZFBhdHRlcm5zLkJFQUNPTixcclxuICAgICAgICAgICAgICAgIGZhZGUoQ29sb3IuT3JhbmdlKSksXHJcbiAgICAgICAgICAgIG1ha2VMZWRDYXNlKFxyXG4gICAgICAgICAgICAgICAgcGFyc2VyLlN0YXR1c0NvZGVzLlNUQVRVU19FTkFCTElORywgTGVkUGF0dGVybnMuRkxBU0gsXHJcbiAgICAgICAgICAgICAgICBmYWRlKENvbG9yLkJsdWUpKSxcclxuICAgICAgICAgICAgbWFrZUxlZENhc2UoXHJcbiAgICAgICAgICAgICAgICBwYXJzZXIuU3RhdHVzQ29kZXMuU1RBVFVTX0VOQUJMRUQsIExlZFBhdHRlcm5zLkJFQUNPTixcclxuICAgICAgICAgICAgICAgIGZhZGUoQ29sb3IuQmx1ZSkpLFxyXG4gICAgICAgICAgICBtYWtlTGVkQ2FzZShcclxuICAgICAgICAgICAgICAgIHBhcnNlci5TdGF0dXNDb2Rlcy5TVEFUVVNfSURMRSwgTGVkUGF0dGVybnMuQkVBQ09OLFxyXG4gICAgICAgICAgICAgICAgZmFkZShDb2xvci5HcmVlbikpLFxyXG4gICAgICAgICAgICBtYWtlTGVkQ2FzZSgwLCAwLCAwKSxcclxuICAgICAgICAgICAgbWFrZUxlZENhc2UoMCwgMCwgMCksXHJcbiAgICAgICAgICAgIG1ha2VMZWRDYXNlKDAsIDAsIDApLFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9IHtcclxuICAgICAgICAgICAgcGNiT3JpZW50YXRpb246IFswLCAwLCAwXSxcclxuICAgICAgICAgICAgcGNiVHJhbnNsYXRpb246IFswLCAwLCAwXSxcclxuICAgICAgICAgICAgbWFnQmlhczogWzAsIDAsIDBdLFxyXG4gICAgICAgICAgICBhc3NpZ25lZENoYW5uZWw6IFsyLCAxLCAwLCAzLCA0LCA1XSxcclxuICAgICAgICAgICAgY29tbWFuZEludmVyc2lvbjogNixcclxuICAgICAgICAgICAgY2hhbm5lbE1pZHBvaW50OiBbMTUxNSwgMTUxNSwgMTUwMCwgMTUyMCwgMTUwMCwgMTUwMF0sXHJcbiAgICAgICAgICAgIGNoYW5uZWxEZWFkem9uZTogWzIwLCAyMCwgMjAsIDQwLCAyMCwgMjBdLFxyXG4gICAgICAgICAgICB0aHJ1c3RNYXN0ZXJQSURQYXJhbWV0ZXJzOiBbMSwgMCwgMCwgMCwgMC4wMDUsIDAuMDA1LCAxXSxcclxuICAgICAgICAgICAgcGl0Y2hNYXN0ZXJQSURQYXJhbWV0ZXJzOiBbMTAsIDEsIDAsIDEwLCAwLjAwNSwgMC4wMDUsIDEwXSxcclxuICAgICAgICAgICAgcm9sbE1hc3RlclBJRFBhcmFtZXRlcnM6IFsxMCwgMSwgMCwgMTAsIDAuMDA1LCAwLjAwNSwgMTBdLFxyXG4gICAgICAgICAgICB5YXdNYXN0ZXJQSURQYXJhbWV0ZXJzOiBbNSwgMSwgMCwgMTAsIDAuMDA1LCAwLjAwNSwgMTgwXSxcclxuICAgICAgICAgICAgdGhydXN0U2xhdmVQSURQYXJhbWV0ZXJzOiBbMSwgMCwgMCwgMTAsIDAuMDAxLCAwLjAwMSwgMC4zXSxcclxuICAgICAgICAgICAgcGl0Y2hTbGF2ZVBJRFBhcmFtZXRlcnM6IFsxMCwgNCwgMCwgMzAsIDAuMDAxLCAwLjAwMSwgMzBdLFxyXG4gICAgICAgICAgICByb2xsU2xhdmVQSURQYXJhbWV0ZXJzOiBbMTAsIDQsIDAsIDMwLCAwLjAwMSwgMC4wMDEsIDMwXSxcclxuICAgICAgICAgICAgeWF3U2xhdmVQSURQYXJhbWV0ZXJzOiBbMzAsIDUsIDAsIDIwLCAwLjAwMSwgMC4wMDEsIDI0MF0sXHJcbiAgICAgICAgICAgIHRocnVzdEdhaW46IDQwOTUsXHJcbiAgICAgICAgICAgIHBpdGNoR2FpbjogMjA0NyxcclxuICAgICAgICAgICAgcm9sbEdhaW46IDIwNDcsXHJcbiAgICAgICAgICAgIHlhd0dhaW46IDIwNDcsXHJcbiAgICAgICAgICAgIHBpZEJ5cGFzczogMjUsXHJcbiAgICAgICAgICAgIHN0YXRlRXN0aW1hdGlvblBhcmFtZXRlcnM6IFsxLCAwLjAxXSxcclxuICAgICAgICAgICAgZW5hYmxlUGFyYW1ldGVyczogWzAuMDAxLCAzMF0sXHJcbiAgICAgICAgICAgIGxlZFN0YXRlczogbGVkU3RhdGVzLFxyXG4gICAgICAgICAgICBuYW1lOiAnRkxZQlJJWCcsXHJcbiAgICAgICAgICAgIGZvcndhcmRNYXN0ZXJQSURQYXJhbWV0ZXJzOiBbMTAsIDEsIDAsIDEwLCAwLjAwNSwgMC4wMDUsIDEwXSxcclxuICAgICAgICAgICAgcmlnaHRNYXN0ZXJQSURQYXJhbWV0ZXJzOiBbMTAsIDEsIDAsIDEwLCAwLjAwNSwgMC4wMDUsIDEwXSxcclxuICAgICAgICAgICAgdXBNYXN0ZXJQSURQYXJhbWV0ZXJzOiBbMTAsIDEsIDAsIDEwLCAwLjAwNSwgMC4wMDUsIDEwXSxcclxuICAgICAgICAgICAgZm9yd2FyZFNsYXZlUElEUGFyYW1ldGVyczogWzEwLCA0LCAwLCAzMCwgMC4wMDEsIDAuMDAxLCAzMF0sXHJcbiAgICAgICAgICAgIHJpZ2h0U2xhdmVQSURQYXJhbWV0ZXJzOiBbMTAsIDQsIDAsIDMwLCAwLjAwMSwgMC4wMDEsIDMwXSxcclxuICAgICAgICAgICAgdXBTbGF2ZVBJRFBhcmFtZXRlcnM6IFsxMCwgNCwgMCwgMzAsIDAuMDAxLCAwLjAwMSwgMzBdLFxyXG4gICAgICAgICAgICB2ZWxvY2l0eVBpZEJ5cGFzczogMTE5LFxyXG4gICAgICAgICAgICBpbmVydGlhbEJpYXNBY2NlbDogWzAsIDAsIDBdLFxyXG4gICAgICAgICAgICBpbmVydGlhbEJpYXNHeXJvOiBbMCwgMCwgMF0sXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZ2V0OiBnZXQsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXQoaWQpIHtcclxuICAgICAgICAgICAgaWQgPSBNYXRoLmZsb29yKGlkKTtcclxuICAgICAgICAgICAgaWYgKCEoaWQgPj0gMCAmJiBpZCA8IDMpKSB7XHJcbiAgICAgICAgICAgICAgICBpZCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBmaXJtd2FyZVZlcnNpb24uY29uZmlnSGFuZGxlcigpO1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB7fTtcclxuICAgICAgICAgICAgYW5ndWxhci5jb3B5KHRlbXBsYXRlKTtcclxuICAgICAgICAgICAgaGFuZGxlci5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gY2hpbGQua2V5O1xyXG4gICAgICAgICAgICAgICAgdmFsdWVba2V5XSA9IGFuZ3VsYXIuY29weSh0ZW1wbGF0ZVtrZXldKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhbHVlLmlkID0gaWQ7XHJcbiAgICAgICAgICAgIHZhbHVlLnZlcnNpb24gPSBmaXJtd2FyZVZlcnNpb24uZ2V0KCkuc2xpY2UoKTtcclxuICAgICAgICAgICAgc3dpdGNoIChpZCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLm1peFRhYmxlRnogPSBbMSwgMSwgMCwgMCwgMCwgMCwgMSwgMV07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUubWl4VGFibGVUeCA9IFsxLCAxLCAwLCAwLCAwLCAwLCAtMSwgLTFdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLm1peFRhYmxlVHkgPSBbLTEsIDEsIDAsIDAsIDAsIDAsIC0xLCAxXTtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5taXhUYWJsZVR6ID0gWzEsIC0xLCAwLCAwLCAwLCAwLCAtMSwgMV07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUubWl4VGFibGVGeiA9IFsxLCAxLCAxLCAxLCAwLCAwLCAxLCAxXTtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5taXhUYWJsZVR4ID0gWzEsIDEsIDAsIDAsIDAsIDAsIC0xLCAtMV07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUubWl4VGFibGVUeSA9IFstMSwgMSwgLTEsIDEsIDAsIDAsIC0xLCAxXTtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5taXhUYWJsZVR6ID0gWzEsIC0xLCAtMSwgMSwgMCwgMCwgMSwgLTFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLm1peFRhYmxlRnogPSBbMSwgMSwgMSwgMSwgMSwgMSwgMSwgMV07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUubWl4VGFibGVUeCA9IFsxLCAxLCAxLCAxLCAtMSwgLTEsIC0xLCAtMV07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUubWl4VGFibGVUeSA9IFstMSwgMSwgLTEsIDEsIC0xLCAxLCAtMSwgMV07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUubWl4VGFibGVUeiA9IFsxLCAtMSwgLTEsIDEsIDEsIC0xLCAtMSwgMV07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnZmx5YnJpeENvbW1vbicpLmZhY3RvcnkoJ3JjRGF0YScsIHJjRGF0YSk7XHJcblxyXG4gICAgcmNEYXRhLiRpbmplY3QgPSBbJ3NlcmlhbCddO1xyXG5cclxuICAgIGZ1bmN0aW9uIHJjRGF0YShzZXJpYWwpIHtcclxuICAgICAgICB2YXIgQVVYID0ge1xyXG4gICAgICAgICAgICBMT1c6IDAsXHJcbiAgICAgICAgICAgIE1JRDogMSxcclxuICAgICAgICAgICAgSElHSDogMixcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBhdXhOYW1lcyA9IFsnbG93JywgJ21pZCcsICdoaWdoJ107XHJcblxyXG4gICAgICAgIHZhciB0aHJvdHRsZSA9IC0xO1xyXG4gICAgICAgIHZhciBwaXRjaCA9IDA7XHJcbiAgICAgICAgdmFyIHJvbGwgPSAwO1xyXG4gICAgICAgIHZhciB5YXcgPSAwO1xyXG4gICAgICAgIC8vIGRlZmF1bHRzIHRvIGhpZ2ggLS0gbG93IGlzIGVuYWJsaW5nOyBoaWdoIGlzIGRpc2FibGluZ1xyXG4gICAgICAgIHZhciBhdXgxID0gQVVYLkhJR0g7XHJcbiAgICAgICAgLy8gZGVmYXVsdHMgdG8gPz8gLS0gbmVlZCB0byBjaGVjayB0cmFuc21pdHRlciBiZWhhdmlvclxyXG4gICAgICAgIHZhciBhdXgyID0gQVVYLkhJR0g7XHJcblxyXG4gICAgICAgIHZhciB1cmdlbnQgPSB0cnVlO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzZXRUaHJvdHRsZTogc2V0VGhyb3R0bGUsXHJcbiAgICAgICAgICAgIHNldFBpdGNoOiBzZXRQaXRjaCxcclxuICAgICAgICAgICAgc2V0Um9sbDogc2V0Um9sbCxcclxuICAgICAgICAgICAgc2V0WWF3OiBzZXRZYXcsXHJcbiAgICAgICAgICAgIHNldEF1eDE6IHNldEF1eDEsXHJcbiAgICAgICAgICAgIHNldEF1eDI6IHNldEF1eDIsXHJcbiAgICAgICAgICAgIGdldFRocm90dGxlOiBnZXRUaHJvdHRsZSxcclxuICAgICAgICAgICAgZ2V0UGl0Y2g6IGdldFBpdGNoLFxyXG4gICAgICAgICAgICBnZXRSb2xsOiBnZXRSb2xsLFxyXG4gICAgICAgICAgICBnZXRZYXc6IGdldFlhdyxcclxuICAgICAgICAgICAgZ2V0QXV4MTogZ2V0QXV4MSxcclxuICAgICAgICAgICAgZ2V0QXV4MjogZ2V0QXV4MixcclxuICAgICAgICAgICAgQVVYOiBBVVgsXHJcbiAgICAgICAgICAgIHNlbmQ6IHNlbmQsXHJcbiAgICAgICAgICAgIGZvcmNlTmV4dFNlbmQ6IGZvcmNlTmV4dFNlbmQsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2VuZCgpIHtcclxuICAgICAgICAgICAgaWYgKCF1cmdlbnQgJiYgc2VyaWFsLmJ1c3koKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHVyZ2VudCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIC8vIGludmVydCBwaXRjaCBhbmQgcm9sbFxyXG4gICAgICAgICAgICB2YXIgdGhyb3R0bGVfdGhyZXNob2xkID1cclxuICAgICAgICAgICAgICAgIC0wLjg7ICAvLyBrZWVwIGJvdHRvbSAxMCUgb2YgdGhyb3R0bGUgc3RpY2sgdG8gbWVhbiAnb2ZmJ1xyXG4gICAgICAgICAgICBjb21tYW5kLnRocm90dGxlID0gY29uc3RyYWluKFxyXG4gICAgICAgICAgICAgICAgKHRocm90dGxlIC0gdGhyb3R0bGVfdGhyZXNob2xkKSAqIDQwOTUgL1xyXG4gICAgICAgICAgICAgICAgICAgICgxIC0gdGhyb3R0bGVfdGhyZXNob2xkKSxcclxuICAgICAgICAgICAgICAgIDAsIDQwOTUpO1xyXG4gICAgICAgICAgICBjb21tYW5kLnBpdGNoID1cclxuICAgICAgICAgICAgICAgIGNvbnN0cmFpbigtKGFwcGx5RGVhZHpvbmUocGl0Y2gsIDAuMSkpICogNDA5NSAvIDIsIC0yMDQ3LCAyMDQ3KTtcclxuICAgICAgICAgICAgY29tbWFuZC5yb2xsID1cclxuICAgICAgICAgICAgICAgIGNvbnN0cmFpbigoYXBwbHlEZWFkem9uZShyb2xsLCAwLjEpKSAqIDQwOTUgLyAyLCAtMjA0NywgMjA0Nyk7XHJcbiAgICAgICAgICAgIGNvbW1hbmQueWF3ID1cclxuICAgICAgICAgICAgICAgIGNvbnN0cmFpbigtKGFwcGx5RGVhZHpvbmUoeWF3LCAwLjEpKSAqIDQwOTUgLyAyLCAtMjA0NywgMjA0Nyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgYXV4X21hc2sgPSB7fTtcclxuICAgICAgICAgICAgLy8gYXV4MV9sb3csIGF1eDFfbWlkLCBhdXgxX2hpZ2gsIGFuZCBzYW1lIHdpdGggYXV4MlxyXG4gICAgICAgICAgICBhdXhfbWFza1snYXV4MV8nICsgYXV4TmFtZXNbYXV4MV1dID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXV4X21hc2tbJ2F1eDJfJyArIGF1eE5hbWVzW2F1eDJdXSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsLnNlbmRTdHJ1Y3R1cmUoJ0NvbW1hbmQnLCB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0X3Jlc3BvbnNlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgc2V0X3NlcmlhbF9yYzoge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogY29tbWFuZCxcclxuICAgICAgICAgICAgICAgICAgICBhdXhfbWFzazogYXV4X21hc2ssXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXRUaHJvdHRsZSh2KSB7XHJcbiAgICAgICAgICAgIHRocm90dGxlID0gdjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldFBpdGNoKHYpIHtcclxuICAgICAgICAgICAgcGl0Y2ggPSB2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0Um9sbCh2KSB7XHJcbiAgICAgICAgICAgIHJvbGwgPSB2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0WWF3KHYpIHtcclxuICAgICAgICAgICAgeWF3ID0gdjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldEF1eDEodikge1xyXG4gICAgICAgICAgICBhdXgxID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMiwgdikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0QXV4Mih2KSB7XHJcbiAgICAgICAgICAgIGF1eDIgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigyLCB2KSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRUaHJvdHRsZSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRocm90dGxlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0UGl0Y2goKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwaXRjaDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldFJvbGwoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByb2xsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0WWF3KCkge1xyXG4gICAgICAgICAgICByZXR1cm4geWF3O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0QXV4MSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGF1eDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRBdXgyKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXV4MjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGZvcmNlTmV4dFNlbmQoKSB7XHJcbiAgICAgICAgICAgIHVyZ2VudCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjb25zdHJhaW4oeCwgeG1pbiwgeG1heCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoeG1pbiwgTWF0aC5taW4oeCwgeG1heCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYXBwbHlEZWFkem9uZSh2YWx1ZSwgZGVhZHpvbmUpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID4gZGVhZHpvbmUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAtIGRlYWR6b25lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IC1kZWFkem9uZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICsgZGVhZHpvbmU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KCkpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2ZseWJyaXhDb21tb24nKS5mYWN0b3J5KCdzZXJpYWwnLCBzZXJpYWwpO1xyXG5cclxuICAgIHNlcmlhbC4kaW5qZWN0ID0gWyckdGltZW91dCcsICckcScsICdjb2JzJywgJ2NvbW1hbmRMb2cnLCAncGFyc2VyJywgJ2Zpcm13YXJlVmVyc2lvbicsICdzZXJpYWxpemF0aW9uSGFuZGxlciddO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNlcmlhbCgkdGltZW91dCwgJHEsIGNvYnMsIGNvbW1hbmRMb2csIHBhcnNlciwgZmlybXdhcmVWZXJzaW9uLCBzZXJpYWxpemF0aW9uSGFuZGxlcikge1xyXG4gICAgICAgIHZhciBhY2tub3dsZWRnZXMgPSBbXTtcclxuICAgICAgICB2YXIgYmFja2VuZCA9IG5ldyBCYWNrZW5kKCk7XHJcbiAgICAgICAgdmFyIG9uU3RhdGVMaXN0ZW5lciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjb21tYW5kTG9nKCdObyBzdGF0ZSBsaXN0ZW5lciBkZWZpbmVkIGZvciBzZXJpYWwnKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBvbkNvbW1hbmRMaXN0ZW5lciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjb21tYW5kTG9nKCdObyBjb21tYW5kIGxpc3RlbmVyIGRlZmluZWQgZm9yIHNlcmlhbCcpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIG9uRGVidWdMaXN0ZW5lciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjb21tYW5kTG9nKCdObyBkZWJ1ZyBsaXN0ZW5lciBkZWZpbmVkIGZvciBzZXJpYWwnKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBvbkhpc3RvcnlMaXN0ZW5lciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjb21tYW5kTG9nKCdObyBoaXN0b3J5IGxpc3RlbmVyIGRlZmluZWQgZm9yIHNlcmlhbCcpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBjb2JzUmVhZGVyID0gbmV3IGNvYnMuUmVhZGVyKDIwMDApO1xyXG4gICAgICAgIHZhciBkYXRhSGFuZGxlciA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gQmFja2VuZCgpIHtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIEJhY2tlbmQucHJvdG90eXBlLmJ1c3kgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIEJhY2tlbmQucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgIGNvbW1hbmRMb2coJ05vIFwic2VuZFwiIGRlZmluZWQgZm9yIHNlcmlhbCBiYWNrZW5kJyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQmFja2VuZC5wcm90b3R5cGUub25SZWFkID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICBjb21tYW5kTG9nKCdObyBcIm9uUmVhZFwiIGRlZmluZWQgZm9yIHNlcmlhbCBiYWNrZW5kJyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYnVzeTogYnVzeSxcclxuICAgICAgICAgICAgZmllbGQ6IHBhcnNlci5Db21tYW5kRmllbGRzLFxyXG4gICAgICAgICAgICBzZW5kOiBzZW5kLFxyXG4gICAgICAgICAgICBzZW5kU3RydWN0dXJlOiBzZW5kU3RydWN0dXJlLFxyXG4gICAgICAgICAgICBzZXRCYWNrZW5kOiBzZXRCYWNrZW5kLFxyXG4gICAgICAgICAgICBzZXRTdGF0ZUNhbGxiYWNrOiBzZXRTdGF0ZUNhbGxiYWNrLFxyXG4gICAgICAgICAgICBzZXRDb21tYW5kQ2FsbGJhY2s6IHNldENvbW1hbmRDYWxsYmFjayxcclxuICAgICAgICAgICAgc2V0RGVidWdDYWxsYmFjazogc2V0RGVidWdDYWxsYmFjayxcclxuICAgICAgICAgICAgc2V0SGlzdG9yeUNhbGxiYWNrOiBzZXRIaXN0b3J5Q2FsbGJhY2ssXHJcbiAgICAgICAgICAgIHNldERhdGFIYW5kbGVyOiBzZXREYXRhSGFuZGxlcixcclxuICAgICAgICAgICAgaGFuZGxlUG9zdENvbm5lY3Q6IGhhbmRsZVBvc3RDb25uZWN0LFxyXG4gICAgICAgICAgICBCYWNrZW5kOiBCYWNrZW5kLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldEJhY2tlbmQodikge1xyXG4gICAgICAgICAgICBiYWNrZW5kID0gdjtcclxuICAgICAgICAgICAgYmFja2VuZC5vblJlYWQgPSByZWFkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlUG9zdENvbm5lY3QoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXF1ZXN0RmlybXdhcmVWZXJzaW9uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZXF1ZXN0RmlybXdhcmVWZXJzaW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VuZChcclxuICAgICAgICAgICAgICAgIHBhcnNlci5Db21tYW5kRmllbGRzLkNPTV9SRVFfUEFSVElBTF9FRVBST01fREFUQSwgWzEsIDAsIDAsIDBdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNlbmRTdHJ1Y3R1cmUobWVzc2FnZVR5cGUsIGRhdGEsIGxvZ19zZW5kKSB7XHJcbiAgICAgICAgICAgIHZhciBoYW5kbGVycyA9IGZpcm13YXJlVmVyc2lvbi5zZXJpYWxpemF0aW9uSGFuZGxlcigpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgaWYgKCEobWVzc2FnZVR5cGUgaW4gcGFyc2VyLk1lc3NhZ2VUeXBlKSkge1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UucmVqZWN0KCdNZXNzYWdlIHR5cGUgXCInICsgbWVzc2FnZVR5cGUgK1xyXG4gICAgICAgICAgICAgICAgICAgICdcIiBub3Qgc3VwcG9ydGVkIGJ5IGFwcCwgc3VwcG9ydGVkIG1lc3NhZ2UgdHlwZXMgYXJlOicgK1xyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHBhcnNlci5NZXNzYWdlVHlwZSkuam9pbignLCAnKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UucHJvbWlzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIShtZXNzYWdlVHlwZSBpbiBoYW5kbGVycykpIHtcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJlamVjdCgnTWVzc2FnZSB0eXBlIFwiJyArIG1lc3NhZ2VUeXBlICtcclxuICAgICAgICAgICAgICAgICAgICAnXCIgbm90IHN1cHBvcnRlZCBieSBmaXJtd2FyZSwgc3VwcG9ydGVkIG1lc3NhZ2UgdHlwZXMgYXJlOicgK1xyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGhhbmRsZXJzKS5qb2luKCcsICcpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5wcm9taXNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB0eXBlQ29kZSA9IHBhcnNlci5NZXNzYWdlVHlwZVttZXNzYWdlVHlwZV07XHJcbiAgICAgICAgICAgIHZhciBoYW5kbGVyID0gaGFuZGxlcnNbbWVzc2FnZVR5cGVdO1xyXG5cclxuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KGhhbmRsZXIuYnl0ZUNvdW50KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzZXJpYWxpemVyID0gbmV3IHNlcmlhbGl6YXRpb25IYW5kbGVyLlNlcmlhbGl6ZXIobmV3IERhdGFWaWV3KGJ1ZmZlci5idWZmZXIpKTtcclxuICAgICAgICAgICAgaGFuZGxlci5lbmNvZGUoc2VyaWFsaXplciwgZGF0YSk7XHJcbiAgICAgICAgICAgIHZhciBtYXNrID0gaGFuZGxlci5tYXNrQXJyYXkoZGF0YSk7XHJcbiAgICAgICAgICAgIGlmIChtYXNrLmxlbmd0aCA8IDUpIHtcclxuICAgICAgICAgICAgICAgIG1hc2sgPSAobWFza1swXSA8PCAwKSB8IChtYXNrWzFdIDw8IDgpIHwgKG1hc2tbMl0gPDwgMTYpIHwgKG1hc2tbM10gPDwgMjQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgZGF0YUxlbmd0aCA9IHNlcmlhbGl6ZXIuaW5kZXg7XHJcblxyXG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YUxlbmd0aCArIDMpO1xyXG4gICAgICAgICAgICBvdXRwdXRbMF0gPSBvdXRwdXRbMV0gPSB0eXBlQ29kZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgZGF0YUxlbmd0aDsgKytpZHgpIHtcclxuICAgICAgICAgICAgICAgIG91dHB1dFswXSBePSBvdXRwdXRbaWR4ICsgMl0gPSBidWZmZXJbaWR4XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvdXRwdXRbZGF0YUxlbmd0aCArIDJdID0gMDtcclxuXHJcbiAgICAgICAgICAgIGFja25vd2xlZGdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG1hc2s6IG1hc2ssXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZTogcmVzcG9uc2UsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZW5kLnNlbmQobmV3IFVpbnQ4QXJyYXkoY29icy5lbmNvZGUob3V0cHV0KSkpO1xyXG4gICAgICAgICAgICB9LCAwKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChsb2dfc2VuZCkge1xyXG4gICAgICAgICAgICAgICAgY29tbWFuZExvZygnU2VuZGluZyBjb21tYW5kICcgKyB0eXBlQ29kZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5wcm9taXNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2VuZChtYXNrLCBkYXRhLCBsb2dfc2VuZCkge1xyXG4gICAgICAgICAgICBpZiAobG9nX3NlbmQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgIGxvZ19zZW5kID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSAkcS5kZWZlcigpO1xyXG5cclxuICAgICAgICAgICAgbWFzayB8PSBwYXJzZXIuQ29tbWFuZEZpZWxkcy5DT01fUkVRX1JFU1BPTlNFOyAgLy8gZm9yY2UgcmVzcG9uc2VzXHJcblxyXG4gICAgICAgICAgICB2YXIgY2hlY2tzdW0gPSAwO1xyXG4gICAgICAgICAgICB2YXIgYnVmZmVyT3V0LCBidWZWaWV3O1xyXG5cclxuICAgICAgICAgICAgLy8gYWx3YXlzIHJlc2VydmUgMSBieXRlIGZvciBwcm90b2NvbCBvdmVyaGVhZCAhXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzaXplID0gNyArIGRhdGEubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgYnVmVmlldyA9IG5ldyBVaW50OEFycmF5KHNpemUpO1xyXG4gICAgICAgICAgICAgICAgY2hlY2tzdW0gXj0gYnVmVmlld1sxXSA9IHBhcnNlci5NZXNzYWdlVHlwZS5Db21tYW5kO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyArK2kpXHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tzdW0gXj0gYnVmVmlld1tpICsgMl0gPSBieXRlTmluTnVtKG1hc2ssIGkpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrc3VtIF49IGJ1ZlZpZXdbaSArIDZdID0gZGF0YVtpXTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlck91dCA9IG5ldyBBcnJheUJ1ZmZlcig4KTtcclxuICAgICAgICAgICAgICAgIGJ1ZlZpZXcgPSBuZXcgVWludDhBcnJheShidWZmZXJPdXQpO1xyXG4gICAgICAgICAgICAgICAgY2hlY2tzdW0gXj0gYnVmVmlld1sxXSA9IHBhcnNlci5NZXNzYWdlVHlwZS5Db21tYW5kO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyArK2kpXHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tzdW0gXj0gYnVmVmlld1tpICsgMl0gPSBieXRlTmluTnVtKG1hc2ssIGkpO1xyXG4gICAgICAgICAgICAgICAgY2hlY2tzdW0gXj0gYnVmVmlld1s2XSA9IGRhdGE7ICAvLyBwYXlsb2FkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnVmVmlld1swXSA9IGNoZWNrc3VtOyAgLy8gY3JjXHJcbiAgICAgICAgICAgIGJ1ZlZpZXdbYnVmVmlldy5sZW5ndGggLSAxXSA9IDA7XHJcblxyXG4gICAgICAgICAgICBhY2tub3dsZWRnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBtYXNrOiBtYXNrLFxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgYmFja2VuZC5zZW5kKG5ldyBVaW50OEFycmF5KGNvYnMuZW5jb2RlKGJ1ZlZpZXcpKSk7XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG5cclxuICAgICAgICAgICAgaWYgKGxvZ19zZW5kKSB7XHJcbiAgICAgICAgICAgICAgICBjb21tYW5kTG9nKFxyXG4gICAgICAgICAgICAgICAgICAgICdTZW5kaW5nIGNvbW1hbmQgJyArIHBhcnNlci5NZXNzYWdlVHlwZS5Db21tYW5kICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5wcm9taXNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYnVzeSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGJhY2tlbmQuYnVzeSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0RGF0YUhhbmRsZXIoaGFuZGxlcikge1xyXG4gICAgICAgICAgICBkYXRhSGFuZGxlciA9IGhhbmRsZXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZWFkKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGFIYW5kbGVyKVxyXG4gICAgICAgICAgICAgICAgZGF0YUhhbmRsZXIoZGF0YSwgcHJvY2Vzc0RhdGEpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBjb2JzUmVhZGVyLkFwcGVuZFRvQnVmZmVyKGRhdGEsIHByb2Nlc3NEYXRhLCByZXBvcnRJc3N1ZXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVwb3J0SXNzdWVzKGlzc3VlLCB0ZXh0KSB7XHJcbiAgICAgICAgICAgIGNvbW1hbmRMb2coJ0NPQlMgZGVjb2RpbmcgZmFpbGVkICgnICsgaXNzdWUgKyAnKTogJyArIHRleHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0U3RhdGVDYWxsYmFjayhjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBvblN0YXRlTGlzdGVuZXIgPSBjYWxsYmFjaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldENvbW1hbmRDYWxsYmFjayhjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBvbkNvbW1hbmRMaXN0ZW5lciA9IGNhbGxiYWNrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0SGlzdG9yeUNhbGxiYWNrKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIG9uSGlzdG9yeUxpc3RlbmVyID0gY2FsbGJhY2s7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXREZWJ1Z0NhbGxiYWNrKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIG9uRGVidWdMaXN0ZW5lciA9IGNhbGxiYWNrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWNrbm93bGVkZ2UobWFzaywgdmFsdWUpIHtcclxuICAgICAgICAgICAgd2hpbGUgKGFja25vd2xlZGdlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdiA9IGFja25vd2xlZGdlcy5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHYubWFzayAhPT0gbWFzaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHYucmVzcG9uc2UucmVqZWN0KCdNaXNzaW5nIEFDSycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHJlbGF4ZWRNYXNrID0gbWFzaztcclxuICAgICAgICAgICAgICAgIHJlbGF4ZWRNYXNrICY9IH5wYXJzZXIuQ29tbWFuZEZpZWxkcy5DT01fUkVRX1JFU1BPTlNFO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlbGF4ZWRNYXNrICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHYucmVzcG9uc2UucmVqZWN0KCdSZXF1ZXN0IHdhcyBub3QgZnVsbHkgcHJvY2Vzc2VkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2LnJlc3BvbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBwcm9jZXNzRGF0YShjb21tYW5kLCBtYXNrLCBtZXNzYWdlX2J1ZmZlcikge1xyXG4gICAgICAgICAgICBwYXJzZXIucHJvY2Vzc0JpbmFyeURhdGFzdHJlYW0oXHJcbiAgICAgICAgICAgICAgICBjb21tYW5kLCBtYXNrLCBtZXNzYWdlX2J1ZmZlciwgb25TdGF0ZUxpc3RlbmVyLFxyXG4gICAgICAgICAgICAgICAgb25Db21tYW5kTGlzdGVuZXIsIG9uRGVidWdMaXN0ZW5lciwgb25IaXN0b3J5TGlzdGVuZXIsIGFja25vd2xlZGdlKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBieXRlTmluTnVtKGRhdGEsIG4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIChkYXRhID4+ICg4ICogbikpICYgMHhGRjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgc2VyaWFsaXphdGlvbkhhbmRsZXIuJGluamVjdCA9IFtdO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdmbHlicml4Q29tbW9uJykuZmFjdG9yeSgnc2VyaWFsaXphdGlvbkhhbmRsZXInLCBzZXJpYWxpemF0aW9uSGFuZGxlcik7XHJcblxyXG4gICAgZnVuY3Rpb24gc2VyaWFsaXphdGlvbkhhbmRsZXIoKSB7XHJcbiAgICAgICAgdmFyIGhhbmRsZXJDYWNoZSA9IHt9O1xyXG4gICAgICAgIHZhciB2ZXJzaW9uID0gJ1ZlcnNpb24gPSB7IG1ham9yOiB1OCwgbWlub3I6IHU4LCBwYXRjaDogdTggfTsnO1xyXG4gICAgICAgIHZhciBjb25maWdJZCA9ICdDb25maWdJRCA9IHsgaWQ6IHUzMiB9Oyc7XHJcblxyXG4gICAgICAgIHZhciB2ZWN0b3IzZiA9ICdWZWN0b3IzZiA9IHsgeDogZjMyLCB5OiBmMzIsIHo6IGYzMiB9Oyc7XHJcblxyXG4gICAgICAgIHZhciBwY2JUcmFuc2Zvcm0gPSAnUGNiVHJhbnNmb3JtID0geyBvcmllbnRhdGlvbjogVmVjdG9yM2YsIHRyYW5zbGF0aW9uOiBWZWN0b3IzZiB9Oyc7XHJcbiAgICAgICAgdmFyIG1peFRhYmxlID0gJ01peFRhYmxlID0geyBmejogW2k4OjhdLCB0eDogW2k4OjhdLCB0eTogW2k4OjhdLCB0ejogW2k4OjhdIH07JztcclxuICAgICAgICB2YXIgbWFnQmlhcyA9ICdNYWdCaWFzID0geyBvZmZzZXQ6IFZlY3RvcjNmIH07JztcclxuICAgICAgICB2YXIgY2hhbm5lbFByb3BlcnRpZXMgPSAnQ2hhbm5lbFByb3BlcnRpZXMgPSB7JyArXHJcbiAgICAgICAgICAgICdhc3NpZ25tZW50OiBbdTg6Nl0sJyArXHJcbiAgICAgICAgICAgICdpbnZlcnNpb246IHU4LCcgK1xyXG4gICAgICAgICAgICAnbWlkcG9pbnQ6IFt1MTY6Nl0sJyArXHJcbiAgICAgICAgICAgICdkZWFkem9uZTogW3UxNjo2XSB9Oyc7XHJcblxyXG4gICAgICAgIHZhciBwaWRTZXR0aW5ncyA9ICdQSURTZXR0aW5ncyA9IHsnICtcclxuICAgICAgICAgICAgJ2twOiBmMzIsJyArXHJcbiAgICAgICAgICAgICdraTogZjMyLCcgK1xyXG4gICAgICAgICAgICAna2Q6IGYzMiwnICtcclxuICAgICAgICAgICAgJ2ludGVncmFsX3dpbmR1cF9ndWFyZDogZjMyLCcgK1xyXG4gICAgICAgICAgICAnZF9maWx0ZXJfdGltZTogZjMyLCcgK1xyXG4gICAgICAgICAgICAnc2V0cG9pbnRfZmlsdGVyX3RpbWU6IGYzMiwnICtcclxuICAgICAgICAgICAgJ2NvbW1hbmRfdG9fdmFsdWU6IGYzMiB9Oyc7XHJcbiAgICAgICAgdmFyIHBpZFBhcmFtZXRlcnMxNCA9ICdQSURQYXJhbWV0ZXJzID0geycgK1xyXG4gICAgICAgICAgICAndGhydXN0X21hc3RlcjogUElEU2V0dGluZ3MsJyArXHJcbiAgICAgICAgICAgICdwaXRjaF9tYXN0ZXI6IFBJRFNldHRpbmdzLCcgK1xyXG4gICAgICAgICAgICAncm9sbF9tYXN0ZXI6IFBJRFNldHRpbmdzLCcgK1xyXG4gICAgICAgICAgICAneWF3X21hc3RlcjogUElEU2V0dGluZ3MsJyArXHJcbiAgICAgICAgICAgICd0aHJ1c3Rfc2xhdmU6IFBJRFNldHRpbmdzLCcgK1xyXG4gICAgICAgICAgICAncGl0Y2hfc2xhdmU6IFBJRFNldHRpbmdzLCcgK1xyXG4gICAgICAgICAgICAncm9sbF9zbGF2ZTogUElEU2V0dGluZ3MsJyArXHJcbiAgICAgICAgICAgICd5YXdfc2xhdmU6IFBJRFNldHRpbmdzLCcgK1xyXG4gICAgICAgICAgICAncGlkX2J5cGFzczogdTggfTsnO1xyXG4gICAgICAgIHZhciBwaWRQYXJhbWV0ZXJzID0gJ1BJRFBhcmFtZXRlcnMgPSB7JyArXHJcbiAgICAgICAgICAgICd0aHJ1c3RfbWFzdGVyOiBQSURTZXR0aW5ncywnICtcclxuICAgICAgICAgICAgJ3BpdGNoX21hc3RlcjogUElEU2V0dGluZ3MsJyArXHJcbiAgICAgICAgICAgICdyb2xsX21hc3RlcjogUElEU2V0dGluZ3MsJyArXHJcbiAgICAgICAgICAgICd5YXdfbWFzdGVyOiBQSURTZXR0aW5ncywnICtcclxuICAgICAgICAgICAgJ3RocnVzdF9zbGF2ZTogUElEU2V0dGluZ3MsJyArXHJcbiAgICAgICAgICAgICdwaXRjaF9zbGF2ZTogUElEU2V0dGluZ3MsJyArXHJcbiAgICAgICAgICAgICdyb2xsX3NsYXZlOiBQSURTZXR0aW5ncywnICtcclxuICAgICAgICAgICAgJ3lhd19zbGF2ZTogUElEU2V0dGluZ3MsJyArXHJcbiAgICAgICAgICAgICd0aHJ1c3RfZ2FpbjogZjMyLCcgK1xyXG4gICAgICAgICAgICAncGl0Y2hfZ2FpbjogZjMyLCcgK1xyXG4gICAgICAgICAgICAncm9sbF9nYWluOiBmMzIsJyArXHJcbiAgICAgICAgICAgICd5YXdfZ2FpbjogZjMyLCcgK1xyXG4gICAgICAgICAgICAncGlkX2J5cGFzczogdTggfTsnO1xyXG5cclxuICAgICAgICB2YXIgc3RhdGVQYXJhbWV0ZXJzID0gJ1N0YXRlUGFyYW1ldGVycyA9IHsgc3RhdGVfZXN0aW1hdGlvbjogW2YzMjoyXSwgZW5hYmxlOiBbZjMyOjJdIH07JztcclxuXHJcbiAgICAgICAgdmFyIGNvbG9yID0gJ0NvbG9yID0geyByZWQ6IHU4LCBncmVlbjogdTgsIGJsdWU6IHU4IH07JztcclxuICAgICAgICB2YXIgbGVkU3RhdGVDYXNlID0gJ0xFRFN0YXRlQ2FzZSA9IHsnICtcclxuICAgICAgICAgICAgJ3N0YXR1czogdTE2LCcgK1xyXG4gICAgICAgICAgICAncGF0dGVybjogdTgsJyArXHJcbiAgICAgICAgICAgICdjb2xvcl9yaWdodF9mcm9udDogQ29sb3IsJyArXHJcbiAgICAgICAgICAgICdjb2xvcl9yaWdodF9iYWNrOiBDb2xvciwnICtcclxuICAgICAgICAgICAgJ2NvbG9yX2xlZnRfZnJvbnQ6IENvbG9yLCcgK1xyXG4gICAgICAgICAgICAnY29sb3JfbGVmdF9iYWNrOiBDb2xvciwnICtcclxuICAgICAgICAgICAgJ2luZGljYXRvcl9yZWQ6IGJvb2wsJyArXHJcbiAgICAgICAgICAgICdpbmRpY2F0b3JfZ3JlZW46IGJvb2wgfTsnO1xyXG4gICAgICAgIHZhciBsZWRTdGF0ZXMgPSAnTEVEU3RhdGVzID0geyBzdGF0ZXM6IFsvMTYvTEVEU3RhdGVDYXNlOjE2XSB9Oyc7XHJcbiAgICAgICAgdmFyIGxlZFN0YXRlc0ZpeGVkID0gJ0xFRFN0YXRlc0ZpeGVkID0geyBzdGF0ZXM6IFtMRURTdGF0ZUNhc2U6MTZdIH07JztcclxuXHJcbiAgICAgICAgdmFyIGRldmljZU5hbWUgPSAnRGV2aWNlTmFtZSA9IHsgdmFsdWU6IHM5IH07JztcclxuXHJcbiAgICAgICAgdmFyIHZlbG9jaXR5UGlkUGFyYW1ldGVycyA9ICdWZWxvY2l0eVBJRFBhcmFtZXRlcnMgPSB7JyArXHJcbiAgICAgICAgICAgICdmb3J3YXJkX21hc3RlcjogUElEU2V0dGluZ3MsJyArXHJcbiAgICAgICAgICAgICdyaWdodF9tYXN0ZXI6IFBJRFNldHRpbmdzLCcgK1xyXG4gICAgICAgICAgICAndXBfbWFzdGVyOiBQSURTZXR0aW5ncywnICtcclxuICAgICAgICAgICAgJ2ZvcndhcmRfc2xhdmU6IFBJRFNldHRpbmdzLCcgK1xyXG4gICAgICAgICAgICAncmlnaHRfc2xhdmU6IFBJRFNldHRpbmdzLCcgK1xyXG4gICAgICAgICAgICAndXBfc2xhdmU6IFBJRFNldHRpbmdzLCcgK1xyXG4gICAgICAgICAgICAncGlkX2J5cGFzczogdTggfTsnO1xyXG5cclxuICAgICAgICB2YXIgaW5lcnRpYWxCaWFzID0gJ0luZXJ0aWFsQmlhcyA9IHsgYWNjZWw6IFZlY3RvcjNmLCBneXJvOiBWZWN0b3IzZiB9Oyc7XHJcblxyXG4gICAgICAgIHZhciBjb25maWcxNDE1ID0gJ0NvbmZpZ3VyYXRpb24gPSB7LzE2LycgK1xyXG4gICAgICAgICAgICAndmVyc2lvbjogVmVyc2lvbiwnICtcclxuICAgICAgICAgICAgJ2NvbmZpZ19pZDogQ29uZmlnSUQsJyArXHJcbiAgICAgICAgICAgICdwY2JfdHJhbnNmb3JtOiBQY2JUcmFuc2Zvcm0sJyArXHJcbiAgICAgICAgICAgICdtaXhfdGFibGU6IE1peFRhYmxlLCcgK1xyXG4gICAgICAgICAgICAnbWFnX2JpYXM6IE1hZ0JpYXMsJyArXHJcbiAgICAgICAgICAgICdjaGFubmVsOiBDaGFubmVsUHJvcGVydGllcywnICtcclxuICAgICAgICAgICAgJ3BpZF9wYXJhbWV0ZXJzOiBQSURQYXJhbWV0ZXJzLCcgK1xyXG4gICAgICAgICAgICAnc3RhdGVfcGFyYW1ldGVyczogU3RhdGVQYXJhbWV0ZXJzLCcgK1xyXG4gICAgICAgICAgICAnbGVkX3N0YXRlczogTEVEU3RhdGVzLCcgK1xyXG4gICAgICAgICAgICAnZGV2aWNlX25hbWU6IERldmljZU5hbWUgfTsnO1xyXG5cclxuICAgICAgICB2YXIgY29uZmlnRml4ZWQxNDE1ID0gJ0NvbmZpZ3VyYXRpb25GaXhlZCA9IHsnICtcclxuICAgICAgICAgICAgJ3ZlcnNpb246IFZlcnNpb24sJyArXHJcbiAgICAgICAgICAgICdjb25maWdfaWQ6IENvbmZpZ0lELCcgK1xyXG4gICAgICAgICAgICAncGNiX3RyYW5zZm9ybTogUGNiVHJhbnNmb3JtLCcgK1xyXG4gICAgICAgICAgICAnbWl4X3RhYmxlOiBNaXhUYWJsZSwnICtcclxuICAgICAgICAgICAgJ21hZ19iaWFzOiBNYWdCaWFzLCcgK1xyXG4gICAgICAgICAgICAnY2hhbm5lbDogQ2hhbm5lbFByb3BlcnRpZXMsJyArXHJcbiAgICAgICAgICAgICdwaWRfcGFyYW1ldGVyczogUElEUGFyYW1ldGVycywnICtcclxuICAgICAgICAgICAgJ3N0YXRlX3BhcmFtZXRlcnM6IFN0YXRlUGFyYW1ldGVycywnICtcclxuICAgICAgICAgICAgJ2xlZF9zdGF0ZXM6IExFRFN0YXRlc0ZpeGVkLCcgK1xyXG4gICAgICAgICAgICAnZGV2aWNlX25hbWU6IERldmljZU5hbWUgfTsnO1xyXG5cclxuICAgICAgICB2YXIgY29uZmlnID0gJ0NvbmZpZ3VyYXRpb24gPSB7LzE2LycgK1xyXG4gICAgICAgICAgICAndmVyc2lvbjogVmVyc2lvbiwnICtcclxuICAgICAgICAgICAgJ2NvbmZpZ19pZDogQ29uZmlnSUQsJyArXHJcbiAgICAgICAgICAgICdwY2JfdHJhbnNmb3JtOiBQY2JUcmFuc2Zvcm0sJyArXHJcbiAgICAgICAgICAgICdtaXhfdGFibGU6IE1peFRhYmxlLCcgK1xyXG4gICAgICAgICAgICAnbWFnX2JpYXM6IE1hZ0JpYXMsJyArXHJcbiAgICAgICAgICAgICdjaGFubmVsOiBDaGFubmVsUHJvcGVydGllcywnICtcclxuICAgICAgICAgICAgJ3BpZF9wYXJhbWV0ZXJzOiBQSURQYXJhbWV0ZXJzLCcgK1xyXG4gICAgICAgICAgICAnc3RhdGVfcGFyYW1ldGVyczogU3RhdGVQYXJhbWV0ZXJzLCcgK1xyXG4gICAgICAgICAgICAnbGVkX3N0YXRlczogTEVEU3RhdGVzLCcgK1xyXG4gICAgICAgICAgICAnZGV2aWNlX25hbWU6IERldmljZU5hbWUsJyArXHJcbiAgICAgICAgICAgICd2ZWxvY2l0eV9waWRfcGFyYW1ldGVyczogVmVsb2NpdHlQSURQYXJhbWV0ZXJzLCcgK1xyXG4gICAgICAgICAgICAnaW5lcnRpYWxfYmlhczogSW5lcnRpYWxCaWFzIH07JztcclxuXHJcbiAgICAgICAgdmFyIGNvbmZpZ0ZpeGVkID0gJ0NvbmZpZ3VyYXRpb25GaXhlZCA9IHsnICtcclxuICAgICAgICAgICAgJ3ZlcnNpb246IFZlcnNpb24sJyArXHJcbiAgICAgICAgICAgICdjb25maWdfaWQ6IENvbmZpZ0lELCcgK1xyXG4gICAgICAgICAgICAncGNiX3RyYW5zZm9ybTogUGNiVHJhbnNmb3JtLCcgK1xyXG4gICAgICAgICAgICAnbWl4X3RhYmxlOiBNaXhUYWJsZSwnICtcclxuICAgICAgICAgICAgJ21hZ19iaWFzOiBNYWdCaWFzLCcgK1xyXG4gICAgICAgICAgICAnY2hhbm5lbDogQ2hhbm5lbFByb3BlcnRpZXMsJyArXHJcbiAgICAgICAgICAgICdwaWRfcGFyYW1ldGVyczogUElEUGFyYW1ldGVycywnICtcclxuICAgICAgICAgICAgJ3N0YXRlX3BhcmFtZXRlcnM6IFN0YXRlUGFyYW1ldGVycywnICtcclxuICAgICAgICAgICAgJ2xlZF9zdGF0ZXM6IExFRFN0YXRlc0ZpeGVkLCcgK1xyXG4gICAgICAgICAgICAnZGV2aWNlX25hbWU6IERldmljZU5hbWUsJyArXHJcbiAgICAgICAgICAgICd2ZWxvY2l0eV9waWRfcGFyYW1ldGVyczogVmVsb2NpdHlQSURQYXJhbWV0ZXJzLCcgK1xyXG4gICAgICAgICAgICAnaW5lcnRpYWxfYmlhczogSW5lcnRpYWxCaWFzIH07JztcclxuXHJcbiAgICAgICAgdmFyIGNvbmZpZ0ZsYWcxNCA9ICdDb25maWd1cmF0aW9uRmxhZyA9IHsvMTYvJyArXHJcbiAgICAgICAgICAgICd2ZXJzaW9uOiB2b2lkLCcgK1xyXG4gICAgICAgICAgICAnY29uZmlnX2lkOiB2b2lkLCcgK1xyXG4gICAgICAgICAgICAncGNiX3RyYW5zZm9ybTogdm9pZCwnICtcclxuICAgICAgICAgICAgJ21peF90YWJsZTogdm9pZCwnICtcclxuICAgICAgICAgICAgJ21hZ19iaWFzOiB2b2lkLCcgK1xyXG4gICAgICAgICAgICAnY2hhbm5lbDogdm9pZCwnICtcclxuICAgICAgICAgICAgJ3BpZF9wYXJhbWV0ZXJzOiB2b2lkLCcgK1xyXG4gICAgICAgICAgICAnc3RhdGVfcGFyYW1ldGVyczogdm9pZCwnICtcclxuICAgICAgICAgICAgJ2xlZF9zdGF0ZXM6IFsvLyB2b2lkOjE2XSwnICtcclxuICAgICAgICAgICAgJ2RldmljZV9uYW1lOiB2b2lkfTsnO1xyXG5cclxuICAgICAgICB2YXIgY29uZmlnRmxhZyA9ICdDb25maWd1cmF0aW9uRmxhZyA9IHsvMTYvJyArXHJcbiAgICAgICAgICAgICd2ZXJzaW9uOiB2b2lkLCcgK1xyXG4gICAgICAgICAgICAnY29uZmlnX2lkOiB2b2lkLCcgK1xyXG4gICAgICAgICAgICAncGNiX3RyYW5zZm9ybTogdm9pZCwnICtcclxuICAgICAgICAgICAgJ21peF90YWJsZTogdm9pZCwnICtcclxuICAgICAgICAgICAgJ21hZ19iaWFzOiB2b2lkLCcgK1xyXG4gICAgICAgICAgICAnY2hhbm5lbDogdm9pZCwnICtcclxuICAgICAgICAgICAgJ3BpZF9wYXJhbWV0ZXJzOiB2b2lkLCcgK1xyXG4gICAgICAgICAgICAnc3RhdGVfcGFyYW1ldGVyczogdm9pZCwnICtcclxuICAgICAgICAgICAgJ2xlZF9zdGF0ZXM6IFsvLyB2b2lkOjE2XSwnICtcclxuICAgICAgICAgICAgJ2RldmljZV9uYW1lOiB2b2lkLCcgK1xyXG4gICAgICAgICAgICAndmVsb2NpdHlfcGlkX3BhcmFtZXRlcnM6IHZvaWQsJyArXHJcbiAgICAgICAgICAgICdpbmVydGlhbF9iaWFzOiB2b2lkIH07JztcclxuXHJcbiAgICAgICAgdmFyIGNvbmZpZ0Z1bGwxNCA9IHZlY3RvcjNmICsgcGlkU2V0dGluZ3MgKyB2ZXJzaW9uICsgY29uZmlnSWQgKyBwY2JUcmFuc2Zvcm0gK1xyXG4gICAgICAgICAgICBtaXhUYWJsZSArIG1hZ0JpYXMgKyBjaGFubmVsUHJvcGVydGllcyArIHBpZFBhcmFtZXRlcnMxNCArIHN0YXRlUGFyYW1ldGVycyArXHJcbiAgICAgICAgICAgIGNvbG9yICsgbGVkU3RhdGVDYXNlICsgbGVkU3RhdGVzICsgbGVkU3RhdGVzRml4ZWQgKyBkZXZpY2VOYW1lICtcclxuICAgICAgICAgICAgY29uZmlnMTQxNSArIGNvbmZpZ0ZpeGVkMTQxNSArIGNvbmZpZ0ZsYWcxNDtcclxuICAgICAgICB2YXIgY29uZmlnRnVsbDE1ID0gdmVjdG9yM2YgKyBwaWRTZXR0aW5ncyArIHZlcnNpb24gKyBjb25maWdJZCArIHBjYlRyYW5zZm9ybSArIG1peFRhYmxlICtcclxuICAgICAgICAgICAgbWFnQmlhcyArIGNoYW5uZWxQcm9wZXJ0aWVzICsgcGlkUGFyYW1ldGVycyArIHN0YXRlUGFyYW1ldGVycyArXHJcbiAgICAgICAgICAgIGNvbG9yICsgbGVkU3RhdGVDYXNlICsgbGVkU3RhdGVzICsgbGVkU3RhdGVzRml4ZWQgKyBkZXZpY2VOYW1lICtcclxuICAgICAgICAgICAgY29uZmlnMTQxNSArIGNvbmZpZ0ZpeGVkMTQxNSArIGNvbmZpZ0ZsYWc7XHJcbiAgICAgICAgdmFyIGNvbmZpZ0Z1bGwxNiA9IHZlY3RvcjNmICsgcGlkU2V0dGluZ3MgKyB2ZXJzaW9uICsgY29uZmlnSWQgKyBwY2JUcmFuc2Zvcm0gKyBtaXhUYWJsZSArXHJcbiAgICAgICAgICAgIG1hZ0JpYXMgKyBjaGFubmVsUHJvcGVydGllcyArIHBpZFBhcmFtZXRlcnMgKyBzdGF0ZVBhcmFtZXRlcnMgK1xyXG4gICAgICAgICAgICBjb2xvciArIGxlZFN0YXRlQ2FzZSArIGxlZFN0YXRlcyArIGxlZFN0YXRlc0ZpeGVkICsgZGV2aWNlTmFtZSArXHJcbiAgICAgICAgICAgIGluZXJ0aWFsQmlhcyArIHZlbG9jaXR5UGlkUGFyYW1ldGVycyArXHJcbiAgICAgICAgICAgIGNvbmZpZyArIGNvbmZpZ0ZpeGVkICsgY29uZmlnRmxhZztcclxuXHJcbiAgICAgICAgdmFyIHN0YXRlID0gJ1JvdGF0aW9uID0geyByb2xsOiBmMzIsIHBpdGNoOiBmMzIsIHlhdzogZjMyIH07JyArXHJcbiAgICAgICAgICAgICdQSURTdGF0ZSA9IHsnICtcclxuICAgICAgICAgICAgJ3RpbWVzdGFtcF91czogdTMyLCcgK1xyXG4gICAgICAgICAgICAnaW5wdXQ6IGYzMiwnICtcclxuICAgICAgICAgICAgJ3NldHBvaW50OiBmMzIsJyArXHJcbiAgICAgICAgICAgICdwX3Rlcm06IGYzMiwnICtcclxuICAgICAgICAgICAgJ2lfdGVybTogZjMyLCcgK1xyXG4gICAgICAgICAgICAnZF90ZXJtOiBmMzIgfTsnICtcclxuICAgICAgICAgICAgJ1JjQ29tbWFuZCA9IHsgdGhyb3R0bGU6IGkxNiwgcGl0Y2g6IGkxNiwgcm9sbDogaTE2LCB5YXc6IGkxNiB9OycgK1xyXG4gICAgICAgICAgICAnU3RhdGUgPSB7LzMyLycgK1xyXG4gICAgICAgICAgICAndGltZXN0YW1wX3VzOiB1MzIsJyArXHJcbiAgICAgICAgICAgICdzdGF0dXM6IHUxNiwnICtcclxuICAgICAgICAgICAgJ3YwX3JhdzogdTE2LCcgK1xyXG4gICAgICAgICAgICAnaTBfcmF3OiB1MTYsJyArXHJcbiAgICAgICAgICAgICdpMV9yYXc6IHUxNiwnICtcclxuICAgICAgICAgICAgJ2FjY2VsOiBWZWN0b3IzZiwnICtcclxuICAgICAgICAgICAgJ2d5cm86IFZlY3RvcjNmLCcgK1xyXG4gICAgICAgICAgICAnbWFnOiBWZWN0b3IzZiwnICtcclxuICAgICAgICAgICAgJ3RlbXBlcmF0dXJlOiB1MTYsJyArXHJcbiAgICAgICAgICAgICdwcmVzc3VyZTogdTMyLCcgK1xyXG4gICAgICAgICAgICAncHBtOiBbaTE2OjZdLCcgK1xyXG4gICAgICAgICAgICAnYXV4X2NoYW5fbWFzazogdTgsJyArXHJcbiAgICAgICAgICAgICdjb21tYW5kOiBSY0NvbW1hbmQsJyArXHJcbiAgICAgICAgICAgICdjb250cm9sOiB7IGZ6OiBmMzIsIHR4OiBmMzIsIHR5OiBmMzIsIHR6OiBmMzIgfSwnICtcclxuICAgICAgICAgICAgJ3BpZF9tYXN0ZXJfZno6IFBJRFN0YXRlLCcgK1xyXG4gICAgICAgICAgICAncGlkX21hc3Rlcl90eDogUElEU3RhdGUsJyArXHJcbiAgICAgICAgICAgICdwaWRfbWFzdGVyX3R5OiBQSURTdGF0ZSwnICtcclxuICAgICAgICAgICAgJ3BpZF9tYXN0ZXJfdHo6IFBJRFN0YXRlLCcgK1xyXG4gICAgICAgICAgICAncGlkX3NsYXZlX2Z6OiBQSURTdGF0ZSwnICtcclxuICAgICAgICAgICAgJ3BpZF9zbGF2ZV90eDogUElEU3RhdGUsJyArXHJcbiAgICAgICAgICAgICdwaWRfc2xhdmVfdHk6IFBJRFN0YXRlLCcgK1xyXG4gICAgICAgICAgICAncGlkX3NsYXZlX3R6OiBQSURTdGF0ZSwnICtcclxuICAgICAgICAgICAgJ21vdG9yX291dDogW2kxNjo4XSwnICtcclxuICAgICAgICAgICAgJ2tpbmVtYXRpY3NfYW5nbGU6IFJvdGF0aW9uLCcgK1xyXG4gICAgICAgICAgICAna2luZW1hdGljc19yYXRlOiBSb3RhdGlvbiwnICtcclxuICAgICAgICAgICAgJ2tpbmVtYXRpY3NfYWx0aXR1ZGU6IGYzMiwnICtcclxuICAgICAgICAgICAgJ2xvb3BfY291bnQ6IHUzMiB9Oyc7XHJcblxyXG4gICAgICAgIHZhciBhdXhNYXNrID0gJ0F1eE1hc2sgPSB7Ly8nICtcclxuICAgICAgICAgICAgJ2F1eDFfbG93OiB2b2lkLCcgK1xyXG4gICAgICAgICAgICAnYXV4MV9taWQ6IHZvaWQsJyArXHJcbiAgICAgICAgICAgICdhdXgxX2hpZ2g6IHZvaWQsJyArXHJcbiAgICAgICAgICAgICdhdXgyX2xvdzogdm9pZCwnICtcclxuICAgICAgICAgICAgJ2F1eDJfbWlkOiB2b2lkLCcgK1xyXG4gICAgICAgICAgICAnYXV4Ml9oaWdoOiB2b2lkIH07JztcclxuXHJcbiAgICAgICAgdmFyIGNvbW1hbmRzID0gYXV4TWFzayArICdDb21tYW5kID0gey8zMi8nICtcclxuICAgICAgICAgICAgJ3JlcXVlc3RfcmVzcG9uc2U6IHZvaWQsJyArXHJcbiAgICAgICAgICAgICdzZXRfZWVwcm9tX2RhdGE6IENvbmZpZ3VyYXRpb25GaXhlZCwnICtcclxuICAgICAgICAgICAgJ3JlaW5pdF9lZXByb21fZGF0YTogdm9pZCwnICtcclxuICAgICAgICAgICAgJ3JlcXVlc3RfZWVwcm9tX2RhdGE6IHZvaWQsJyArXHJcbiAgICAgICAgICAgICdyZXF1ZXN0X2VuYWJsZV9pdGVyYXRpb246IHU4LCcgK1xyXG4gICAgICAgICAgICAnbW90b3Jfb3ZlcnJpZGVfc3BlZWRfMDogdTE2LCcgK1xyXG4gICAgICAgICAgICAnbW90b3Jfb3ZlcnJpZGVfc3BlZWRfMTogdTE2LCcgK1xyXG4gICAgICAgICAgICAnbW90b3Jfb3ZlcnJpZGVfc3BlZWRfMjogdTE2LCcgK1xyXG4gICAgICAgICAgICAnbW90b3Jfb3ZlcnJpZGVfc3BlZWRfMzogdTE2LCcgK1xyXG4gICAgICAgICAgICAnbW90b3Jfb3ZlcnJpZGVfc3BlZWRfNDogdTE2LCcgK1xyXG4gICAgICAgICAgICAnbW90b3Jfb3ZlcnJpZGVfc3BlZWRfNTogdTE2LCcgK1xyXG4gICAgICAgICAgICAnbW90b3Jfb3ZlcnJpZGVfc3BlZWRfNjogdTE2LCcgK1xyXG4gICAgICAgICAgICAnbW90b3Jfb3ZlcnJpZGVfc3BlZWRfNzogdTE2LCcgK1xyXG4gICAgICAgICAgICAnc2V0X2NvbW1hbmRfb3ZlcnJpZGU6IGJvb2wsJyArXHJcbiAgICAgICAgICAgICdzZXRfc3RhdGVfbWFzazogdTMyLCcgK1xyXG4gICAgICAgICAgICAnc2V0X3N0YXRlX2RlbGF5OiB1MTYsJyArXHJcbiAgICAgICAgICAgICdzZXRfc2Rfd3JpdGVfZGVsYXk6IHUxNiwnICtcclxuICAgICAgICAgICAgJ3NldF9sZWQ6IHsnICtcclxuICAgICAgICAgICAgJyAgcGF0dGVybjogdTgsJyArXHJcbiAgICAgICAgICAgICcgIGNvbG9yX3JpZ2h0OiBDb2xvciwnICtcclxuICAgICAgICAgICAgJyAgY29sb3JfbGVmdDogQ29sb3IsJyArXHJcbiAgICAgICAgICAgICcgIGluZGljYXRvcl9yZWQ6IGJvb2wsJyArXHJcbiAgICAgICAgICAgICcgIGluZGljYXRvcl9ncmVlbjogYm9vbCB9LCcgK1xyXG4gICAgICAgICAgICAnc2V0X3NlcmlhbF9yYzogeyBlbmFibGVkOiBib29sLCBjb21tYW5kOiBSY0NvbW1hbmQsIGF1eF9tYXNrOiBBdXhNYXNrIH0sJyArXHJcbiAgICAgICAgICAgICdzZXRfY2FyZF9yZWNvcmRpbmdfc3RhdGU6IHsvOC8gcmVjb3JkX3RvX2NhcmQ6IHZvaWQsIGxvY2tfcmVjb3JkaW5nX3N0YXRlOiB2b2lkIH0sJyArXHJcbiAgICAgICAgICAgICdzZXRfcGFydGlhbF9lZXByb21fZGF0YTogQ29uZmlndXJhdGlvbiwnICtcclxuICAgICAgICAgICAgJ3JlaW5pdF9wYXJ0aWFsX2VlcHJvbV9kYXRhOiBDb25maWd1cmF0aW9uRmxhZywnICtcclxuICAgICAgICAgICAgJ3JlcV9wYXJ0aWFsX2VlcHJvbV9kYXRhOiBDb25maWd1cmF0aW9uRmxhZywnICtcclxuICAgICAgICAgICAgJ3JlcV9jYXJkX3JlY29yZGluZ19zdGF0ZTogdm9pZCwnICtcclxuICAgICAgICAgICAgJ3NldF9wYXJ0aWFsX3RlbXBvcmFyeV9jb25maWc6IENvbmZpZ3VyYXRpb24sJyArXHJcbiAgICAgICAgICAgICdzZXRfY29tbWFuZF9zb3VyY2VzOiB7LzgvIHNlcmlhbDogdm9pZCwgcmFkaW86IHZvaWQgfSwnICtcclxuICAgICAgICAgICAgJ3NldF9jYWxpYnJhdGlvbjogeyBlbmFibGVkOiBib29sLCBtb2RlOiB1OCB9LCcgK1xyXG4gICAgICAgICAgICAnc2V0X2F1dG9waWxvdF9lbmFibGVkOiBib29sLCcgK1xyXG4gICAgICAgICAgICAnc2V0X3VzYl9tb2RlOiB1OH07JztcclxuXHJcbiAgICAgICAgdmFyIGRlYnVnU3RyaW5nID0gXCJEZWJ1Z1N0cmluZyA9IHsgZGVwcmljYXRlZF9tYXNrOiB1MzIsIG1lc3NhZ2U6IHMgfTtcIjtcclxuICAgICAgICB2YXIgaGlzdG9yeURhdGEgPSBcIkhpc3RvcnlEYXRhID0gRGVidWdTdHJpbmc7XCI7XHJcbiAgICAgICAgdmFyIHJlc3BvbnNlID0gXCJSZXNwb25zZSA9IHsgbWFzazogdTMyLCBhY2s6IHUzMiB9O1wiO1xyXG5cclxuICAgICAgICB2YXIgaGFuZGxlcjE0ID0gY29uZmlnRnVsbDE0ICsgc3RhdGUgKyBjb21tYW5kcyArIGRlYnVnU3RyaW5nICsgaGlzdG9yeURhdGEgKyByZXNwb25zZTtcclxuICAgICAgICB2YXIgaGFuZGxlcjE1ID0gY29uZmlnRnVsbDE1ICsgc3RhdGUgKyBjb21tYW5kcyArIGRlYnVnU3RyaW5nICsgaGlzdG9yeURhdGEgKyByZXNwb25zZTtcclxuICAgICAgICB2YXIgaGFuZGxlcjE2ID0gY29uZmlnRnVsbDE2ICsgc3RhdGUgKyBjb21tYW5kcyArIGRlYnVnU3RyaW5nICsgaGlzdG9yeURhdGEgKyByZXNwb25zZTtcclxuXHJcbiAgICAgICAgaGFuZGxlckNhY2hlWycxLjQuMCddID0gRmx5YnJpeFNlcmlhbGl6YXRpb24ucGFyc2UoaGFuZGxlcjE0KTtcclxuICAgICAgICBoYW5kbGVyQ2FjaGVbJzEuNS4wJ10gPSBoYW5kbGVyQ2FjaGVbJzEuNS4xJ10gPSBGbHlicml4U2VyaWFsaXphdGlvbi5wYXJzZShoYW5kbGVyMTUpO1xyXG4gICAgICAgIGhhbmRsZXJDYWNoZVsnMS42LjAnXSA9IEZseWJyaXhTZXJpYWxpemF0aW9uLnBhcnNlKGhhbmRsZXIxNik7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIFNlcmlhbGl6ZXI6IEZseWJyaXhTZXJpYWxpemF0aW9uLlNlcmlhbGl6ZXIsXHJcbiAgICAgICAgICAgIGdldEhhbmRsZXI6IGZ1bmN0aW9uIChmaXJtd2FyZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXJDYWNoZVtmaXJtd2FyZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxufSgpKTtcclxuIl19
