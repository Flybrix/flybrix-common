!function(){"use strict";angular.module("flybrixCommon",[])}(),function(){"use strict";function e(){return{versions:{"1.4.0":"1.4.txt","1.5.0":"1.5.txt","1.5.1":"1.5.txt","1.6.0":"1.6.txt"},files:{"1.4.txt":"Vector3f={x:f32,y:f32,z:f32};PIDSettings={kp:f32,ki:f32,kd:f32,integral_windup_guard:f32,d_filter_time:f32,setpoint_filter_time:f32,command_to_value:f32};Version={major:u8,minor:u8,patch:u8};ConfigID=u32;PcbTransform={orientation:Vector3f,translation:Vector3f};MixTable={fz:[i8:8],tx:[i8:8],ty:[i8:8],tz:[i8:8]};MagBias={offset:Vector3f};ChannelProperties={assignment:{thrust:u8,pitch:u8,roll:u8,yaw:u8,aux1:u8,aux2:u8},inversion:{/8/thrust:void,pitch:void,roll:void,yaw:void,aux1:void,aux2:void},midpoint:[u16:6],deadzone:[u16:6]};PIDBypass={/8/thrust_master:void,pitch_master:void,roll_master:void,yaw_master:void,thrust_slave:void,pitch_slave:void,roll_slave:void,yaw_slave:void};PIDParameters={thrust_master:PIDSettings,pitch_master:PIDSettings,roll_master:PIDSettings,yaw_master:PIDSettings,thrust_slave:PIDSettings,pitch_slave:PIDSettings,roll_slave:PIDSettings,yaw_slave:PIDSettings,pid_bypass:PIDBypass};StateParameters={state_estimation:[f32:2],enable:[f32:2]};StatusFlag={/16/boot:void,mpu_fail:void,bmp_fail:void,rx_fail:void,idle:void,enabling:void,clear_mpu_bias:void,set_mpu_bias:void,fail_stability:void,fail_angle:void,enabled:void,battery_low:void,temp_warning:void,log_full:void,fail_other:void,override:void};Color={red:u8,green:u8,blue:u8};LEDStateColors={right_front:Color,right_back:Color,left_front:Color,left_back:Color};LEDStateCase={status:StatusFlag,pattern:u8,colors:LEDStateColors,indicator_red:bool,indicator_green:bool};LEDStates=[/16/LEDStateCase:16];LEDStatesFixed=[LEDStateCase:16];DeviceName=s9;Configuration={/16/version:Version,id:ConfigID,pcb_transform:PcbTransform,mix_table:MixTable,mag_bias:MagBias,channel:ChannelProperties,pid_parameters:PIDParameters,state_parameters:StateParameters,led_states:LEDStates,name:DeviceName};ConfigurationFixed={version:Version,id:ConfigID,pcb_transform:PcbTransform,mix_table:MixTable,mag_bias:MagBias,channel:ChannelProperties,pid_parameters:PIDParameters,state_parameters:StateParameters,led_states:LEDStatesFixed,name:DeviceName};ConfigurationFlag={/16/version:void,id:void,pcb_transform:void,mix_table:void,mag_bias:void,channel:void,pid_parameters:void,state_parameters:void,led_states:[//void:16],name:void};Rotation={pitch:f32,roll:f32,yaw:f32};PIDState={timestamp_us:u32,input:f32,setpoint:f32,p_term:f32,i_term:f32,d_term:f32};RcCommand={throttle:i16,pitch:i16,roll:i16,yaw:i16};State={/32/timestamp_us:u32,status:StatusFlag,v0_raw:u16,i0_raw:u16,i1_raw:u16,accel:Vector3f,gyro:Vector3f,mag:Vector3f,temperature:u16,pressure:u32,ppm:[i16:6],aux_chan_mask:u8,command:RcCommand,control:{fz:f32,tx:f32,ty:f32,tz:f32},pid_master_fz:PIDState,pid_master_tx:PIDState,pid_master_ty:PIDState,pid_master_tz:PIDState,pid_slave_fz:PIDState,pid_slave_tx:PIDState,pid_slave_ty:PIDState,pid_slave_tz:PIDState,motor_out:[i16:8],kinematics_angle:Rotation,kinematics_rate:Rotation,kinematics_altitude:f32,loop_count:u32};StateFields={/32/timestamp_us:void,status:void,v0_raw:void,i0_raw:void,i1_raw:void,accel:void,gyro:void,mag:void,temperature:void,pressure:void,ppm:void,aux_chan_mask:void,command:void,control:void,pid_master_fz:void,pid_master_tx:void,pid_master_ty:void,pid_master_tz:void,pid_slave_fz:void,pid_slave_tx:void,pid_slave_ty:void,pid_slave_tz:void,motor_out:void,kinematics_angle:void,kinematics_rate:void,kinematics_altitude:void,loop_count:void};AuxMask={//aux1_low:void,aux1_mid:void,aux1_high:void,aux2_low:void,aux2_mid:void,aux2_high:void};Command={/32/request_response:void,set_eeprom_data:ConfigurationFixed,reinit_eeprom_data:void,request_eeprom_data:void,request_enable_iteration:u8,motor_override_speed_0:u16,motor_override_speed_1:u16,motor_override_speed_2:u16,motor_override_speed_3:u16,motor_override_speed_4:u16,motor_override_speed_5:u16,motor_override_speed_6:u16,motor_override_speed_7:u16,set_command_override:bool,set_state_mask:StateFields,set_state_delay:u16,set_sd_write_delay:u16,set_led:{pattern:u8,color_right:Color,color_left:Color,indicator_red:bool,indicator_green:bool},set_serial_rc:{enabled:bool,command:RcCommand,aux_mask:AuxMask},set_card_recording_state:{/8/record_to_card:void,lock_recording_state:void},set_partial_eeprom_data:Configuration,reinit_partial_eeprom_data:ConfigurationFlag,req_partial_eeprom_data:ConfigurationFlag,req_card_recording_state:void,set_partial_temporary_config:Configuration,set_command_sources:{/8/serial:void,radio:void},set_calibration:{enabled:bool,mode:u8},set_autopilot_enabled:bool,set_usb_mode:u8};DebugString={deprecated_mask:u32,message:s};HistoryData=DebugString;Response={mask:u32,ack:u32};","1.5.txt":"Vector3f={x:f32,y:f32,z:f32};PIDSettings={kp:f32,ki:f32,kd:f32,integral_windup_guard:f32,d_filter_time:f32,setpoint_filter_time:f32,command_to_value:f32};Version={major:u8,minor:u8,patch:u8};ConfigID=u32;PcbTransform={orientation:Vector3f,translation:Vector3f};MixTable={fz:[i8:8],tx:[i8:8],ty:[i8:8],tz:[i8:8]};MagBias={offset:Vector3f};ChannelProperties={assignment:{thrust:u8,pitch:u8,roll:u8,yaw:u8,aux1:u8,aux2:u8},inversion:{/8/thrust:void,pitch:void,roll:void,yaw:void,aux1:void,aux2:void},midpoint:[u16:6],deadzone:[u16:6]};PIDBypass={/8/thrust_master:void,pitch_master:void,roll_master:void,yaw_master:void,thrust_slave:void,pitch_slave:void,roll_slave:void,yaw_slave:void};PIDParameters={thrust_master:PIDSettings,pitch_master:PIDSettings,roll_master:PIDSettings,yaw_master:PIDSettings,thrust_slave:PIDSettings,pitch_slave:PIDSettings,roll_slave:PIDSettings,yaw_slave:PIDSettings,thrust_gain:f32,pitch_gain:f32,roll_gain:f32,yaw_gain:f32,pid_bypass:PIDBypass};StateParameters={state_estimation:[f32:2],enable:[f32:2]};StatusFlag={/16/boot:void,mpu_fail:void,bmp_fail:void,rx_fail:void,idle:void,enabling:void,clear_mpu_bias:void,set_mpu_bias:void,fail_stability:void,fail_angle:void,enabled:void,battery_low:void,temp_warning:void,log_full:void,fail_other:void,override:void};Color={red:u8,green:u8,blue:u8};LEDStateColors={right_front:Color,right_back:Color,left_front:Color,left_back:Color};LEDStateCase={status:StatusFlag,pattern:u8,colors:LEDStateColors,indicator_red:bool,indicator_green:bool};LEDStates=[/16/LEDStateCase:16];LEDStatesFixed=[LEDStateCase:16];DeviceName=s9;Configuration={/16/version:Version,id:ConfigID,pcb_transform:PcbTransform,mix_table:MixTable,mag_bias:MagBias,channel:ChannelProperties,pid_parameters:PIDParameters,state_parameters:StateParameters,led_states:LEDStates,name:DeviceName};ConfigurationFixed={version:Version,id:ConfigID,pcb_transform:PcbTransform,mix_table:MixTable,mag_bias:MagBias,channel:ChannelProperties,pid_parameters:PIDParameters,state_parameters:StateParameters,led_states:LEDStatesFixed,name:DeviceName};ConfigurationFlag={/16/version:void,id:void,pcb_transform:void,mix_table:void,mag_bias:void,channel:void,pid_parameters:void,state_parameters:void,led_states:[//void:16],name:void,velocity_pid_parameters:void,inertial_bias:void};Rotation={pitch:f32,roll:f32,yaw:f32};PIDState={timestamp_us:u32,input:f32,setpoint:f32,p_term:f32,i_term:f32,d_term:f32};RcCommand={throttle:i16,pitch:i16,roll:i16,yaw:i16};State={/32/timestamp_us:u32,status:StatusFlag,v0_raw:u16,i0_raw:u16,i1_raw:u16,accel:Vector3f,gyro:Vector3f,mag:Vector3f,temperature:u16,pressure:u32,ppm:[i16:6],aux_chan_mask:u8,command:RcCommand,control:{fz:f32,tx:f32,ty:f32,tz:f32},pid_master_fz:PIDState,pid_master_tx:PIDState,pid_master_ty:PIDState,pid_master_tz:PIDState,pid_slave_fz:PIDState,pid_slave_tx:PIDState,pid_slave_ty:PIDState,pid_slave_tz:PIDState,motor_out:[i16:8],kinematics_angle:Rotation,kinematics_rate:Rotation,kinematics_altitude:f32,loop_count:u32};StateFields={/32/timestamp_us:void,status:void,v0_raw:void,i0_raw:void,i1_raw:void,accel:void,gyro:void,mag:void,temperature:void,pressure:void,ppm:void,aux_chan_mask:void,command:void,control:void,pid_master_fz:void,pid_master_tx:void,pid_master_ty:void,pid_master_tz:void,pid_slave_fz:void,pid_slave_tx:void,pid_slave_ty:void,pid_slave_tz:void,motor_out:void,kinematics_angle:void,kinematics_rate:void,kinematics_altitude:void,loop_count:void};AuxMask={//aux1_low:void,aux1_mid:void,aux1_high:void,aux2_low:void,aux2_mid:void,aux2_high:void};Command={/32/request_response:void,set_eeprom_data:ConfigurationFixed,reinit_eeprom_data:void,request_eeprom_data:void,request_enable_iteration:u8,motor_override_speed_0:u16,motor_override_speed_1:u16,motor_override_speed_2:u16,motor_override_speed_3:u16,motor_override_speed_4:u16,motor_override_speed_5:u16,motor_override_speed_6:u16,motor_override_speed_7:u16,set_command_override:bool,set_state_mask:StateFields,set_state_delay:u16,set_sd_write_delay:u16,set_led:{pattern:u8,color_right:Color,color_left:Color,indicator_red:bool,indicator_green:bool},set_serial_rc:{enabled:bool,command:RcCommand,aux_mask:AuxMask},set_card_recording_state:{/8/record_to_card:void,lock_recording_state:void},set_partial_eeprom_data:Configuration,reinit_partial_eeprom_data:ConfigurationFlag,req_partial_eeprom_data:ConfigurationFlag,req_card_recording_state:void,set_partial_temporary_config:Configuration,set_command_sources:{/8/serial:void,radio:void},set_calibration:{enabled:bool,mode:u8},set_autopilot_enabled:bool,set_usb_mode:u8};DebugString={deprecated_mask:u32,message:s};HistoryData=DebugString;Response={mask:u32,ack:u32};","1.6.txt":"Vector3f={x:f32,y:f32,z:f32};PIDSettings={kp:f32,ki:f32,kd:f32,integral_windup_guard:f32,d_filter_time:f32,setpoint_filter_time:f32,command_to_value:f32};Version={major:u8,minor:u8,patch:u8};ConfigID=u32;PcbTransform={orientation:Vector3f,translation:Vector3f};MixTable={fz:[i8:8],tx:[i8:8],ty:[i8:8],tz:[i8:8]};MagBias={offset:Vector3f};ChannelProperties={assignment:{thrust:u8,pitch:u8,roll:u8,yaw:u8,aux1:u8,aux2:u8},inversion:{/8/thrust:void,pitch:void,roll:void,yaw:void,aux1:void,aux2:void},midpoint:[u16:6],deadzone:[u16:6]};PIDBypass={/8/thrust_master:void,pitch_master:void,roll_master:void,yaw_master:void,thrust_slave:void,pitch_slave:void,roll_slave:void,yaw_slave:void};PIDParameters={thrust_master:PIDSettings,pitch_master:PIDSettings,roll_master:PIDSettings,yaw_master:PIDSettings,thrust_slave:PIDSettings,pitch_slave:PIDSettings,roll_slave:PIDSettings,yaw_slave:PIDSettings,thrust_gain:f32,pitch_gain:f32,roll_gain:f32,yaw_gain:f32,pid_bypass:PIDBypass};StateParameters={state_estimation:[f32:2],enable:[f32:2]};StatusFlag={/16/_0:void,_1:void,_2:void,no_signal:void,idle:void,arming:void,recording_sd:void,_7:void,loop_slow:void,_9:void,armed:void,battery_low:void,battery_critical:void,log_full:void,crash_detected:void,override:void};Color={red:u8,green:u8,blue:u8};LEDStateColors={right_front:Color,right_back:Color,left_front:Color,left_back:Color};LEDStateCase={status:StatusFlag,pattern:u8,colors:LEDStateColors,indicator_red:bool,indicator_green:bool};LEDStates=[/16/LEDStateCase:16];LEDStatesFixed=[LEDStateCase:16];DeviceName=s9;InertialBias={accel:Vector3f,gyro:Vector3f};VelocityPIDBypass={/8/forward_master:void,right_master:void,up_master:void,_unused_master:void,forward_slave:void,right_slave:void,up_slave:void,_unused_slave:void};VelocityPIDParameters={forward_master:PIDSettings,right_master:PIDSettings,up_master:PIDSettings,forward_slave:PIDSettings,right_slave:PIDSettings,up_slave:PIDSettings,pid_bypass:VelocityPIDBypass};Configuration={/16/version:Version,id:ConfigID,pcb_transform:PcbTransform,mix_table:MixTable,mag_bias:MagBias,channel:ChannelProperties,pid_parameters:PIDParameters,state_parameters:StateParameters,led_states:LEDStates,name:DeviceName,velocity_pid_parameters:VelocityPIDParameters,inertial_bias:InertialBias};ConfigurationFixed={version:Version,id:ConfigID,pcb_transform:PcbTransform,mix_table:MixTable,mag_bias:MagBias,channel:ChannelProperties,pid_parameters:PIDParameters,state_parameters:StateParameters,led_states:LEDStatesFixed,name:DeviceName,velocity_pid_parameters:VelocityPIDParameters,inertial_bias:InertialBias};ConfigurationFlag={/16/version:void,id:void,pcb_transform:void,mix_table:void,mag_bias:void,channel:void,pid_parameters:void,state_parameters:void,led_states:[//void:16],name:void,velocity_pid_parameters:void,inertial_bias:void};Rotation={pitch:f32,roll:f32,yaw:f32};PIDState={timestamp_us:u32,input:f32,setpoint:f32,p_term:f32,i_term:f32,d_term:f32};RcCommand={throttle:i16,pitch:i16,roll:i16,yaw:i16};State={/32/timestamp_us:u32,status:StatusFlag,v0_raw:u16,i0_raw:u16,i1_raw:u16,accel:Vector3f,gyro:Vector3f,mag:Vector3f,temperature:u16,pressure:u32,ppm:[i16:6],aux_chan_mask:u8,command:RcCommand,control:{fz:f32,tx:f32,ty:f32,tz:f32},pid_master_fz:PIDState,pid_master_tx:PIDState,pid_master_ty:PIDState,pid_master_tz:PIDState,pid_slave_fz:PIDState,pid_slave_tx:PIDState,pid_slave_ty:PIDState,pid_slave_tz:PIDState,motor_out:[i16:8],kinematics_angle:Rotation,kinematics_rate:Rotation,kinematics_altitude:f32,loop_count:u32};StateFields={/32/timestamp_us:void,status:void,v0_raw:void,i0_raw:void,i1_raw:void,accel:void,gyro:void,mag:void,temperature:void,pressure:void,ppm:void,aux_chan_mask:void,command:void,control:void,pid_master_fz:void,pid_master_tx:void,pid_master_ty:void,pid_master_tz:void,pid_slave_fz:void,pid_slave_tx:void,pid_slave_ty:void,pid_slave_tz:void,motor_out:void,kinematics_angle:void,kinematics_rate:void,kinematics_altitude:void,loop_count:void};AuxMask={//aux1_low:void,aux1_mid:void,aux1_high:void,aux2_low:void,aux2_mid:void,aux2_high:void};Command={/32/request_response:void,set_eeprom_data:ConfigurationFixed,reinit_eeprom_data:void,request_eeprom_data:void,request_enable_iteration:u8,motor_override_speed_0:u16,motor_override_speed_1:u16,motor_override_speed_2:u16,motor_override_speed_3:u16,motor_override_speed_4:u16,motor_override_speed_5:u16,motor_override_speed_6:u16,motor_override_speed_7:u16,set_command_override:bool,set_state_mask:StateFields,set_state_delay:u16,set_sd_write_delay:u16,set_led:{pattern:u8,color_right:Color,color_left:Color,indicator_red:bool,indicator_green:bool},set_serial_rc:{enabled:bool,command:RcCommand,aux_mask:AuxMask},set_card_recording_state:{/8/record_to_card:void,lock_recording_state:void},set_partial_eeprom_data:Configuration,reinit_partial_eeprom_data:ConfigurationFlag,req_partial_eeprom_data:ConfigurationFlag,req_card_recording_state:void,set_partial_temporary_config:Configuration,set_command_sources:{/8/serial:void,radio:void},set_calibration:{enabled:bool,mode:u8},set_autopilot_enabled:bool,set_usb_mode:u8};DebugString={deprecated_mask:u32,message:s};HistoryData=DebugString;Response={mask:u32,ack:u32};"}}}e.$inject=[],angular.module("flybrixCommon").factory("descriptorsHandler",e)}(),function(){"use strict";function e(a,i){return{magnetometer:function(){return a("Calibrating magnetometer bias"),i.sendStructure("Command",{request_response:!0,set_calibration:{enabled:!0,mode:0}},!1)},accelerometer:{flat:e.bind(null,"flat",0),forward:e.bind(null,"lean forward",1),back:e.bind(null,"lean back",2),right:e.bind(null,"lean right",3),left:e.bind(null,"lean left",4)},finish:function(){return a("Finishing calibration"),i.sendStructure("Command",{request_response:!0,set_calibration:{enabled:!1,mode:0}},!1)}};function e(e,t){return a("Calibrating gravity for pose: "+e),i.sendStructure("Command",{request_response:!0,set_calibration:{enabled:!0,mode:t+1}},!1)}}angular.module("flybrixCommon").factory("calibration",e),e.$inject=["commandLog","serial"]}(),function(){"use strict";function e(e){void 0===e&&(e=2e3),this.N=e,this.buffer=new Uint8Array(e),this.ready_for_new_message=!0,this.buffer_length=0}function _(e){for(var t=0,a=0,i=0,r=!1;e.buffer[t];)i?(--i,e.buffer[a++]=e.buffer[t++]):(r&&(e.buffer[a++]=0),r=(i=e.buffer[t++]-1)<254);return i?0:a}function t(e){for(var t=new Uint8Array(Math.floor((255*e.byteLength+761)/254)),a=1,i=0,r=0;r<e.length;++r){254==t[i]&&(t[i]=255,t[i=a++]=0);var o=e[r];++t[i],o?t[a++]=o:t[i=a++]=0}return t.subarray(0,a).slice().buffer}angular.module("flybrixCommon").factory("cobs",function(){return{Reader:e,encode:t}}),e.prototype.readBytes=function(e,t,a){for(var i=0;i<e.length;i++){var r=e[i];if(this.ready_for_new_message&&(this.ready_for_new_message=!1,this.buffer_length=0),this.buffer[this.buffer_length++]=r)this.buffer_length===this.N&&(a("overflow","buffer overflow in COBS decoding"),this.ready_for_new_message=!0);else{this.buffer_length=_(this);var o,n=0===this.buffer_length;for(n&&(this.buffer[0]=1),o=1;o<this.buffer_length;++o)this.buffer[0]^=this.buffer[o];if(0===this.buffer[0])this.ready_for_new_message=!0,0<this.buffer_length?t(this.buffer.slice(1,this.buffer_length)):a("short","Too short packet");else{this.ready_for_new_message=!0;var s="",d="";for(o=0;o<this.buffer_length;o++)s+=this.buffer[o]+",",d+=String.fromCharCode(this.buffer[o]);if(n)a("frame","Unexpected ending of packet");else a("checksum","BAD CHECKSUM ("+this.buffer_length+" bytes)"+s+d)}}}}}(),function(){"use strict";function e(e){var t=[],a=e.defer(),i=r;return i.log=r,i.clearSubscribers=function(){a=e.defer()},i.onMessage=function(e){return a.promise.then(void 0,void 0,e)},i.read=o,i;function r(e){void 0!==e&&(t.push(e),a.notify(o()))}function o(){return t}}angular.module("flybrixCommon").factory("commandLog",e),e.$inject=["$q"]}(),function(){"use strict";function e(n,a,s,i){var d,r=function(){a("No callback defined for receiving configurations!")},o=function(){a("No callback defined for receiving logging state! Callback arguments: (isLogging, isLocked, delay)")};function _(){var e=s.serializationHandler();return a("Requesting current configuration data..."),n.sendStructure("Command",{request_response:!0,req_partial_eeprom_data:e.ConfigurationFlag.empty()},!1)}function t(e){var t=s.serializationHandler(),a=e.mask||t.ConfigurationFlag.empty(),i=e.config||d,r=e.requestUpdate||!1,o={request_response:!0};return e.temporary?(o.set_partial_temporary_config=i,a={set_partial_temporary_config:a}):(o.set_partial_eeprom_data=i,a={set_partial_eeprom_data:a}),n.sendStructure("Command",o,!0,a).then(function(){r&&_()})}function u(e){var t=[(d=i.updateFields(d,e)).version.major,d.version.minor,d.version.patch];s.set(t),s.supported()?(a("Received configuration data (v"+t[0]+"."+t[1]+"."+t[2]+")"),r()):(a("Received an unsupported configuration!"),a("Found version: "+t[0]+"."+t[1]+"."+t[2]+" --- Newest version: "+s.desiredKey()))}return n.addOnReceiveCallback(function(e,t){if("Command"===e&&("set_eeprom_data"in t&&u(t.set_eeprom_data),"set_partial_eeprom_data"in t&&u(t.set_partial_eeprom_data),"set_card_recording_state"in t&&"set_sd_write_delay"in t)){var a=t.set_card_recording_state,i=t.set_sd_write_delay;o(a.record_to_card,a.lock_recording_state,i)}}),d=s.serializationHandler().Configuration.empty(),{request:_,reinit:function(){return a("Setting factory default configuration data..."),n.sendStructure("Command",{request_response:!0,reinit_eeprom_data:!0},!1).then(function(){return _()},function(e){a("Request for factory reset failed: "+e)})},send:function(e){return t({config:e,temporary:!1,requestUpdate:!0})},sendConfig:t,getConfig:function(){return d},setConfigCallback:function(e){r=e},setLoggingCallback:function(e){o=e},getDesiredVersion:function(){return s.desired()}}}angular.module("flybrixCommon").factory("deviceConfig",e),e.$inject=["serial","commandLog","firmwareVersion","serializationHandler"]}(),function(){"use strict";function e(t){var a=[0,0,0],i="0.0.0",e=t.getNewestVersion(),r=[e.major,e.minor,e.patch],o=r[0].toString()+"."+r[1].toString()+"."+r[2].toString(),n=t.getHandler(o),s=n;return{set:function(e){i=(a=e).join("."),s=t.getHandler(o)||n},get:function(){return a},key:function(){return i},supported:function(){return!!t.getHandler(i)},desired:function(){return r},desiredKey:function(){return o},serializationHandler:function(){return s}}}angular.module("flybrixCommon").factory("firmwareVersion",e),e.$inject=["serializationHandler"]}(),function(){"use strict";function e(s,d){var r={NO_OVERRIDE:0,FLASH:1,BEACON:2,BREATHE:3,ALTERNATE:4,SOLID:5},_=["right_front","right_back","left_front","left_back"],u={};_.forEach(function(e){u[e]={red:0,green:0,blue:0}});var l={status:65535,pattern:r.SOLID,colors:u,indicator_red:!1,indicator_green:!1},m={led_states:[l]};function o(e,t,a,i,r,o,n){l.status=d.serializationHandler().StatusFlag.empty(),0<r&&r<6&&(l.pattern=r),[e,t,a,i].forEach(function(e,t){if(e){var a=u[_[t]];a.red=e.red,a.green=e.green,a.blue=e.blue}}),void 0!==o&&(l.indicator_red=o),void 0!==n&&(l.indicator_green=n),s.sendConfig({config:m,temporary:!0})}return{set:o,setSimple:function(e,t,a){var i={red:e||0,green:t||0,blue:a||0};o(i,i,i,i,r.SOLID)},patterns:r}}angular.module("flybrixCommon").factory("led",e),e.$inject=["deviceConfig","firmwareVersion"]}(),function(){"use strict";function e(a){var e={LOW:0,MID:1,HIGH:2},i=["low","mid","high"],r=-1,o=0,n=0,s=0,d=e.HIGH,_=e.HIGH,u=!0;return{setThrottle:function(e){r=e},setPitch:function(e){o=e},setRoll:function(e){n=e},setYaw:function(e){s=e},setAux1:function(e){d=Math.max(0,Math.min(2,e))},setAux2:function(e){_=Math.max(0,Math.min(2,e))},getThrottle:function(){return r},getPitch:function(){return o},getRoll:function(){return n},getYaw:function(){return s},getAux1:function(){return d},getAux2:function(){return _},AUX:e,send:function(){if(!u&&a.busy())return;u=!1;var e={};e.throttle=l(4095*(r- -.8)/1.8,0,4095),e.pitch=l(4095*-m(o,.1)/2,-2047,2047),e.roll=l(4095*m(n,.1)/2,-2047,2047),e.yaw=l(4095*-m(s,.1)/2,-2047,2047);var t={};return t["aux1_"+i[d]]=!0,t["aux2_"+i[_]]=!0,a.sendStructure("Command",{request_response:!0,set_serial_rc:{enabled:!0,command:e,aux_mask:t}},!1)},forceNextSend:function(){u=!0}};function l(e,t,a){return Math.max(t,Math.min(e,a))}function m(e,t){return t<e?e-t:e<-t?e+t:0}}angular.module("flybrixCommon").factory("rcData",e),e.$inject=["serial"]}(),function(){"use strict";function e(f,v,p,g,b,h){var y={State:0,Command:1,DebugString:3,HistoryData:4,Protocol:128,Response:255},S=[],D=new e,o=[],t=new p.Reader(1e4),a=void 0;function e(){}e.prototype.busy=function(){return!1},e.prototype.send=function(e){g('No "send" defined for serial backend')},e.prototype.onRead=function(e){g('No "onRead" defined for serial backend')};var n,s=[];return Object.keys(y).forEach(function(e){s[y[e]]=e}),_(function(e,t){if("Response"===e)!function(e,t){for(;0<S.length;){var a=S.shift();if(!(a.mask^e)){var i=e;if((i&=-2)^t){a.response.reject("Request was not fully processed");break}a.response.resolve();break}a.response.reject("Missing ACK")}}(t.mask,t.ack);else if("Protocol"===e){var a=t.response;a&&h.addHandler(a.version,a.structure)}}),{busy:function(){return D.busy()},sendStructure:i,setBackend:function(e){(D=e).onRead=r},addOnReceiveCallback:_,removeOnReceiveCallback:function(t){o=o.filter(function(e){return e!==t})},setBytesHandler:function(e){a=e},handlePostConnect:function(){return i("Command",{request_response:!0,req_partial_eeprom_data:{version:!0}})},Backend:e};function i(e,t,a,i){"State"===e&&(t=function(e){"temperature"in(e=Object.assign({},e))&&(e.temperature*=100);"pressure"in e&&(e.pressure*=256);return e}(t));var r=b.serializationHandler(),o=v.defer();if(!(e in y))return o.reject('Message type "'+e+'" not supported by app, supported message types are:'+Object.keys(y).join(", ")),o.promise;if(!(e in r))return o.reject('Message type "'+e+'" not supported by firmware, supported message types are:'+Object.keys(r).join(", ")),o.promise;var n=y[e],s=r[e],d=new Uint8Array(s.byteCount),_=new h.Serializer(new DataView(d.buffer));s.encode(_,t,i);var u=s.maskArray(t,i);u.length<5&&(u=u[0]<<0|u[1]<<8|u[2]<<16|u[3]<<24);var l=_.index,m=new Uint8Array(l+3);m[0]=m[1]=n;for(var c=0;c<l;++c)m[0]^=m[c+2]=d[c];return m[l+2]=0,S.push({mask:u,response:o}),f(function(){D.send(new Uint8Array(p.encode(m)))},0),a&&g("Sending command "+n),o.promise}function r(e){a?a(e,u):t.readBytes(e,u,d)}function d(e,t){g("COBS decoding failed ("+e+"): "+t)}function _(e){o=o.concat([e])}function u(e){var t=s[e[0]],a=b.serializationHandler()[t];if(t&&a){try{var i=new h.Serializer(new DataView(e.buffer,1)),r=a.decode(i)}catch(e){g("Unrecognized message format received")}"State"===t&&(r=function(e){e=Object.assign({},e);"timestamp_us"in e&&(e.serial_update_rate_estimate=1e6/(e.timestamp_us-n),n=e.timestamp_us);"temperature"in e&&(e.temperature/=100);"pressure"in e&&(e.pressure/=256);return e}(r)),o.forEach(function(e){e(t,r)})}else g("Illegal message type passed from firmware")}}angular.module("flybrixCommon").factory("serial",e),e.$inject=["$timeout","$q","cobs","commandLog","firmwareVersion","serializationHandler"]}(),function(){"use strict";function e(e){var a={},i={major:0,minor:0,patch:0};function r(e){return e.major!==i.major?e.major>i.major:e.minor!==i.minor?e.minor>i.minor:e.patch>i.patch}function o(e){return e.major.toString()+"."+e.minor.toString()+"."+e.patch.toString()}function n(e,t){r(e)&&(i={major:e.major,minor:e.minor,patch:e.patch}),a[o(e)]=FlybrixSerialization.parse(t)}function s(e,t){r(e)&&(i={major:e.major,minor:e.minor,patch:e.patch}),a[o(e)]=a[o(t)]}var d=e.versions,_=e.files,u={};function l(e,t){return t instanceof Array?function(e,t){for(var a=Math.max(e.length,t.length),i=[],r=0;r<a;++r)i.push(l(e[r],t[r]));return i}(e,t):t instanceof Object?(a=e,i=t,r={},Object.keys(a).forEach(function(e){r[e]=l(a[e],i[e])}),Object.keys(i).forEach(function(e){e in r||(r[e]=l(a[e],i[e]))}),r):null==t?e:t;var a,i,r}return Object.keys(d).forEach(function(e){var t,a=(t=e.split("."),{major:parseInt(t[0]),minor:parseInt(t[1]),patch:parseInt(t[2])}),i=_[e];i in u?s(a,u[i]):(i=d[e],n(a,_[i]),u[i]=a)}),{Serializer:FlybrixSerialization.Serializer,getHandler:function(e){return a[e]},getNewestVersion:function(){return i},addHandler:n,copyHandler:s,updateFields:l}}e.$inject=["descriptorsHandler"],angular.module("flybrixCommon").factory("serializationHandler",e)}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImRlc2NyaXB0b3JzLmpzIiwiY2FsaWJyYXRpb24uanMiLCJjb2JzLmpzIiwiY29tbWFuZExvZy5qcyIsImRldmljZUNvbmZpZy5qcyIsImZpcm13YXJlVmVyc2lvbi5qcyIsImxlZC5qcyIsInJjRGF0YS5qcyIsInNlcmlhbC5qcyIsInNlcmlhbGl6YXRpb25IYW5kbGVyLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJkZXNjcmlwdG9yc0hhbmRsZXIiLCJ2ZXJzaW9ucyIsIjEuNC4wIiwiMS41LjAiLCIxLjUuMSIsIjEuNi4wIiwiZmlsZXMiLCIxLjQudHh0IiwiMS41LnR4dCIsIjEuNi50eHQiLCIkaW5qZWN0IiwiZmFjdG9yeSIsImNhbGlicmF0aW9uIiwiY29tbWFuZExvZyIsInNlcmlhbCIsIm1hZ25ldG9tZXRlciIsInNlbmRTdHJ1Y3R1cmUiLCJyZXF1ZXN0X3Jlc3BvbnNlIiwic2V0X2NhbGlicmF0aW9uIiwiZW5hYmxlZCIsIm1vZGUiLCJhY2NlbGVyb21ldGVyIiwiZmxhdCIsImNhbGlicmF0ZUFjY2VsZXJvbWV0ZXIiLCJiaW5kIiwiZm9yd2FyZCIsImJhY2siLCJyaWdodCIsImxlZnQiLCJmaW5pc2giLCJwb3NlRGVzY3JpcHRpb24iLCJwb3NlSWQiLCJSZWFkZXIiLCJjYXBhY2l0eSIsInVuZGVmaW5lZCIsInRoaXMiLCJOIiwiYnVmZmVyIiwiVWludDhBcnJheSIsInJlYWR5X2Zvcl9uZXdfbWVzc2FnZSIsImJ1ZmZlcl9sZW5ndGgiLCJjb2JzRGVjb2RlIiwicmVhZGVyIiwic3JjX3B0ciIsImRzdF9wdHIiLCJsZWZ0b3Zlcl9sZW5ndGgiLCJhcHBlbmRfemVybyIsImVuY29kZSIsImJ1ZiIsInJldHZhbCIsIk1hdGgiLCJmbG9vciIsImJ5dGVMZW5ndGgiLCJsZW4iLCJwb3NfY3RyIiwiaSIsImxlbmd0aCIsInZhbCIsInN1YmFycmF5Iiwic2xpY2UiLCJwcm90b3R5cGUiLCJyZWFkQnl0ZXMiLCJkYXRhIiwib25TdWNjZXNzIiwib25FcnJvciIsImMiLCJqIiwiZmFpbGVkX2RlY29kZSIsImJ5dGVzIiwibWVzc2FnZSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsIiRxIiwibWVzc2FnZXMiLCJyZXNwb25kZXIiLCJkZWZlciIsInNlcnZpY2UiLCJsb2ciLCJjbGVhclN1YnNjcmliZXJzIiwib25NZXNzYWdlIiwiY2FsbGJhY2siLCJwcm9taXNlIiwidGhlbiIsInJlYWQiLCJwdXNoIiwibm90aWZ5IiwiZGV2aWNlQ29uZmlnIiwiZmlybXdhcmVWZXJzaW9uIiwic2VyaWFsaXphdGlvbkhhbmRsZXIiLCJjb25maWciLCJjb25maWdDYWxsYmFjayIsImxvZ2dpbmdDYWxsYmFjayIsInJlcXVlc3QiLCJoYW5kbGVycyIsInJlcV9wYXJ0aWFsX2VlcHJvbV9kYXRhIiwiQ29uZmlndXJhdGlvbkZsYWciLCJlbXB0eSIsInNlbmRDb25maWciLCJwcm9wZXJ0aWVzIiwibWFzayIsIm5ld0NvbmZpZyIsInJlcXVlc3RVcGRhdGUiLCJ0ZW1wb3JhcnkiLCJzZXRfcGFydGlhbF90ZW1wb3JhcnlfY29uZmlnIiwic2V0X3BhcnRpYWxfZWVwcm9tX2RhdGEiLCJ1cGRhdGVDb25maWdGcm9tUmVtb3RlRGF0YSIsImNvbmZpZ0NoYW5nZXMiLCJ2ZXJzaW9uIiwidXBkYXRlRmllbGRzIiwibWFqb3IiLCJtaW5vciIsInBhdGNoIiwic2V0Iiwic3VwcG9ydGVkIiwiZGVzaXJlZEtleSIsImFkZE9uUmVjZWl2ZUNhbGxiYWNrIiwibWVzc2FnZVR5cGUiLCJzZXRfZWVwcm9tX2RhdGEiLCJjYXJkX3JlY19zdGF0ZSIsInNldF9jYXJkX3JlY29yZGluZ19zdGF0ZSIsInNkX3dyaXRlX2RlbGF5Iiwic2V0X3NkX3dyaXRlX2RlbGF5IiwicmVjb3JkX3RvX2NhcmQiLCJsb2NrX3JlY29yZGluZ19zdGF0ZSIsIkNvbmZpZ3VyYXRpb24iLCJyZWluaXQiLCJyZWluaXRfZWVwcm9tX2RhdGEiLCJyZWFzb24iLCJzZW5kIiwiZ2V0Q29uZmlnIiwic2V0Q29uZmlnQ2FsbGJhY2siLCJzZXRMb2dnaW5nQ2FsbGJhY2siLCJnZXREZXNpcmVkVmVyc2lvbiIsImRlc2lyZWQiLCJrZXkiLCJuZXdlc3RWZXJzaW9uIiwiZ2V0TmV3ZXN0VmVyc2lvbiIsInRvU3RyaW5nIiwiZGVmYXVsdFNlcmlhbGl6YXRpb25IYW5kbGVyIiwiZ2V0SGFuZGxlciIsImN1cnJlbnRTZXJpYWxpemF0aW9uSGFuZGxlciIsInZhbHVlIiwiam9pbiIsImdldCIsImxlZCIsIkxlZFBhdHRlcm5zIiwiTk9fT1ZFUlJJREUiLCJGTEFTSCIsIkJFQUNPTiIsIkJSRUFUSEUiLCJBTFRFUk5BVEUiLCJTT0xJRCIsImtleXMiLCJjb2xvcnMiLCJmb3JFYWNoIiwicmVkIiwiZ3JlZW4iLCJibHVlIiwibGVkU3RhdGUiLCJzdGF0dXMiLCJwYXR0ZXJuIiwiaW5kaWNhdG9yX3JlZCIsImluZGljYXRvcl9ncmVlbiIsImNvbmZpZ1BhcnQiLCJsZWRfc3RhdGVzIiwiY29sb3JfcmYiLCJjb2xvcl9yYiIsImNvbG9yX2xmIiwiY29sb3JfbGIiLCJTdGF0dXNGbGFnIiwiY29sb3IiLCJpZHgiLCJ2Iiwic2V0U2ltcGxlIiwicGF0dGVybnMiLCJyY0RhdGEiLCJBVVgiLCJMT1ciLCJNSUQiLCJISUdIIiwiYXV4TmFtZXMiLCJ0aHJvdHRsZSIsInBpdGNoIiwicm9sbCIsInlhdyIsImF1eDEiLCJhdXgyIiwidXJnZW50Iiwic2V0VGhyb3R0bGUiLCJzZXRQaXRjaCIsInNldFJvbGwiLCJzZXRZYXciLCJzZXRBdXgxIiwibWF4IiwibWluIiwic2V0QXV4MiIsImdldFRocm90dGxlIiwiZ2V0UGl0Y2giLCJnZXRSb2xsIiwiZ2V0WWF3IiwiZ2V0QXV4MSIsImdldEF1eDIiLCJidXN5IiwiY29tbWFuZCIsImNvbnN0cmFpbiIsImFwcGx5RGVhZHpvbmUiLCJhdXhfbWFzayIsInNldF9zZXJpYWxfcmMiLCJmb3JjZU5leHRTZW5kIiwieCIsInhtaW4iLCJ4bWF4IiwiZGVhZHpvbmUiLCIkdGltZW91dCIsImNvYnMiLCJNZXNzYWdlVHlwZSIsIlN0YXRlIiwiQ29tbWFuZCIsIkRlYnVnU3RyaW5nIiwiSGlzdG9yeURhdGEiLCJQcm90b2NvbCIsIlJlc3BvbnNlIiwiYWNrbm93bGVkZ2VzIiwiYmFja2VuZCIsIkJhY2tlbmQiLCJvblJlY2VpdmVMaXN0ZW5lcnMiLCJjb2JzUmVhZGVyIiwiYnl0ZXNIYW5kbGVyIiwib25SZWFkIiwibGFzdF90aW1lc3RhbXBfdXMiLCJNZXNzYWdlVHlwZUludmVyc2lvbiIsIk9iamVjdCIsInNoaWZ0IiwicmVsYXhlZE1hc2siLCJyZXNwb25zZSIsInJlamVjdCIsInJlc29sdmUiLCJhY2tub3dsZWRnZSIsImFjayIsImFkZEhhbmRsZXIiLCJzdHJ1Y3R1cmUiLCJzZXRCYWNrZW5kIiwicmVtb3ZlT25SZWNlaXZlQ2FsbGJhY2siLCJmaWx0ZXIiLCJjYiIsInNldEJ5dGVzSGFuZGxlciIsImhhbmRsZXIiLCJoYW5kbGVQb3N0Q29ubmVjdCIsImxvZ19zZW5kIiwiZXh0cmFNYXNrIiwic3RhdGUiLCJhc3NpZ24iLCJ0ZW1wZXJhdHVyZSIsInByZXNzdXJlIiwicHJvY2Vzc1N0YXRlT3V0cHV0IiwidHlwZUNvZGUiLCJieXRlQ291bnQiLCJzZXJpYWxpemVyIiwiU2VyaWFsaXplciIsIkRhdGFWaWV3IiwibWFza0FycmF5IiwiZGF0YUxlbmd0aCIsImluZGV4Iiwib3V0cHV0IiwicHJvY2Vzc0RhdGEiLCJyZXBvcnRJc3N1ZXMiLCJpc3N1ZSIsInRleHQiLCJjb25jYXQiLCJkZWNvZGUiLCJlcnIiLCJzZXJpYWxfdXBkYXRlX3JhdGVfZXN0aW1hdGUiLCJ0aW1lc3RhbXBfdXMiLCJwcm9jZXNzU3RhdGVJbnB1dCIsImxpc3RlbmVyIiwiaGFuZGxlckNhY2hlIiwiaXNOZXdlclZlcnNpb24iLCJ2ZXJzaW9uVG9TdHJpbmciLCJGbHlicml4U2VyaWFsaXphdGlvbiIsInBhcnNlIiwiY29weUhhbmRsZXIiLCJzcmNWZXJzaW9uIiwiZGVzY1ZlcnNpb25zIiwiZGVzY0ZpbGVzIiwiZGVzY1JldmVyc2VNYXAiLCJ0YXJnZXQiLCJzb3VyY2UiLCJBcnJheSIsInJlc3VsdCIsInVwZGF0ZUZpZWxkc0FycmF5IiwicGFydHMiLCJ2ZXJzIiwic3BsaXQiLCJwYXJzZUludCIsImZpbGVuYW1lIiwiZmlybXdhcmUiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0EsYUFFQUEsUUFBQUMsT0FBQSxnQkFBQSxJQUhBLEdDQUEsV0FDQSxhQUdBLFNBQUFDLElBR0EsTUFBQSxDQUFBQyxTQUZBLENBQUFDLFFBQUEsVUFBQUMsUUFBQSxVQUFBQyxRQUFBLFVBQUFDLFFBQUEsV0FFQUMsTUFEQSxDQUFBQyxVQUFBLDA4SUFBQUMsVUFBQSxvakpBQUFDLFVBQUEsOGpLQUpBVCxFQUFBVSxRQUFBLEdBQ0FaLFFBQUFDLE9BQUEsaUJBQUFZLFFBQUEscUJBQUFYLEdBSEEsR0NBQSxXQUNBLGFBTUEsU0FBQVksRUFBQUMsRUFBQUMsR0FDQSxNQUFBLENBQ0FDLGFBV0EsV0FFQSxPQURBRixFQUFBLGlDQUNBQyxFQUFBRSxjQUFBLFVBQUEsQ0FDQUMsa0JBQUEsRUFDQUMsZ0JBQUEsQ0FDQUMsU0FBQSxFQUNBQyxLQUFBLEtBRUEsSUFsQkFDLGNBQUEsQ0FDQUMsS0FBQUMsRUFBQUMsS0FBQSxLQUFBLE9BQUEsR0FDQUMsUUFBQUYsRUFBQUMsS0FBQSxLQUFBLGVBQUEsR0FDQUUsS0FBQUgsRUFBQUMsS0FBQSxLQUFBLFlBQUEsR0FDQUcsTUFBQUosRUFBQUMsS0FBQSxLQUFBLGFBQUEsR0FDQUksS0FBQUwsRUFBQUMsS0FBQSxLQUFBLFlBQUEsSUFFQUssT0F5QkEsV0FFQSxPQURBaEIsRUFBQSx5QkFDQUMsRUFBQUUsY0FBQSxVQUFBLENBQ0FDLGtCQUFBLEVBQ0FDLGdCQUFBLENBQ0FDLFNBQUEsRUFDQUMsS0FBQSxLQUVBLEtBbkJBLFNBQUFHLEVBQUFPLEVBQUFDLEdBRUEsT0FEQWxCLEVBQUEsaUNBQUFpQixHQUNBaEIsRUFBQUUsY0FBQSxVQUFBLENBQ0FDLGtCQUFBLEVBQ0FDLGdCQUFB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QUFDLEVBSUEsSUFBQUQsRUFBQUMsRUFDQUUsRUFzQkEsT0E3Q0F6RCxPQUFBL0UsS0FBQWtJLEdBQUFoSSxRQUFBLFNBQUFwQixHQUNBLElBbENBNEosRUFrQ0FDLEdBbENBRCxFQWtDQTVKLEVBbENBOEosTUFBQSxLQUNBLENBQ0F2TCxNQUFBd0wsU0FBQUgsRUFBQSxJQUNBcEwsTUFBQXVMLFNBQUFILEVBQUEsSUFDQW5MLE1BQUFzTCxTQUFBSCxFQUFBLE1BK0JBSSxFQUFBWCxFQUFBckosR0FDQWdLLEtBQUFWLEVBQ0FKLEVBQUFXLEVBQUFQLEVBQUFVLEtBRUFBLEVBQUFaLEVBQUFwSixHQUNBeUcsRUFBQW9ELEVBQUFSLEVBQUFXLElBQ0FWLEVBQUFVLEdBQUFILEtBcUNBLENBQ0FqQyxXQUFBb0IscUJBQUFwQixXQUNBdkgsV0FBQSxTQUFBNEosR0FDQSxPQUFBcEIsRUFBQW9CLElBRUEvSixpQkFBQSxXQUNBLE9BQUFELEdBRUF3RyxXQUFBQSxFQUNBeUMsWUFBQUEsRUFDQTVLLGFBQUFBLEdBaEhBcEIsRUFBQTlFLFFBQUEsQ0FBQSxzQkFFQVosUUFBQUMsT0FBQSxpQkFBQVksUUFBQSx1QkFBQTZFLEdBTEEiLCJmaWxlIjoiZmx5YnJpeC1jb21tb24ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdmbHlicml4Q29tbW9uJywgW10pO1xyXG59KCkpO1xyXG4iLCIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBkZXNjcmlwdG9yc0hhbmRsZXIuJGluamVjdCA9IFtdO1xuICAgIGFuZ3VsYXIubW9kdWxlKCdmbHlicml4Q29tbW9uJykuZmFjdG9yeSgnZGVzY3JpcHRvcnNIYW5kbGVyJywgZGVzY3JpcHRvcnNIYW5kbGVyKTtcbiAgICBmdW5jdGlvbiBkZXNjcmlwdG9yc0hhbmRsZXIoKSB7XG4gICAgICAgIHZhciB2ZXJzaW9ucyA9IHtcIjEuNC4wXCI6XCIxLjQudHh0XCIsXCIxLjUuMFwiOlwiMS41LnR4dFwiLFwiMS41LjFcIjpcIjEuNS50eHRcIixcIjEuNi4wXCI6XCIxLjYudHh0XCJ9O1xuICAgICAgICB2YXIgZmlsZXMgPSB7XCIxLjQudHh0XCI6XCJWZWN0b3IzZj17eDpmMzIseTpmMzIsejpmMzJ9O1BJRFNldHRpbmdzPXtrcDpmMzIsa2k6ZjMyLGtkOmYzMixpbnRlZ3JhbF93aW5kdXBfZ3VhcmQ6ZjMyLGRfZmlsdGVyX3RpbWU6ZjMyLHNldHBvaW50X2ZpbHRlcl90aW1lOmYzMixjb21tYW5kX3RvX3ZhbHVlOmYzMn07VmVyc2lvbj17bWFqb3I6dTgsbWlub3I6dTgscGF0Y2g6dTh9O0NvbmZpZ0lEPXUzMjtQY2JUcmFuc2Zvcm09e29yaWVudGF0aW9uOlZlY3RvcjNmLHRyYW5zbGF0aW9uOlZlY3RvcjNmfTtNaXhUYWJsZT17Zno6W2k4OjhdLHR4OltpODo4XSx0eTpbaTg6OF0sdHo6W2k4OjhdfTtNYWdCaWFzPXtvZmZzZXQ6VmVjdG9yM2Z9O0NoYW5uZWxQcm9wZXJ0aWVzPXthc3NpZ25tZW50Ont0aHJ1c3Q6dTgscGl0Y2g6dTgscm9sbDp1OCx5YXc6dTgsYXV4MTp1OCxhdXgyOnU4fSxpbnZlcnNpb246ey84L3RocnVzdDp2b2lkLHBpdGNoOnZvaWQscm9sbDp2b2lkLHlhdzp2b2lkLGF1eDE6dm9pZCxhdXgyOnZvaWR9LG1pZHBvaW50Olt1MTY6Nl0sZGVhZHpvbmU6W3UxNjo2XX07UElEQnlwYXNzPXsvOC90aHJ1c3RfbWFzdGVyOnZvaWQscGl0Y2hfbWFzdGVyOnZvaWQscm9sbF9tYXN0ZXI6dm9pZCx5YXdfbWFzdGVyOnZvaWQsdGhydXN0X3NsYXZlOnZvaWQscGl0Y2hfc2xhdmU6dm9pZCxyb2xsX3NsYXZlOnZvaWQseWF3X3NsYXZlOnZvaWR9O1BJRFBhcmFtZXRlcnM9e3RocnVzdF9tYXN0ZXI6UElEU2V0dGluZ3MscGl0Y2hfbWFzdGVyOlBJRFNldHRpbmdzLHJvbGxfbWFzdGVyOlBJRFNldHRpbmdzLHlhd19tYXN0ZXI6UElEU2V0dGluZ3MsdGhydXN0X3NsYXZlOlBJRFNldHRpbmdzLHBpdGNoX3NsYXZlOlBJRFNldHRpbmdzLHJvbGxfc2xhdmU6UElEU2V0dGluZ3MseWF3X3NsYXZlOlBJRFNldHRpbmdzLHBpZF9ieXBhc3M6UElEQnlwYXNzfTtTdGF0ZVBhcmFtZXRlcnM9e3N0YXRlX2VzdGltYXRpb246W2YzMjoyXSxlbmFibGU6W2YzMjoyXX07U3RhdHVzRmxhZz17LzE2L2Jvb3Q6dm9pZCxtcHVfZmFpbDp2b2lkLGJtcF9mYWlsOnZvaWQscnhfZmFpbDp2b2lkLGlkbGU6dm9pZCxlbmFibGluZzp2b2lkLGNsZWFyX21wdV9iaWFzOnZvaWQsc2V0X21wdV9iaWFzOnZvaWQsZmFpbF9zdGFiaWxpdHk6dm9pZCxmYWlsX2FuZ2xlOnZvaWQsZW5hYmxlZDp2b2lkLGJhdHRlcnlfbG93OnZvaWQsdGVtcF93YXJuaW5nOnZvaWQsbG9nX2Z1bGw6dm9pZCxmYWlsX290aGVyOnZvaWQsb3ZlcnJpZGU6dm9pZH07Q29sb3I9e3JlZDp1OCxncmVlbjp1OCxibHVlOnU4fTtMRURTdGF0ZUNvbG9ycz17cmlnaHRfZnJvbnQ6Q29sb3IscmlnaHRfYmFjazpDb2xvcixsZWZ0X2Zyb250OkNvbG9yLGxlZnRfYmFjazpDb2xvcn07TEVEU3RhdGVDYXNlPXtzdGF0dXM6U3RhdHVzRmxhZyxwYXR0ZXJuOnU4LGNvbG9yczpMRURTdGF0ZUNvbG9ycyxpbmRpY2F0b3JfcmVkOmJvb2wsaW5kaWNhdG9yX2dyZWVuOmJvb2x9O0xFRFN0YXRlcz1bLzE2L0xFRFN0YXRlQ2FzZToxNl07TEVEU3RhdGVzRml4ZWQ9W0xFRFN0YXRlQ2FzZToxNl07RGV2aWNlTmFtZT1zOTtDb25maWd1cmF0aW9uPXsvMTYvdmVyc2lvbjpWZXJzaW9uLGlkOkNvbmZpZ0lELHBjYl90cmFuc2Zvcm06UGNiVHJhbnNmb3JtLG1peF90YWJsZTpNaXhUYWJsZSxtYWdfYmlhczpNYWdCaWFzLGNoYW5uZWw6Q2hhbm5lbFByb3BlcnRpZXMscGlkX3BhcmFtZXRlcnM6UElEUGFyYW1ldGVycyxzdGF0ZV9wYXJhbWV0ZXJzOlN0YXRlUGFyYW1ldGVycyxsZWRfc3RhdGVzOkxFRFN0YXRlcyxuYW1lOkRldmljZU5hbWV9O0NvbmZpZ3VyYXRpb25GaXhlZD17dmVyc2lvbjpWZXJzaW9uLGlkOkNvbmZpZ0lELHBjYl90cmFuc2Zvcm06UGNiVHJhbnNmb3JtLG1peF90YWJsZTpNaXhUYWJsZSxtYWdfYmlhczpNYWdCaWFzLGNoYW5uZWw6Q2hhbm5lbFByb3BlcnRpZXMscGlkX3BhcmFtZXRlcnM6UElEUGFyYW1ldGVycyxzdGF0ZV9wYXJhbWV0ZXJzOlN0YXRlUGFyYW1ldGVycyxsZWRfc3RhdGVzOkxFRFN0YXRlc0ZpeGVkLG5hbWU6RGV2aWNlTmFtZX07Q29uZmlndXJhdGlvbkZsYWc9ey8xNi92ZXJzaW9uOnZvaWQsaWQ6dm9pZCxwY2JfdHJhbnNmb3JtOnZvaWQsbWl4X3RhYmxlOnZvaWQsbWFnX2JpYXM6dm9pZCxjaGFubmVsOnZvaWQscGlkX3BhcmFtZXRlcnM6dm9pZCxzdGF0ZV9wYXJhbWV0ZXJzOnZvaWQsbGVkX3N0YXRlczpbLy92b2lkOjE2XSxuYW1lOnZvaWR9O1JvdGF0aW9uPXtwaXRjaDpmMzIscm9sbDpmMzIseWF3OmYzMn07UElEU3RhdGU9e3RpbWVzdGFtcF91czp1MzIsaW5wdXQ6ZjMyLHNldHBvaW50OmYzMixwX3Rlcm06ZjMyLGlfdGVybTpmMzIsZF90ZXJtOmYzMn07UmNDb21tYW5kPXt0aHJvdHRsZTppMTYscGl0Y2g6aTE2LHJvbGw6aTE2LHlhdzppMTZ9O1N0YXRlPXsvMzIvdGltZXN0YW1wX3VzOnUzMixzdGF0dXM6U3RhdHVzRmxhZyx2MF9yYXc6dTE2LGkwX3Jhdzp1MTYsaTFfcmF3OnUxNixhY2NlbDpWZWN0b3IzZixneXJvOlZlY3RvcjNmLG1hZzpWZWN0b3IzZix0ZW1wZXJhdHVyZTp1MTYscHJlc3N1cmU6dTMyLHBwbTpbaTE2OjZdLGF1eF9jaGFuX21hc2s6dTgsY29tbWFuZDpSY0NvbW1hbmQsY29udHJvbDp7Zno6ZjMyLHR4OmYzMix0eTpmMzIsdHo6ZjMyfSxwaWRfbWFzdGVyX2Z6OlBJRFN0YXRlLHBpZF9tYXN0ZXJfdHg6UElEU3RhdGUscGlkX21hc3Rlcl90eTpQSURTdGF0ZSxwaWRfbWFzdGVyX3R6OlBJRFN0YXRlLHBpZF9zbGF2ZV9mejpQSURTdGF0ZSxwaWRfc2xhdmVfdHg6UElEU3RhdGUscGlkX3NsYXZlX3R5OlBJRFN0YXRlLHBpZF9zbGF2ZV90ejpQSURTdGF0ZSxtb3Rvcl9vdXQ6W2kxNjo4XSxraW5lbWF0aWNzX2FuZ2xlOlJvdGF0aW9uLGtpbmVtYXRpY3NfcmF0ZTpSb3RhdGlvbixraW5lbWF0aWNzX2FsdGl0dWRlOmYzMixsb29wX2NvdW50OnUzMn07U3RhdGVGaWVsZHM9ey8zMi90aW1lc3RhbXBfdXM6dm9pZCxzdGF0dXM6dm9pZCx2MF9yYXc6dm9pZCxpMF9yYXc6dm9pZCxpMV9yYXc6dm9pZCxhY2NlbDp2b2lkLGd5cm86dm9pZCxtYWc6dm9pZCx0ZW1wZXJhdHVyZTp2b2lkLHByZXNzdXJlOnZvaWQscHBtOnZvaWQsYXV4X2NoYW5fbWFzazp2b2lkLGNvbW1hbmQ6dm9pZCxjb250cm9sOnZvaWQscGlkX21hc3Rlcl9mejp2b2lkLHBpZF9tYXN0ZXJfdHg6dm9pZCxwaWRfbWFzdGVyX3R5OnZvaWQscGlkX21hc3Rlcl90ejp2b2lkLHBpZF9zbGF2ZV9mejp2b2lkLHBpZF9zbGF2ZV90eDp2b2lkLHBpZF9zbGF2ZV90eTp2b2lkLHBpZF9zbGF2ZV90ejp2b2lkLG1vdG9yX291dDp2b2lkLGtpbmVtYXRpY3NfYW5nbGU6dm9pZCxraW5lbWF0aWNzX3JhdGU6dm9pZCxraW5lbWF0aWNzX2FsdGl0dWRlOnZvaWQsbG9vcF9jb3VudDp2b2lkfTtBdXhNYXNrPXsvL2F1eDFfbG93OnZvaWQsYXV4MV9taWQ6dm9pZCxhdXgxX2hpZ2g6dm9pZCxhdXgyX2xvdzp2b2lkLGF1eDJfbWlkOnZvaWQsYXV4Ml9oaWdoOnZvaWR9O0NvbW1hbmQ9ey8zMi9yZXF1ZXN0X3Jlc3BvbnNlOnZvaWQsc2V0X2VlcHJvbV9kYXRhOkNvbmZpZ3VyYXRpb25GaXhlZCxyZWluaXRfZWVwcm9tX2RhdGE6dm9pZCxyZXF1ZXN0X2VlcHJvbV9kYXRhOnZvaWQscmVxdWVzdF9lbmFibGVfaXRlcmF0aW9uOnU4LG1vdG9yX292ZXJyaWRlX3NwZWVkXzA6dTE2LG1vdG9yX292ZXJyaWRlX3NwZWVkXzE6dTE2LG1vdG9yX292ZXJyaWRlX3NwZWVkXzI6dTE2LG1vdG9yX292ZXJyaWRlX3NwZWVkXzM6dTE2LG1vdG9yX292ZXJyaWRlX3NwZWVkXzQ6dTE2LG1vdG9yX292ZXJyaWRlX3NwZWVkXzU6dTE2LG1vdG9yX292ZXJyaWRlX3NwZWVkXzY6dTE2LG1vdG9yX292ZXJyaWRlX3NwZWVkXzc6dTE2LHNldF9jb21tYW5kX292ZXJyaWRlOmJvb2wsc2V0X3N0YXRlX21hc2s6U3RhdGVGaWVsZHMsc2V0X3N0YXRlX2RlbGF5OnUxNixzZXRfc2Rfd3JpdGVfZGVsYXk6dTE2LHNldF9sZWQ6e3BhdHRlcm46dTgsY29sb3JfcmlnaHQ6Q29sb3IsY29sb3JfbGVmdDpDb2xvcixpbmRpY2F0b3JfcmVkOmJvb2wsaW5kaWNhdG9yX2dyZWVuOmJvb2x9LHNldF9zZXJpYWxfcmM6e2VuYWJsZWQ6Ym9vbCxjb21tYW5kOlJjQ29tbWFuZCxhdXhfbWFzazpBdXhNYXNrfSxzZXRfY2FyZF9yZWNvcmRpbmdfc3RhdGU6ey84L3JlY29yZF90b19jYXJkOnZvaWQsbG9ja19yZWNvcmRpbmdfc3RhdGU6dm9pZH0sc2V0X3BhcnRpYWxfZWVwcm9tX2RhdGE6Q29uZmlndXJhdGlvbixyZWluaXRfcGFydGlhbF9lZXByb21fZGF0YTpDb25maWd1cmF0aW9uRmxhZyxyZXFfcGFydGlhbF9lZXByb21fZGF0YTpDb25maWd1cmF0aW9uRmxhZyxyZXFfY2FyZF9yZWNvcmRpbmdfc3RhdGU6dm9pZCxzZXRfcGFydGlhbF90ZW1wb3JhcnlfY29uZmlnOkNvbmZpZ3VyYXRpb24sc2V0X2NvbW1hbmRfc291cmNlczp7Lzgvc2VyaWFsOnZvaWQscmFkaW86dm9pZH0sc2V0X2NhbGlicmF0aW9uOntlbmFibGVkOmJvb2wsbW9kZTp1OH0sc2V0X2F1dG9waWxvdF9lbmFibGVkOmJvb2wsc2V0X3VzYl9tb2RlOnU4fTtEZWJ1Z1N0cmluZz17ZGVwcmVjYXRlZF9tYXNrOnUzMixtZXNzYWdlOnN9O0hpc3RvcnlEYXRhPURlYnVnU3RyaW5nO1Jlc3BvbnNlPXttYXNrOnUzMixhY2s6dTMyfTtcIixcIjEuNS50eHRcIjpcIlZlY3RvcjNmPXt4OmYzMix5OmYzMix6OmYzMn07UElEU2V0dGluZ3M9e2twOmYzMixraTpmMzIsa2Q6ZjMyLGludGVncmFsX3dpbmR1cF9ndWFyZDpmMzIsZF9maWx0ZXJfdGltZTpmMzIsc2V0cG9pbnRfZmlsdGVyX3RpbWU6ZjMyLGNvbW1hbmRfdG9fdmFsdWU6ZjMyfTtWZXJzaW9uPXttYWpvcjp1OCxtaW5vcjp1OCxwYXRjaDp1OH07Q29uZmlnSUQ9dTMyO1BjYlRyYW5zZm9ybT17b3JpZW50YXRpb246VmVjdG9yM2YsdHJhbnNsYXRpb246VmVjdG9yM2Z9O01peFRhYmxlPXtmejpbaTg6OF0sdHg6W2k4OjhdLHR5OltpODo4XSx0ejpbaTg6OF19O01hZ0JpYXM9e29mZnNldDpWZWN0b3IzZn07Q2hhbm5lbFByb3BlcnRpZXM9e2Fzc2lnbm1lbnQ6e3RocnVzdDp1OCxwaXRjaDp1OCxyb2xsOnU4LHlhdzp1OCxhdXgxOnU4LGF1eDI6dTh9LGludmVyc2lvbjp7LzgvdGhydXN0OnZvaWQscGl0Y2g6dm9pZCxyb2xsOnZvaWQseWF3OnZvaWQsYXV4MTp2b2lkLGF1eDI6dm9pZH0sbWlkcG9pbnQ6W3UxNjo2XSxkZWFkem9uZTpbdTE2OjZdfTtQSURCeXBhc3M9ey84L3RocnVzdF9tYXN0ZXI6dm9pZCxwaXRjaF9tYXN0ZXI6dm9pZCxyb2xsX21hc3Rlcjp2b2lkLHlhd19tYXN0ZXI6dm9pZCx0aHJ1c3Rfc2xhdmU6dm9pZCxwaXRjaF9zbGF2ZTp2b2lkLHJvbGxfc2xhdmU6dm9pZCx5YXdfc2xhdmU6dm9pZH07UElEUGFyYW1ldGVycz17dGhydXN0X21hc3RlcjpQSURTZXR0aW5ncyxwaXRjaF9tYXN0ZXI6UElEU2V0dGluZ3Mscm9sbF9tYXN0ZXI6UElEU2V0dGluZ3MseWF3X21hc3RlcjpQSURTZXR0aW5ncyx0aHJ1c3Rfc2xhdmU6UElEU2V0dGluZ3MscGl0Y2hfc2xhdmU6UElEU2V0dGluZ3Mscm9sbF9zbGF2ZTpQSURTZXR0aW5ncyx5YXdfc2xhdmU6UElEU2V0dGluZ3MsdGhydXN0X2dhaW46ZjMyLHBpdGNoX2dhaW46ZjMyLHJvbGxfZ2FpbjpmMzIseWF3X2dhaW46ZjMyLHBpZF9ieXBhc3M6UElEQnlwYXNzfTtTdGF0ZVBhcmFtZXRlcnM9e3N0YXRlX2VzdGltYXRpb246W2YzMjoyXSxlbmFibGU6W2YzMjoyXX07U3RhdHVzRmxhZz17LzE2L2Jvb3Q6dm9pZCxtcHVfZmFpbDp2b2lkLGJtcF9mYWlsOnZvaWQscnhfZmFpbDp2b2lkLGlkbGU6dm9pZCxlbmFibGluZzp2b2lkLGNsZWFyX21wdV9iaWFzOnZvaWQsc2V0X21wdV9iaWFzOnZvaWQsZmFpbF9zdGFiaWxpdHk6dm9pZCxmYWlsX2FuZ2xlOnZvaWQsZW5hYmxlZDp2b2lkLGJhdHRlcnlfbG93OnZvaWQsdGVtcF93YXJuaW5nOnZvaWQsbG9nX2Z1bGw6dm9pZCxmYWlsX290aGVyOnZvaWQsb3ZlcnJpZGU6dm9pZH07Q29sb3I9e3JlZDp1OCxncmVlbjp1OCxibHVlOnU4fTtMRURTdGF0ZUNvbG9ycz17cmlnaHRfZnJvbnQ6Q29sb3IscmlnaHRfYmFjazpDb2xvcixsZWZ0X2Zyb250OkNvbG9yLGxlZnRfYmFjazpDb2xvcn07TEVEU3RhdGVDYXNlPXtzdGF0dXM6U3RhdHVzRmxhZyxwYXR0ZXJuOnU4LGNvbG9yczpMRURTdGF0ZUNvbG9ycyxpbmRpY2F0b3JfcmVkOmJvb2wsaW5kaWNhdG9yX2dyZWVuOmJvb2x9O0xFRFN0YXRlcz1bLzE2L0xFRFN0YXRlQ2FzZToxNl07TEVEU3RhdGVzRml4ZWQ9W0xFRFN0YXRlQ2FzZToxNl07RGV2aWNlTmFtZT1zOTtDb25maWd1cmF0aW9uPXsvMTYvdmVyc2lvbjpWZXJzaW9uLGlkOkNvbmZpZ0lELHBjYl90cmFuc2Zvcm06UGNiVHJhbnNmb3JtLG1peF90YWJsZTpNaXhUYWJsZSxtYWdfYmlhczpNYWdCaWFzLGNoYW5uZWw6Q2hhbm5lbFByb3BlcnRpZXMscGlkX3BhcmFtZXRlcnM6UElEUGFyYW1ldGVycyxzdGF0ZV9wYXJhbWV0ZXJzOlN0YXRlUGFyYW1ldGVycyxsZWRfc3RhdGVzOkxFRFN0YXRlcyxuYW1lOkRldmljZU5hbWV9O0NvbmZpZ3VyYXRpb25GaXhlZD17dmVyc2lvbjpWZXJzaW9uLGlkOkNvbmZpZ0lELHBjYl90cmFuc2Zvcm06UGNiVHJhbnNmb3JtLG1peF90YWJsZTpNaXhUYWJsZSxtYWdfYmlhczpNYWdCaWFzLGNoYW5uZWw6Q2hhbm5lbFByb3BlcnRpZXMscGlkX3BhcmFtZXRlcnM6UElEUGFyYW1ldGVycyxzdGF0ZV9wYXJhbWV0ZXJzOlN0YXRlUGFyYW1ldGVycyxsZWRfc3RhdGVzOkxFRFN0YXRlc0ZpeGVkLG5hbWU6RGV2aWNlTmFtZX07Q29uZmlndXJhdGlvbkZsYWc9ey8xNi92ZXJzaW9uOnZvaWQsaWQ6dm9pZCxwY2JfdHJhbnNmb3JtOnZvaWQsbWl4X3RhYmxlOnZvaWQsbWFnX2JpYXM6dm9pZCxjaGFubmVsOnZvaWQscGlkX3BhcmFtZXRlcnM6dm9pZCxzdGF0ZV9wYXJhbWV0ZXJzOnZvaWQsbGVkX3N0YXRlczpbLy92b2lkOjE2XSxuYW1lOnZvaWQsdmVsb2NpdHlfcGlkX3BhcmFtZXRlcnM6dm9pZCxpbmVydGlhbF9iaWFzOnZvaWR9O1JvdGF0aW9uPXtwaXRjaDpmMzIscm9sbDpmMzIseWF3OmYzMn07UElEU3RhdGU9e3RpbWVzdGFtcF91czp1MzIsaW5wdXQ6ZjMyLHNldHBvaW50OmYzMixwX3Rlcm06ZjMyLGlfdGVybTpmMzIsZF90ZXJtOmYzMn07UmNDb21tYW5kPXt0aHJvdHRsZTppMTYscGl0Y2g6aTE2LHJvbGw6aTE2LHlhdzppMTZ9O1N0YXRlPXsvMzIvdGltZXN0YW1wX3VzOnUzMixzdGF0dXM6U3RhdHVzRmxhZyx2MF9yYXc6dTE2LGkwX3Jhdzp1MTYsaTFfcmF3OnUxNixhY2NlbDpWZWN0b3IzZixneXJvOlZlY3RvcjNmLG1hZzpWZWN0b3IzZix0ZW1wZXJhdHVyZTp1MTYscHJlc3N1cmU6dTMyLHBwbTpbaTE2OjZdLGF1eF9jaGFuX21hc2s6dTgsY29tbWFuZDpSY0NvbW1hbmQsY29udHJvbDp7Zno6ZjMyLHR4OmYzMix0eTpmMzIsdHo6ZjMyfSxwaWRfbWFzdGVyX2Z6OlBJRFN0YXRlLHBpZF9tYXN0ZXJfdHg6UElEU3RhdGUscGlkX21hc3Rlcl90eTpQSURTdGF0ZSxwaWRfbWFzdGVyX3R6OlBJRFN0YXRlLHBpZF9zbGF2ZV9mejpQSURTdGF0ZSxwaWRfc2xhdmVfdHg6UElEU3RhdGUscGlkX3NsYXZlX3R5OlBJRFN0YXRlLHBpZF9zbGF2ZV90ejpQSURTdGF0ZSxtb3Rvcl9vdXQ6W2kxNjo4XSxraW5lbWF0aWNzX2FuZ2xlOlJvdGF0aW9uLGtpbmVtYXRpY3NfcmF0ZTpSb3RhdGlvbixraW5lbWF0aWNzX2FsdGl0dWRlOmYzMixsb29wX2NvdW50OnUzMn07U3RhdGVGaWVsZHM9ey8zMi90aW1lc3RhbXBfdXM6dm9pZCxzdGF0dXM6dm9pZCx2MF9yYXc6dm9pZCxpMF9yYXc6dm9pZCxpMV9yYXc6dm9pZCxhY2NlbDp2b2lkLGd5cm86dm9pZCxtYWc6dm9pZCx0ZW1wZXJhdHVyZTp2b2lkLHByZXNzdXJlOnZvaWQscHBtOnZvaWQsYXV4X2NoYW5fbWFzazp2b2lkLGNvbW1hbmQ6dm9pZCxjb250cm9sOnZvaWQscGlkX21hc3Rlcl9mejp2b2lkLHBpZF9tYXN0ZXJfdHg6dm9pZCxwaWRfbWFzdGVyX3R5OnZvaWQscGlkX21hc3Rlcl90ejp2b2lkLHBpZF9zbGF2ZV9mejp2b2lkLHBpZF9zbGF2ZV90eDp2b2lkLHBpZF9zbGF2ZV90eTp2b2lkLHBpZF9zbGF2ZV90ejp2b2lkLG1vdG9yX291dDp2b2lkLGtpbmVtYXRpY3NfYW5nbGU6dm9pZCxraW5lbWF0aWNzX3JhdGU6dm9pZCxraW5lbWF0aWNzX2FsdGl0dWRlOnZvaWQsbG9vcF9jb3VudDp2b2lkfTtBdXhNYXNrPXsvL2F1eDFfbG93OnZvaWQsYXV4MV9taWQ6dm9pZCxhdXgxX2hpZ2g6dm9pZCxhdXgyX2xvdzp2b2lkLGF1eDJfbWlkOnZvaWQsYXV4Ml9oaWdoOnZvaWR9O0NvbW1hbmQ9ey8zMi9yZXF1ZXN0X3Jlc3BvbnNlOnZvaWQsc2V0X2VlcHJvbV9kYXRhOkNvbmZpZ3VyYXRpb25GaXhlZCxyZWluaXRfZWVwcm9tX2RhdGE6dm9pZCxyZXF1ZXN0X2VlcHJvbV9kYXRhOnZvaWQscmVxdWVzdF9lbmFibGVfaXRlcmF0aW9uOnU4LG1vdG9yX292ZXJyaWRlX3NwZWVkXzA6dTE2LG1vdG9yX292ZXJyaWRlX3NwZWVkXzE6dTE2LG1vdG9yX292ZXJyaWRlX3NwZWVkXzI6dTE2LG1vdG9yX292ZXJyaWRlX3NwZWVkXzM6dTE2LG1vdG9yX292ZXJyaWRlX3NwZWVkXzQ6dTE2LG1vdG9yX292ZXJyaWRlX3NwZWVkXzU6dTE2LG1vdG9yX292ZXJyaWRlX3NwZWVkXzY6dTE2LG1vdG9yX292ZXJyaWRlX3NwZWVkXzc6dTE2LHNldF9jb21tYW5kX292ZXJyaWRlOmJvb2wsc2V0X3N0YXRlX21hc2s6U3RhdGVGaWVsZHMsc2V0X3N0YXRlX2RlbGF5OnUxNixzZXRfc2Rfd3JpdGVfZGVsYXk6dTE2LHNldF9sZWQ6e3BhdHRlcm46dTgsY29sb3JfcmlnaHQ6Q29sb3IsY29sb3JfbGVmdDpDb2xvcixpbmRpY2F0b3JfcmVkOmJvb2wsaW5kaWNhdG9yX2dyZWVuOmJvb2x9LHNldF9zZXJpYWxfcmM6e2VuYWJsZWQ6Ym9vbCxjb21tYW5kOlJjQ29tbWFuZCxhdXhfbWFzazpBdXhNYXNrfSxzZXRfY2FyZF9yZWNvcmRpbmdfc3RhdGU6ey84L3JlY29yZF90b19jYXJkOnZvaWQsbG9ja19yZWNvcmRpbmdfc3RhdGU6dm9pZH0sc2V0X3BhcnRpYWxfZWVwcm9tX2RhdGE6Q29uZmlndXJhdGlvbixyZWluaXRfcGFydGlhbF9lZXByb21fZGF0YTpDb25maWd1cmF0aW9uRmxhZyxyZXFfcGFydGlhbF9lZXByb21fZGF0YTpDb25maWd1cmF0aW9uRmxhZyxyZXFfY2FyZF9yZWNvcmRpbmdfc3RhdGU6dm9pZCxzZXRfcGFydGlhbF90ZW1wb3JhcnlfY29uZmlnOkNvbmZpZ3VyYXRpb24sc2V0X2NvbW1hbmRfc291cmNlczp7Lzgvc2VyaWFsOnZvaWQscmFkaW86dm9pZH0sc2V0X2NhbGlicmF0aW9uOntlbmFibGVkOmJvb2wsbW9kZTp1OH0sc2V0X2F1dG9waWxvdF9lbmFibGVkOmJvb2wsc2V0X3VzYl9tb2RlOnU4fTtEZWJ1Z1N0cmluZz17ZGVwcmVjYXRlZF9tYXNrOnUzMixtZXNzYWdlOnN9O0hpc3RvcnlEYXRhPURlYnVnU3RyaW5nO1Jlc3BvbnNlPXttYXNrOnUzMixhY2s6dTMyfTtcIixcIjEuNi50eHRcIjpcIlZlY3RvcjNmPXt4OmYzMix5OmYzMix6OmYzMn07UElEU2V0dGluZ3M9e2twOmYzMixraTpmMzIsa2Q6ZjMyLGludGVncmFsX3dpbmR1cF9ndWFyZDpmMzIsZF9maWx0ZXJfdGltZTpmMzIsc2V0cG9pbnRfZmlsdGVyX3RpbWU6ZjMyLGNvbW1hbmRfdG9fdmFsdWU6ZjMyfTtWZXJzaW9uPXttYWpvcjp1OCxtaW5vcjp1OCxwYXRjaDp1OH07Q29uZmlnSUQ9dTMyO1BjYlRyYW5zZm9ybT17b3JpZW50YXRpb246VmVjdG9yM2YsdHJhbnNsYXRpb246VmVjdG9yM2Z9O01peFRhYmxlPXtmejpbaTg6OF0sdHg6W2k4OjhdLHR5OltpODo4XSx0ejpbaTg6OF19O01hZ0JpYXM9e29mZnNldDpWZWN0b3IzZn07Q2hhbm5lbFByb3BlcnRpZXM9e2Fzc2lnbm1lbnQ6e3RocnVzdDp1OCxwaXRjaDp1OCxyb2xsOnU4LHlhdzp1OCxhdXgxOnU4LGF1eDI6dTh9LGludmVyc2lvbjp7LzgvdGhydXN0OnZvaWQscGl0Y2g6dm9pZCxyb2xsOnZvaWQseWF3OnZvaWQsYXV4MTp2b2lkLGF1eDI6dm9pZH0sbWlkcG9pbnQ6W3UxNjo2XSxkZWFkem9uZTpbdTE2OjZdfTtQSURCeXBhc3M9ey84L3RocnVzdF9tYXN0ZXI6dm9pZCxwaXRjaF9tYXN0ZXI6dm9pZCxyb2xsX21hc3Rlcjp2b2lkLHlhd19tYXN0ZXI6dm9pZCx0aHJ1c3Rfc2xhdmU6dm9pZCxwaXRjaF9zbGF2ZTp2b2lkLHJvbGxfc2xhdmU6dm9pZCx5YXdfc2xhdmU6dm9pZH07UElEUGFyYW1ldGVycz17dGhydXN0X21hc3RlcjpQSURTZXR0aW5ncyxwaXRjaF9tYXN0ZXI6UElEU2V0dGluZ3Mscm9sbF9tYXN0ZXI6UElEU2V0dGluZ3MseWF3X21hc3RlcjpQSURTZXR0aW5ncyx0aHJ1c3Rfc2xhdmU6UElEU2V0dGluZ3MscGl0Y2hfc2xhdmU6UElEU2V0dGluZ3Mscm9sbF9zbGF2ZTpQSURTZXR0aW5ncyx5YXdfc2xhdmU6UElEU2V0dGluZ3MsdGhydXN0X2dhaW46ZjMyLHBpdGNoX2dhaW46ZjMyLHJvbGxfZ2FpbjpmMzIseWF3X2dhaW46ZjMyLHBpZF9ieXBhc3M6UElEQnlwYXNzfTtTdGF0ZVBhcmFtZXRlcnM9e3N0YXRlX2VzdGltYXRpb246W2YzMjoyXSxlbmFibGU6W2YzMjoyXX07U3RhdHVzRmxhZz17LzE2L18wOnZvaWQsXzE6dm9pZCxfMjp2b2lkLG5vX3NpZ25hbDp2b2lkLGlkbGU6dm9pZCxhcm1pbmc6dm9pZCxyZWNvcmRpbmdfc2Q6dm9pZCxfNzp2b2lkLGxvb3Bfc2xvdzp2b2lkLF85OnZvaWQsYXJtZWQ6dm9pZCxiYXR0ZXJ5X2xvdzp2b2lkLGJhdHRlcnlfY3JpdGljYWw6dm9pZCxsb2dfZnVsbDp2b2lkLGNyYXNoX2RldGVjdGVkOnZvaWQsb3ZlcnJpZGU6dm9pZH07Q29sb3I9e3JlZDp1OCxncmVlbjp1OCxibHVlOnU4fTtMRURTdGF0ZUNvbG9ycz17cmlnaHRfZnJvbnQ6Q29sb3IscmlnaHRfYmFjazpDb2xvcixsZWZ0X2Zyb250OkNvbG9yLGxlZnRfYmFjazpDb2xvcn07TEVEU3RhdGVDYXNlPXtzdGF0dXM6U3RhdHVzRmxhZyxwYXR0ZXJuOnU4LGNvbG9yczpMRURTdGF0ZUNvbG9ycyxpbmRpY2F0b3JfcmVkOmJvb2wsaW5kaWNhdG9yX2dyZWVuOmJvb2x9O0xFRFN0YXRlcz1bLzE2L0xFRFN0YXRlQ2FzZToxNl07TEVEU3RhdGVzRml4ZWQ9W0xFRFN0YXRlQ2FzZToxNl07RGV2aWNlTmFtZT1zOTtJbmVydGlhbEJpYXM9e2FjY2VsOlZlY3RvcjNmLGd5cm86VmVjdG9yM2Z9O1ZlbG9jaXR5UElEQnlwYXNzPXsvOC9mb3J3YXJkX21hc3Rlcjp2b2lkLHJpZ2h0X21hc3Rlcjp2b2lkLHVwX21hc3Rlcjp2b2lkLF91bnVzZWRfbWFzdGVyOnZvaWQsZm9yd2FyZF9zbGF2ZTp2b2lkLHJpZ2h0X3NsYXZlOnZvaWQsdXBfc2xhdmU6dm9pZCxfdW51c2VkX3NsYXZlOnZvaWR9O1ZlbG9jaXR5UElEUGFyYW1ldGVycz17Zm9yd2FyZF9tYXN0ZXI6UElEU2V0dGluZ3MscmlnaHRfbWFzdGVyOlBJRFNldHRpbmdzLHVwX21hc3RlcjpQSURTZXR0aW5ncyxmb3J3YXJkX3NsYXZlOlBJRFNldHRpbmdzLHJpZ2h0X3NsYXZlOlBJRFNldHRpbmdzLHVwX3NsYXZlOlBJRFNldHRpbmdzLHBpZF9ieXBhc3M6VmVsb2NpdHlQSURCeXBhc3N9O0NvbmZpZ3VyYXRpb249ey8xNi92ZXJzaW9uOlZlcnNpb24saWQ6Q29uZmlnSUQscGNiX3RyYW5zZm9ybTpQY2JUcmFuc2Zvcm0sbWl4X3RhYmxlOk1peFRhYmxlLG1hZ19iaWFzOk1hZ0JpYXMsY2hhbm5lbDpDaGFubmVsUHJvcGVydGllcyxwaWRfcGFyYW1ldGVyczpQSURQYXJhbWV0ZXJzLHN0YXRlX3BhcmFtZXRlcnM6U3RhdGVQYXJhbWV0ZXJzLGxlZF9zdGF0ZXM6TEVEU3RhdGVzLG5hbWU6RGV2aWNlTmFtZSx2ZWxvY2l0eV9waWRfcGFyYW1ldGVyczpWZWxvY2l0eVBJRFBhcmFtZXRlcnMsaW5lcnRpYWxfYmlhczpJbmVydGlhbEJpYXN9O0NvbmZpZ3VyYXRpb25GaXhlZD17dmVyc2lvbjpWZXJzaW9uLGlkOkNvbmZpZ0lELHBjYl90cmFuc2Zvcm06UGNiVHJhbnNmb3JtLG1peF90YWJsZTpNaXhUYWJsZSxtYWdfYmlhczpNYWdCaWFzLGNoYW5uZWw6Q2hhbm5lbFByb3BlcnRpZXMscGlkX3BhcmFtZXRlcnM6UElEUGFyYW1ldGVycyxzdGF0ZV9wYXJhbWV0ZXJzOlN0YXRlUGFyYW1ldGVycyxsZWRfc3RhdGVzOkxFRFN0YXRlc0ZpeGVkLG5hbWU6RGV2aWNlTmFtZSx2ZWxvY2l0eV9waWRfcGFyYW1ldGVyczpWZWxvY2l0eVBJRFBhcmFtZXRlcnMsaW5lcnRpYWxfYmlhczpJbmVydGlhbEJpYXN9O0NvbmZpZ3VyYXRpb25GbGFnPXsvMTYvdmVyc2lvbjp2b2lkLGlkOnZvaWQscGNiX3RyYW5zZm9ybTp2b2lkLG1peF90YWJsZTp2b2lkLG1hZ19iaWFzOnZvaWQsY2hhbm5lbDp2b2lkLHBpZF9wYXJhbWV0ZXJzOnZvaWQsc3RhdGVfcGFyYW1ldGVyczp2b2lkLGxlZF9zdGF0ZXM6Wy8vdm9pZDoxNl0sbmFtZTp2b2lkLHZlbG9jaXR5X3BpZF9wYXJhbWV0ZXJzOnZvaWQsaW5lcnRpYWxfYmlhczp2b2lkfTtSb3RhdGlvbj17cGl0Y2g6ZjMyLHJvbGw6ZjMyLHlhdzpmMzJ9O1BJRFN0YXRlPXt0aW1lc3RhbXBfdXM6dTMyLGlucHV0OmYzMixzZXRwb2ludDpmMzIscF90ZXJtOmYzMixpX3Rlcm06ZjMyLGRfdGVybTpmMzJ9O1JjQ29tbWFuZD17dGhyb3R0bGU6aTE2LHBpdGNoOmkxNixyb2xsOmkxNix5YXc6aTE2fTtTdGF0ZT17LzMyL3RpbWVzdGFtcF91czp1MzIsc3RhdHVzOlN0YXR1c0ZsYWcsdjBfcmF3OnUxNixpMF9yYXc6dTE2LGkxX3Jhdzp1MTYsYWNjZWw6VmVjdG9yM2YsZ3lybzpWZWN0b3IzZixtYWc6VmVjdG9yM2YsdGVtcGVyYXR1cmU6dTE2LHByZXNzdXJlOnUzMixwcG06W2kxNjo2XSxhdXhfY2hhbl9tYXNrOnU4LGNvbW1hbmQ6UmNDb21tYW5kLGNvbnRyb2w6e2Z6OmYzMix0eDpmMzIsdHk6ZjMyLHR6OmYzMn0scGlkX21hc3Rlcl9mejpQSURTdGF0ZSxwaWRfbWFzdGVyX3R4OlBJRFN0YXRlLHBpZF9tYXN0ZXJfdHk6UElEU3RhdGUscGlkX21hc3Rlcl90ejpQSURTdGF0ZSxwaWRfc2xhdmVfZno6UElEU3RhdGUscGlkX3NsYXZlX3R4OlBJRFN0YXRlLHBpZF9zbGF2ZV90eTpQSURTdGF0ZSxwaWRfc2xhdmVfdHo6UElEU3RhdGUsbW90b3Jfb3V0OltpMTY6OF0sa2luZW1hdGljc19hbmdsZTpSb3RhdGlvbixraW5lbWF0aWNzX3JhdGU6Um90YXRpb24sa2luZW1hdGljc19hbHRpdHVkZTpmMzIsbG9vcF9jb3VudDp1MzJ9O1N0YXRlRmllbGRzPXsvMzIvdGltZXN0YW1wX3VzOnZvaWQsc3RhdHVzOnZvaWQsdjBfcmF3OnZvaWQsaTBfcmF3OnZvaWQsaTFfcmF3OnZvaWQsYWNjZWw6dm9pZCxneXJvOnZvaWQsbWFnOnZvaWQsdGVtcGVyYXR1cmU6dm9pZCxwcmVzc3VyZTp2b2lkLHBwbTp2b2lkLGF1eF9jaGFuX21hc2s6dm9pZCxjb21tYW5kOnZvaWQsY29udHJvbDp2b2lkLHBpZF9tYXN0ZXJfZno6dm9pZCxwaWRfbWFzdGVyX3R4OnZvaWQscGlkX21hc3Rlcl90eTp2b2lkLHBpZF9tYXN0ZXJfdHo6dm9pZCxwaWRfc2xhdmVfZno6dm9pZCxwaWRfc2xhdmVfdHg6dm9pZCxwaWRfc2xhdmVfdHk6dm9pZCxwaWRfc2xhdmVfdHo6dm9pZCxtb3Rvcl9vdXQ6dm9pZCxraW5lbWF0aWNzX2FuZ2xlOnZvaWQsa2luZW1hdGljc19yYXRlOnZvaWQsa2luZW1hdGljc19hbHRpdHVkZTp2b2lkLGxvb3BfY291bnQ6dm9pZH07QXV4TWFzaz17Ly9hdXgxX2xvdzp2b2lkLGF1eDFfbWlkOnZvaWQsYXV4MV9oaWdoOnZvaWQsYXV4Ml9sb3c6dm9pZCxhdXgyX21pZDp2b2lkLGF1eDJfaGlnaDp2b2lkfTtDb21tYW5kPXsvMzIvcmVxdWVzdF9yZXNwb25zZTp2b2lkLHNldF9lZXByb21fZGF0YTpDb25maWd1cmF0aW9uRml4ZWQscmVpbml0X2VlcHJvbV9kYXRhOnZvaWQscmVxdWVzdF9lZXByb21fZGF0YTp2b2lkLHJlcXVlc3RfZW5hYmxlX2l0ZXJhdGlvbjp1OCxtb3Rvcl9vdmVycmlkZV9zcGVlZF8wOnUxNixtb3Rvcl9vdmVycmlkZV9zcGVlZF8xOnUxNixtb3Rvcl9vdmVycmlkZV9zcGVlZF8yOnUxNixtb3Rvcl9vdmVycmlkZV9zcGVlZF8zOnUxNixtb3Rvcl9vdmVycmlkZV9zcGVlZF80OnUxNixtb3Rvcl9vdmVycmlkZV9zcGVlZF81OnUxNixtb3Rvcl9vdmVycmlkZV9zcGVlZF82OnUxNixtb3Rvcl9vdmVycmlkZV9zcGVlZF83OnUxNixzZXRfY29tbWFuZF9vdmVycmlkZTpib29sLHNldF9zdGF0ZV9tYXNrOlN0YXRlRmllbGRzLHNldF9zdGF0ZV9kZWxheTp1MTYsc2V0X3NkX3dyaXRlX2RlbGF5OnUxNixzZXRfbGVkOntwYXR0ZXJuOnU4LGNvbG9yX3JpZ2h0OkNvbG9yLGNvbG9yX2xlZnQ6Q29sb3IsaW5kaWNhdG9yX3JlZDpib29sLGluZGljYXRvcl9ncmVlbjpib29sfSxzZXRfc2VyaWFsX3JjOntlbmFibGVkOmJvb2wsY29tbWFuZDpSY0NvbW1hbmQsYXV4X21hc2s6QXV4TWFza30sc2V0X2NhcmRfcmVjb3JkaW5nX3N0YXRlOnsvOC9yZWNvcmRfdG9fY2FyZDp2b2lkLGxvY2tfcmVjb3JkaW5nX3N0YXRlOnZvaWR9LHNldF9wYXJ0aWFsX2VlcHJvbV9kYXRhOkNvbmZpZ3VyYXRpb24scmVpbml0X3BhcnRpYWxfZWVwcm9tX2RhdGE6Q29uZmlndXJhdGlvbkZsYWcscmVxX3BhcnRpYWxfZWVwcm9tX2RhdGE6Q29uZmlndXJhdGlvbkZsYWcscmVxX2NhcmRfcmVjb3JkaW5nX3N0YXRlOnZvaWQsc2V0X3BhcnRpYWxfdGVtcG9yYXJ5X2NvbmZpZzpDb25maWd1cmF0aW9uLHNldF9jb21tYW5kX3NvdXJjZXM6ey84L3NlcmlhbDp2b2lkLHJhZGlvOnZvaWR9LHNldF9jYWxpYnJhdGlvbjp7ZW5hYmxlZDpib29sLG1vZGU6dTh9LHNldF9hdXRvcGlsb3RfZW5hYmxlZDpib29sLHNldF91c2JfbW9kZTp1OH07RGVidWdTdHJpbmc9e2RlcHJlY2F0ZWRfbWFzazp1MzIsbWVzc2FnZTpzfTtIaXN0b3J5RGF0YT1EZWJ1Z1N0cmluZztSZXNwb25zZT17bWFzazp1MzIsYWNrOnUzMn07XCJ9O1xuICAgICAgICByZXR1cm4geyB2ZXJzaW9uczogdmVyc2lvbnMsIGZpbGVzOiBmaWxlcyB9O1xuICAgIH1cbn0oKSk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdmbHlicml4Q29tbW9uJykuZmFjdG9yeSgnY2FsaWJyYXRpb24nLCBjYWxpYnJhdGlvbik7XHJcblxyXG4gICAgY2FsaWJyYXRpb24uJGluamVjdCA9IFsnY29tbWFuZExvZycsICdzZXJpYWwnXTtcclxuXHJcbiAgICBmdW5jdGlvbiBjYWxpYnJhdGlvbihjb21tYW5kTG9nLCBzZXJpYWwpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBtYWduZXRvbWV0ZXI6IG1hZ25ldG9tZXRlcixcclxuICAgICAgICAgICAgYWNjZWxlcm9tZXRlcjoge1xyXG4gICAgICAgICAgICAgICAgZmxhdDogY2FsaWJyYXRlQWNjZWxlcm9tZXRlci5iaW5kKG51bGwsICdmbGF0JywgMCksXHJcbiAgICAgICAgICAgICAgICBmb3J3YXJkOiBjYWxpYnJhdGVBY2NlbGVyb21ldGVyLmJpbmQobnVsbCwgJ2xlYW4gZm9yd2FyZCcsIDEpLFxyXG4gICAgICAgICAgICAgICAgYmFjazogY2FsaWJyYXRlQWNjZWxlcm9tZXRlci5iaW5kKG51bGwsICdsZWFuIGJhY2snLCAyKSxcclxuICAgICAgICAgICAgICAgIHJpZ2h0OiBjYWxpYnJhdGVBY2NlbGVyb21ldGVyLmJpbmQobnVsbCwgJ2xlYW4gcmlnaHQnLCAzKSxcclxuICAgICAgICAgICAgICAgIGxlZnQ6IGNhbGlicmF0ZUFjY2VsZXJvbWV0ZXIuYmluZChudWxsLCAnbGVhbiBsZWZ0JywgNCksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZpbmlzaDogZmluaXNoLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG1hZ25ldG9tZXRlcigpIHtcclxuICAgICAgICAgICAgY29tbWFuZExvZyhcIkNhbGlicmF0aW5nIG1hZ25ldG9tZXRlciBiaWFzXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsLnNlbmRTdHJ1Y3R1cmUoJ0NvbW1hbmQnLCB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0X3Jlc3BvbnNlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgc2V0X2NhbGlicmF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBtb2RlOiAwLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY2FsaWJyYXRlQWNjZWxlcm9tZXRlcihwb3NlRGVzY3JpcHRpb24sIHBvc2VJZCkge1xyXG4gICAgICAgICAgICBjb21tYW5kTG9nKFwiQ2FsaWJyYXRpbmcgZ3Jhdml0eSBmb3IgcG9zZTogXCIgKyBwb3NlRGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsLnNlbmRTdHJ1Y3R1cmUoJ0NvbW1hbmQnLCB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0X3Jlc3BvbnNlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgc2V0X2NhbGlicmF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBtb2RlOiBwb3NlSWQgKyAxLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZmluaXNoKCkge1xyXG4gICAgICAgICAgICBjb21tYW5kTG9nKFwiRmluaXNoaW5nIGNhbGlicmF0aW9uXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsLnNlbmRTdHJ1Y3R1cmUoJ0NvbW1hbmQnLCB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0X3Jlc3BvbnNlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgc2V0X2NhbGlicmF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogMCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0sIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnZmx5YnJpeENvbW1vbicpLmZhY3RvcnkoJ2NvYnMnLCBjb2JzKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb2JzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIFJlYWRlcjogUmVhZGVyLFxyXG4gICAgICAgICAgICBlbmNvZGU6IGVuY29kZSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBSZWFkZXIoY2FwYWNpdHkpIHtcclxuICAgICAgICBpZiAoY2FwYWNpdHkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjYXBhY2l0eSA9IDIwMDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuTiA9IGNhcGFjaXR5O1xyXG4gICAgICAgIHRoaXMuYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoY2FwYWNpdHkpO1xyXG4gICAgICAgIHRoaXMucmVhZHlfZm9yX25ld19tZXNzYWdlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmJ1ZmZlcl9sZW5ndGggPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvYnNEZWNvZGUocmVhZGVyKSB7XHJcbiAgICAgICAgdmFyIHNyY19wdHIgPSAwO1xyXG4gICAgICAgIHZhciBkc3RfcHRyID0gMDtcclxuICAgICAgICB2YXIgbGVmdG92ZXJfbGVuZ3RoID0gMDtcclxuICAgICAgICB2YXIgYXBwZW5kX3plcm8gPSBmYWxzZTtcclxuICAgICAgICB3aGlsZSAocmVhZGVyLmJ1ZmZlcltzcmNfcHRyXSkge1xyXG4gICAgICAgICAgICBpZiAoIWxlZnRvdmVyX2xlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFwcGVuZF96ZXJvKVxyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5idWZmZXJbZHN0X3B0cisrXSA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZWZ0b3Zlcl9sZW5ndGggPSByZWFkZXIuYnVmZmVyW3NyY19wdHIrK10gLSAxO1xyXG4gICAgICAgICAgICAgICAgYXBwZW5kX3plcm8gPSBsZWZ0b3Zlcl9sZW5ndGggPCAweEZFO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLS1sZWZ0b3Zlcl9sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICByZWFkZXIuYnVmZmVyW2RzdF9wdHIrK10gPSByZWFkZXIuYnVmZmVyW3NyY19wdHIrK107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBsZWZ0b3Zlcl9sZW5ndGggPyAwIDogZHN0X3B0cjtcclxuICAgIH1cclxuXHJcbiAgICBSZWFkZXIucHJvdG90eXBlLnJlYWRCeXRlcyA9IGZ1bmN0aW9uKGRhdGEsIG9uU3VjY2Vzcywgb25FcnJvcikge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgYyA9IGRhdGFbaV07XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJlYWR5X2Zvcl9uZXdfbWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gZmlyc3QgYnl0ZSBvZiBhIG5ldyBtZXNzYWdlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlYWR5X2Zvcl9uZXdfbWVzc2FnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJfbGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5idWZmZXJbdGhpcy5idWZmZXJfbGVuZ3RoKytdID0gYztcclxuXHJcbiAgICAgICAgICAgIGlmIChjKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJfbGVuZ3RoID09PSB0aGlzLk4pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBidWZmZXIgb3ZlcmZsb3csIHByb2JhYmx5IGR1ZSB0byBlcnJvcnMgaW4gZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoJ292ZXJmbG93JywgJ2J1ZmZlciBvdmVyZmxvdyBpbiBDT0JTIGRlY29kaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkeV9mb3JfbmV3X21lc3NhZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyX2xlbmd0aCA9IGNvYnNEZWNvZGUodGhpcyk7XHJcbiAgICAgICAgICAgIHZhciBmYWlsZWRfZGVjb2RlID0gKHRoaXMuYnVmZmVyX2xlbmd0aCA9PT0gMCk7XHJcbiAgICAgICAgICAgIGlmIChmYWlsZWRfZGVjb2RlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlclswXSA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGo7XHJcbiAgICAgICAgICAgIGZvciAoaiA9IDE7IGogPCB0aGlzLmJ1ZmZlcl9sZW5ndGg7ICsraikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJbMF0gXj0gdGhpcy5idWZmZXJbal07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyWzBdID09PSAwKSB7ICAvLyBjaGVjayBzdW0gaXMgY29ycmVjdFxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWFkeV9mb3JfbmV3X21lc3NhZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyX2xlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBvblN1Y2Nlc3ModGhpcy5idWZmZXIuc2xpY2UoMSwgdGhpcy5idWZmZXJfbGVuZ3RoKSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoJ3Nob3J0JywgJ1RvbyBzaG9ydCBwYWNrZXQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHsgIC8vIGJhZCBjaGVja3N1bVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWFkeV9mb3JfbmV3X21lc3NhZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJ5dGVzID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCB0aGlzLmJ1ZmZlcl9sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ5dGVzICs9IHRoaXMuYnVmZmVyW2pdICsgXCIsXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMuYnVmZmVyW2pdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChmYWlsZWRfZGVjb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcignZnJhbWUnLCAnVW5leHBlY3RlZCBlbmRpbmcgb2YgcGFja2V0Jyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtc2cgPSAnQkFEIENIRUNLU1VNICgnICsgdGhpcy5idWZmZXJfbGVuZ3RoICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJyBieXRlcyknICsgYnl0ZXMgKyBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoJ2NoZWNrc3VtJywgbXNnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gZW5jb2RlKGJ1Zikge1xyXG4gICAgICAgIHZhciByZXR2YWwgPVxyXG4gICAgICAgICAgICBuZXcgVWludDhBcnJheShNYXRoLmZsb29yKChidWYuYnl0ZUxlbmd0aCAqIDI1NSArIDc2MSkgLyAyNTQpKTtcclxuICAgICAgICB2YXIgbGVuID0gMTtcclxuICAgICAgICB2YXIgcG9zX2N0ciA9IDA7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWYubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgaWYgKHJldHZhbFtwb3NfY3RyXSA9PSAweEZFKSB7XHJcbiAgICAgICAgICAgICAgICByZXR2YWxbcG9zX2N0cl0gPSAweEZGO1xyXG4gICAgICAgICAgICAgICAgcG9zX2N0ciA9IGxlbisrO1xyXG4gICAgICAgICAgICAgICAgcmV0dmFsW3Bvc19jdHJdID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgdmFsID0gYnVmW2ldO1xyXG4gICAgICAgICAgICArK3JldHZhbFtwb3NfY3RyXTtcclxuICAgICAgICAgICAgaWYgKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dmFsW2xlbisrXSA9IHZhbDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBvc19jdHIgPSBsZW4rKztcclxuICAgICAgICAgICAgICAgIHJldHZhbFtwb3NfY3RyXSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJldHZhbC5zdWJhcnJheSgwLCBsZW4pLnNsaWNlKCkuYnVmZmVyO1xyXG4gICAgfTtcclxufSgpKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdmbHlicml4Q29tbW9uJykuZmFjdG9yeSgnY29tbWFuZExvZycsIGNvbW1hbmRMb2cpO1xyXG5cclxuICAgIGNvbW1hbmRMb2cuJGluamVjdCA9IFsnJHEnXTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb21tYW5kTG9nKCRxKSB7XHJcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gW107XHJcbiAgICAgICAgdmFyIHJlc3BvbmRlciA9ICRxLmRlZmVyKCk7XHJcblxyXG4gICAgICAgIHZhciBzZXJ2aWNlID0gbG9nO1xyXG4gICAgICAgIHNlcnZpY2UubG9nID0gbG9nO1xyXG4gICAgICAgIHNlcnZpY2UuY2xlYXJTdWJzY3JpYmVycyA9IGNsZWFyU3Vic2NyaWJlcnM7XHJcbiAgICAgICAgc2VydmljZS5vbk1lc3NhZ2UgPSBvbk1lc3NhZ2U7XHJcbiAgICAgICAgc2VydmljZS5yZWFkID0gcmVhZDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGxvZyhtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIGlmIChtZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICByZXNwb25kZXIubm90aWZ5KHJlYWQoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlYWQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNsZWFyU3Vic2NyaWJlcnMoKSB7XHJcbiAgICAgICAgICAgIHJlc3BvbmRlciA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBvbk1lc3NhZ2UoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbmRlci5wcm9taXNlLnRoZW4odW5kZWZpbmVkLCB1bmRlZmluZWQsIGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnZmx5YnJpeENvbW1vbicpLmZhY3RvcnkoJ2RldmljZUNvbmZpZycsIGRldmljZUNvbmZpZyk7XHJcblxyXG4gICAgZGV2aWNlQ29uZmlnLiRpbmplY3QgPSBbJ3NlcmlhbCcsICdjb21tYW5kTG9nJywgJ2Zpcm13YXJlVmVyc2lvbicsICdzZXJpYWxpemF0aW9uSGFuZGxlciddO1xyXG5cclxuICAgIGZ1bmN0aW9uIGRldmljZUNvbmZpZyhzZXJpYWwsIGNvbW1hbmRMb2csIGZpcm13YXJlVmVyc2lvbiwgc2VyaWFsaXphdGlvbkhhbmRsZXIpIHtcclxuICAgICAgICB2YXIgY29uZmlnO1xyXG5cclxuICAgICAgICB2YXIgY29uZmlnQ2FsbGJhY2sgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY29tbWFuZExvZygnTm8gY2FsbGJhY2sgZGVmaW5lZCBmb3IgcmVjZWl2aW5nIGNvbmZpZ3VyYXRpb25zIScpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBsb2dnaW5nQ2FsbGJhY2sgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY29tbWFuZExvZyhcclxuICAgICAgICAgICAgICAgICdObyBjYWxsYmFjayBkZWZpbmVkIGZvciByZWNlaXZpbmcgbG9nZ2luZyBzdGF0ZSEnICtcclxuICAgICAgICAgICAgICAgICcgQ2FsbGJhY2sgYXJndW1lbnRzOiAoaXNMb2dnaW5nLCBpc0xvY2tlZCwgZGVsYXkpJyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VyaWFsLmFkZE9uUmVjZWl2ZUNhbGxiYWNrKGZ1bmN0aW9uKG1lc3NhZ2VUeXBlLCBtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIGlmIChtZXNzYWdlVHlwZSAhPT0gJ0NvbW1hbmQnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCdzZXRfZWVwcm9tX2RhdGEnIGluIG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUNvbmZpZ0Zyb21SZW1vdGVEYXRhKG1lc3NhZ2Uuc2V0X2VlcHJvbV9kYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoJ3NldF9wYXJ0aWFsX2VlcHJvbV9kYXRhJyBpbiBtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDb25maWdGcm9tUmVtb3RlRGF0YShtZXNzYWdlLnNldF9wYXJ0aWFsX2VlcHJvbV9kYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKCdzZXRfY2FyZF9yZWNvcmRpbmdfc3RhdGUnIGluIG1lc3NhZ2UpICYmICgnc2V0X3NkX3dyaXRlX2RlbGF5JyBpbiBtZXNzYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhcmRfcmVjX3N0YXRlID0gbWVzc2FnZS5zZXRfY2FyZF9yZWNvcmRpbmdfc3RhdGU7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2Rfd3JpdGVfZGVsYXkgPSBtZXNzYWdlLnNldF9zZF93cml0ZV9kZWxheTtcclxuICAgICAgICAgICAgICAgIGxvZ2dpbmdDYWxsYmFjayhjYXJkX3JlY19zdGF0ZS5yZWNvcmRfdG9fY2FyZCwgY2FyZF9yZWNfc3RhdGUubG9ja19yZWNvcmRpbmdfc3RhdGUsIHNkX3dyaXRlX2RlbGF5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXREZXNpcmVkVmVyc2lvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZpcm13YXJlVmVyc2lvbi5kZXNpcmVkKCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVxdWVzdCgpIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXJzID0gZmlybXdhcmVWZXJzaW9uLnNlcmlhbGl6YXRpb25IYW5kbGVyKCk7XHJcbiAgICAgICAgICAgIGNvbW1hbmRMb2coJ1JlcXVlc3RpbmcgY3VycmVudCBjb25maWd1cmF0aW9uIGRhdGEuLi4nKTtcclxuICAgICAgICAgICAgcmV0dXJuIHNlcmlhbC5zZW5kU3RydWN0dXJlKCdDb21tYW5kJywge1xyXG4gICAgICAgICAgICAgICAgcmVxdWVzdF9yZXNwb25zZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHJlcV9wYXJ0aWFsX2VlcHJvbV9kYXRhOiBoYW5kbGVycy5Db25maWd1cmF0aW9uRmxhZy5lbXB0eSgpLFxyXG4gICAgICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZWluaXQoKSB7XHJcbiAgICAgICAgICAgIGNvbW1hbmRMb2coJ1NldHRpbmcgZmFjdG9yeSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gZGF0YS4uLicpO1xyXG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsLnNlbmRTdHJ1Y3R1cmUoJ0NvbW1hbmQnLCB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0X3Jlc3BvbnNlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgcmVpbml0X2VlcHJvbV9kYXRhOiB0cnVlLFxyXG4gICAgICAgICAgICB9LCBmYWxzZSlcclxuICAgICAgICAgICAgICAgIC50aGVuKFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVhc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmRMb2coXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUmVxdWVzdCBmb3IgZmFjdG9yeSByZXNldCBmYWlsZWQ6ICcgKyByZWFzb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2VuZChuZXdDb25maWcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbmRDb25maWcoeyBjb25maWc6IG5ld0NvbmZpZywgdGVtcG9yYXJ5OiBmYWxzZSwgcmVxdWVzdFVwZGF0ZTogdHJ1ZSB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNlbmRDb25maWcocHJvcGVydGllcykge1xyXG4gICAgICAgICAgICB2YXIgaGFuZGxlcnMgPSBmaXJtd2FyZVZlcnNpb24uc2VyaWFsaXphdGlvbkhhbmRsZXIoKTtcclxuICAgICAgICAgICAgdmFyIG1hc2sgPSBwcm9wZXJ0aWVzLm1hc2sgfHwgaGFuZGxlcnMuQ29uZmlndXJhdGlvbkZsYWcuZW1wdHkoKTtcclxuICAgICAgICAgICAgdmFyIG5ld0NvbmZpZyA9IHByb3BlcnRpZXMuY29uZmlnIHx8IGNvbmZpZztcclxuICAgICAgICAgICAgdmFyIHJlcXVlc3RVcGRhdGUgPSBwcm9wZXJ0aWVzLnJlcXVlc3RVcGRhdGUgfHwgZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0ge1xyXG4gICAgICAgICAgICAgICAgcmVxdWVzdF9yZXNwb25zZTogdHJ1ZSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMudGVtcG9yYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnNldF9wYXJ0aWFsX3RlbXBvcmFyeV9jb25maWcgPSBuZXdDb25maWc7XHJcbiAgICAgICAgICAgICAgICBtYXNrID0geyBzZXRfcGFydGlhbF90ZW1wb3JhcnlfY29uZmlnOiBtYXNrIH07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnNldF9wYXJ0aWFsX2VlcHJvbV9kYXRhID0gbmV3Q29uZmlnO1xyXG4gICAgICAgICAgICAgICAgbWFzayA9IHsgc2V0X3BhcnRpYWxfZWVwcm9tX2RhdGE6IG1hc2sgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsLnNlbmRTdHJ1Y3R1cmUoJ0NvbW1hbmQnLCBtZXNzYWdlLCB0cnVlLCBtYXNrKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3RVcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlQ29uZmlnRnJvbVJlbW90ZURhdGEoY29uZmlnQ2hhbmdlcykge1xyXG4gICAgICAgICAgICAvL2NvbW1hbmRMb2coJ1JlY2VpdmVkIGNvbmZpZyEnKTtcclxuICAgICAgICAgICAgY29uZmlnID0gc2VyaWFsaXphdGlvbkhhbmRsZXIudXBkYXRlRmllbGRzKGNvbmZpZywgY29uZmlnQ2hhbmdlcyk7XHJcbiAgICAgICAgICAgIHZhciB2ZXJzaW9uID0gW2NvbmZpZy52ZXJzaW9uLm1ham9yLCBjb25maWcudmVyc2lvbi5taW5vciwgY29uZmlnLnZlcnNpb24ucGF0Y2hdO1xyXG4gICAgICAgICAgICBmaXJtd2FyZVZlcnNpb24uc2V0KHZlcnNpb24pO1xyXG4gICAgICAgICAgICBpZiAoIWZpcm13YXJlVmVyc2lvbi5zdXBwb3J0ZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgY29tbWFuZExvZygnUmVjZWl2ZWQgYW4gdW5zdXBwb3J0ZWQgY29uZmlndXJhdGlvbiEnKTtcclxuICAgICAgICAgICAgICAgIGNvbW1hbmRMb2coXHJcbiAgICAgICAgICAgICAgICAgICAgJ0ZvdW5kIHZlcnNpb246ICcgKyB2ZXJzaW9uWzBdICsgJy4nICsgdmVyc2lvblsxXSArICcuJyArIHZlcnNpb25bMl0gICtcclxuICAgICAgICAgICAgICAgICAgICAnIC0tLSBOZXdlc3QgdmVyc2lvbjogJyArXHJcbiAgICAgICAgICAgICAgICAgICAgZmlybXdhcmVWZXJzaW9uLmRlc2lyZWRLZXkoKSApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29tbWFuZExvZyhcclxuICAgICAgICAgICAgICAgICAgICAnUmVjZWl2ZWQgY29uZmlndXJhdGlvbiBkYXRhICh2JyArXHJcbiAgICAgICAgICAgICAgICAgICAgdmVyc2lvblswXSArICcuJyArIHZlcnNpb25bMV0gKyAnLicgKyB2ZXJzaW9uWzJdICsnKScpO1xyXG4gICAgICAgICAgICAgICAgY29uZmlnQ2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0Q29uZmlnQ2FsbGJhY2soY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgY29uZmlnQ2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldExvZ2dpbmdDYWxsYmFjayhjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBsb2dnaW5nQ2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldENvbmZpZygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbmZpZyA9IGZpcm13YXJlVmVyc2lvbi5zZXJpYWxpemF0aW9uSGFuZGxlcigpLkNvbmZpZ3VyYXRpb24uZW1wdHkoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVxdWVzdDogcmVxdWVzdCxcclxuICAgICAgICAgICAgcmVpbml0OiByZWluaXQsXHJcbiAgICAgICAgICAgIHNlbmQ6IHNlbmQsXHJcbiAgICAgICAgICAgIHNlbmRDb25maWc6IHNlbmRDb25maWcsXHJcbiAgICAgICAgICAgIGdldENvbmZpZzogZ2V0Q29uZmlnLFxyXG4gICAgICAgICAgICBzZXRDb25maWdDYWxsYmFjazogc2V0Q29uZmlnQ2FsbGJhY2ssXHJcbiAgICAgICAgICAgIHNldExvZ2dpbmdDYWxsYmFjazogc2V0TG9nZ2luZ0NhbGxiYWNrLFxyXG4gICAgICAgICAgICBnZXREZXNpcmVkVmVyc2lvbjogZ2V0RGVzaXJlZFZlcnNpb24sXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufSgpKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdmbHlicml4Q29tbW9uJykuZmFjdG9yeSgnZmlybXdhcmVWZXJzaW9uJywgZmlybXdhcmVWZXJzaW9uKTtcclxuXHJcbiAgICBmaXJtd2FyZVZlcnNpb24uJGluamVjdCA9IFsnc2VyaWFsaXphdGlvbkhhbmRsZXInXTtcclxuXHJcbiAgICBmdW5jdGlvbiBmaXJtd2FyZVZlcnNpb24oc2VyaWFsaXphdGlvbkhhbmRsZXIpIHtcclxuICAgICAgICB2YXIgdmVyc2lvbiA9IFswLCAwLCAwXTtcclxuICAgICAgICB2YXIga2V5ID0gJzAuMC4wJztcclxuXHJcbiAgICAgICAgdmFyIG5ld2VzdFZlcnNpb24gPSBzZXJpYWxpemF0aW9uSGFuZGxlci5nZXROZXdlc3RWZXJzaW9uKCk7XHJcblxyXG4gICAgICAgIHZhciBkZXNpcmVkID0gW25ld2VzdFZlcnNpb24ubWFqb3IsIG5ld2VzdFZlcnNpb24ubWlub3IsIG5ld2VzdFZlcnNpb24ucGF0Y2hdO1xyXG4gICAgICAgIHZhciBkZXNpcmVkS2V5ID0gZGVzaXJlZFswXS50b1N0cmluZygpICsgJy4nICsgZGVzaXJlZFsxXS50b1N0cmluZygpICsgJy4nICsgZGVzaXJlZFsyXS50b1N0cmluZygpO1xyXG5cclxuICAgICAgICB2YXIgZGVmYXVsdFNlcmlhbGl6YXRpb25IYW5kbGVyID0gc2VyaWFsaXphdGlvbkhhbmRsZXIuZ2V0SGFuZGxlcihkZXNpcmVkS2V5KTtcclxuICAgICAgICB2YXIgY3VycmVudFNlcmlhbGl6YXRpb25IYW5kbGVyID0gZGVmYXVsdFNlcmlhbGl6YXRpb25IYW5kbGVyO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB2ZXJzaW9uID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBrZXkgPSB2YWx1ZS5qb2luKCcuJyk7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50U2VyaWFsaXphdGlvbkhhbmRsZXIgPVxyXG4gICAgICAgICAgICAgICAgICAgIHNlcmlhbGl6YXRpb25IYW5kbGVyLmdldEhhbmRsZXIoZGVzaXJlZEtleSkgfHwgZGVmYXVsdFNlcmlhbGl6YXRpb25IYW5kbGVyO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZlcnNpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGtleTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdXBwb3J0ZWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICEhc2VyaWFsaXphdGlvbkhhbmRsZXIuZ2V0SGFuZGxlcihrZXkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkZXNpcmVkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZXNpcmVkO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkZXNpcmVkS2V5OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZXNpcmVkS2V5O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXJpYWxpemF0aW9uSGFuZGxlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudFNlcmlhbGl6YXRpb25IYW5kbGVyO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG59KCkpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2ZseWJyaXhDb21tb24nKS5mYWN0b3J5KCdsZWQnLCBsZWQpO1xyXG5cclxuICAgIGxlZC4kaW5qZWN0ID0gWydkZXZpY2VDb25maWcnLCAnZmlybXdhcmVWZXJzaW9uJ107XHJcblxyXG4gICAgZnVuY3Rpb24gbGVkKGRldmljZUNvbmZpZywgZmlybXdhcmVWZXJzaW9uKSB7XHJcbiAgICAgICAgdmFyIExlZFBhdHRlcm5zID0ge1xyXG4gICAgICAgICAgICBOT19PVkVSUklERTogMCxcclxuICAgICAgICAgICAgRkxBU0g6IDEsXHJcbiAgICAgICAgICAgIEJFQUNPTjogMixcclxuICAgICAgICAgICAgQlJFQVRIRTogMyxcclxuICAgICAgICAgICAgQUxURVJOQVRFOiA0LFxyXG4gICAgICAgICAgICBTT0xJRDogNSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIga2V5cyA9IFsncmlnaHRfZnJvbnQnLCAncmlnaHRfYmFjaycsICdsZWZ0X2Zyb250JywgJ2xlZnRfYmFjayddO1xyXG4gICAgICAgIHZhciBjb2xvcnMgPSB7fTtcclxuXHJcbiAgICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xyXG4gICAgICAgICAgICBjb2xvcnNba2V5XSA9IHtcclxuICAgICAgICAgICAgICAgIHJlZDogMCxcclxuICAgICAgICAgICAgICAgIGdyZWVuOiAwLFxyXG4gICAgICAgICAgICAgICAgYmx1ZTogMCxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgbGVkU3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHN0YXR1czogNjU1MzUsXHJcbiAgICAgICAgICAgIHBhdHRlcm46IExlZFBhdHRlcm5zLlNPTElELFxyXG4gICAgICAgICAgICBjb2xvcnM6IGNvbG9ycyxcclxuICAgICAgICAgICAgaW5kaWNhdG9yX3JlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGluZGljYXRvcl9ncmVlbjogZmFsc2UsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGNvbmZpZ1BhcnQgPSB7IGxlZF9zdGF0ZXM6IFtsZWRTdGF0ZV0gfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0KFxyXG4gICAgICAgICAgICBjb2xvcl9yZiwgY29sb3JfcmIsIGNvbG9yX2xmLCBjb2xvcl9sYiwgcGF0dGVybiwgcmVkLCBncmVlbikge1xyXG4gICAgICAgICAgICBsZWRTdGF0ZS5zdGF0dXMgPSBmaXJtd2FyZVZlcnNpb24uc2VyaWFsaXphdGlvbkhhbmRsZXIoKS5TdGF0dXNGbGFnLmVtcHR5KCk7XHJcbiAgICAgICAgICAgIGlmIChwYXR0ZXJuID4gMCAmJiBwYXR0ZXJuIDwgNikge1xyXG4gICAgICAgICAgICAgICAgbGVkU3RhdGUucGF0dGVybiA9IHBhdHRlcm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgW2NvbG9yX3JmLCBjb2xvcl9yYiwgY29sb3JfbGYsIGNvbG9yX2xiXS5mb3JFYWNoKGZ1bmN0aW9uKFxyXG4gICAgICAgICAgICAgICAgY29sb3IsIGlkeCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciB2ID0gY29sb3JzW2tleXNbaWR4XV07XHJcbiAgICAgICAgICAgICAgICB2LnJlZCA9IGNvbG9yLnJlZDtcclxuICAgICAgICAgICAgICAgIHYuZ3JlZW4gPSBjb2xvci5ncmVlbjtcclxuICAgICAgICAgICAgICAgIHYuYmx1ZSA9IGNvbG9yLmJsdWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAocmVkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGxlZFN0YXRlLmluZGljYXRvcl9yZWQgPSByZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGdyZWVuICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGxlZFN0YXRlLmluZGljYXRvcl9ncmVlbiA9IGdyZWVuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhcHBseSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0U2ltcGxlKHJlZCwgZ3JlZW4sIGJsdWUpIHtcclxuICAgICAgICAgICAgdmFyIGNvbG9yID0ge3JlZDogcmVkIHx8IDAsIGdyZWVuOiBncmVlbiB8fCAwLCBibHVlOiBibHVlIHx8IDB9O1xyXG4gICAgICAgICAgICBzZXQoY29sb3IsIGNvbG9yLCBjb2xvciwgY29sb3IsIExlZFBhdHRlcm5zLlNPTElEKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFwcGx5KCkge1xyXG4gICAgICAgICAgICBkZXZpY2VDb25maWcuc2VuZENvbmZpZyh7XHJcbiAgICAgICAgICAgICAgICBjb25maWc6IGNvbmZpZ1BhcnQsXHJcbiAgICAgICAgICAgICAgICB0ZW1wb3Jhcnk6IHRydWUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc2V0OiBzZXQsXHJcbiAgICAgICAgICAgIHNldFNpbXBsZTogc2V0U2ltcGxlLFxyXG4gICAgICAgICAgICBwYXR0ZXJuczogTGVkUGF0dGVybnMsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnZmx5YnJpeENvbW1vbicpLmZhY3RvcnkoJ3JjRGF0YScsIHJjRGF0YSk7XHJcblxyXG4gICAgcmNEYXRhLiRpbmplY3QgPSBbJ3NlcmlhbCddO1xyXG5cclxuICAgIGZ1bmN0aW9uIHJjRGF0YShzZXJpYWwpIHtcclxuICAgICAgICB2YXIgQVVYID0ge1xyXG4gICAgICAgICAgICBMT1c6IDAsXHJcbiAgICAgICAgICAgIE1JRDogMSxcclxuICAgICAgICAgICAgSElHSDogMixcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBhdXhOYW1lcyA9IFsnbG93JywgJ21pZCcsICdoaWdoJ107XHJcblxyXG4gICAgICAgIHZhciB0aHJvdHRsZSA9IC0xO1xyXG4gICAgICAgIHZhciBwaXRjaCA9IDA7XHJcbiAgICAgICAgdmFyIHJvbGwgPSAwO1xyXG4gICAgICAgIHZhciB5YXcgPSAwO1xyXG4gICAgICAgIC8vIGRlZmF1bHRzIHRvIGhpZ2ggLS0gbG93IGlzIGVuYWJsaW5nOyBoaWdoIGlzIGRpc2FibGluZ1xyXG4gICAgICAgIHZhciBhdXgxID0gQVVYLkhJR0g7XHJcbiAgICAgICAgLy8gZGVmYXVsdHMgdG8gPz8gLS0gbmVlZCB0byBjaGVjayB0cmFuc21pdHRlciBiZWhhdmlvclxyXG4gICAgICAgIHZhciBhdXgyID0gQVVYLkhJR0g7XHJcblxyXG4gICAgICAgIHZhciB1cmdlbnQgPSB0cnVlO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzZXRUaHJvdHRsZTogc2V0VGhyb3R0bGUsXHJcbiAgICAgICAgICAgIHNldFBpdGNoOiBzZXRQaXRjaCxcclxuICAgICAgICAgICAgc2V0Um9sbDogc2V0Um9sbCxcclxuICAgICAgICAgICAgc2V0WWF3OiBzZXRZYXcsXHJcbiAgICAgICAgICAgIHNldEF1eDE6IHNldEF1eDEsXHJcbiAgICAgICAgICAgIHNldEF1eDI6IHNldEF1eDIsXHJcbiAgICAgICAgICAgIGdldFRocm90dGxlOiBnZXRUaHJvdHRsZSxcclxuICAgICAgICAgICAgZ2V0UGl0Y2g6IGdldFBpdGNoLFxyXG4gICAgICAgICAgICBnZXRSb2xsOiBnZXRSb2xsLFxyXG4gICAgICAgICAgICBnZXRZYXc6IGdldFlhdyxcclxuICAgICAgICAgICAgZ2V0QXV4MTogZ2V0QXV4MSxcclxuICAgICAgICAgICAgZ2V0QXV4MjogZ2V0QXV4MixcclxuICAgICAgICAgICAgQVVYOiBBVVgsXHJcbiAgICAgICAgICAgIHNlbmQ6IHNlbmQsXHJcbiAgICAgICAgICAgIGZvcmNlTmV4dFNlbmQ6IGZvcmNlTmV4dFNlbmQsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2VuZCgpIHtcclxuICAgICAgICAgICAgaWYgKCF1cmdlbnQgJiYgc2VyaWFsLmJ1c3koKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHVyZ2VudCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIC8vIGludmVydCBwaXRjaCBhbmQgcm9sbFxyXG4gICAgICAgICAgICB2YXIgdGhyb3R0bGVfdGhyZXNob2xkID1cclxuICAgICAgICAgICAgICAgIC0wLjg7ICAvLyBrZWVwIGJvdHRvbSAxMCUgb2YgdGhyb3R0bGUgc3RpY2sgdG8gbWVhbiAnb2ZmJ1xyXG4gICAgICAgICAgICBjb21tYW5kLnRocm90dGxlID0gY29uc3RyYWluKFxyXG4gICAgICAgICAgICAgICAgKHRocm90dGxlIC0gdGhyb3R0bGVfdGhyZXNob2xkKSAqIDQwOTUgL1xyXG4gICAgICAgICAgICAgICAgICAgICgxIC0gdGhyb3R0bGVfdGhyZXNob2xkKSxcclxuICAgICAgICAgICAgICAgIDAsIDQwOTUpO1xyXG4gICAgICAgICAgICBjb21tYW5kLnBpdGNoID1cclxuICAgICAgICAgICAgICAgIGNvbnN0cmFpbigtKGFwcGx5RGVhZHpvbmUocGl0Y2gsIDAuMSkpICogNDA5NSAvIDIsIC0yMDQ3LCAyMDQ3KTtcclxuICAgICAgICAgICAgY29tbWFuZC5yb2xsID1cclxuICAgICAgICAgICAgICAgIGNvbnN0cmFpbigoYXBwbHlEZWFkem9uZShyb2xsLCAwLjEpKSAqIDQwOTUgLyAyLCAtMjA0NywgMjA0Nyk7XHJcbiAgICAgICAgICAgIGNvbW1hbmQueWF3ID1cclxuICAgICAgICAgICAgICAgIGNvbnN0cmFpbigtKGFwcGx5RGVhZHpvbmUoeWF3LCAwLjEpKSAqIDQwOTUgLyAyLCAtMjA0NywgMjA0Nyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgYXV4X21hc2sgPSB7fTtcclxuICAgICAgICAgICAgLy8gYXV4MV9sb3csIGF1eDFfbWlkLCBhdXgxX2hpZ2gsIGFuZCBzYW1lIHdpdGggYXV4MlxyXG4gICAgICAgICAgICBhdXhfbWFza1snYXV4MV8nICsgYXV4TmFtZXNbYXV4MV1dID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXV4X21hc2tbJ2F1eDJfJyArIGF1eE5hbWVzW2F1eDJdXSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsLnNlbmRTdHJ1Y3R1cmUoJ0NvbW1hbmQnLCB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0X3Jlc3BvbnNlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgc2V0X3NlcmlhbF9yYzoge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogY29tbWFuZCxcclxuICAgICAgICAgICAgICAgICAgICBhdXhfbWFzazogYXV4X21hc2ssXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXRUaHJvdHRsZSh2KSB7XHJcbiAgICAgICAgICAgIHRocm90dGxlID0gdjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldFBpdGNoKHYpIHtcclxuICAgICAgICAgICAgcGl0Y2ggPSB2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0Um9sbCh2KSB7XHJcbiAgICAgICAgICAgIHJvbGwgPSB2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0WWF3KHYpIHtcclxuICAgICAgICAgICAgeWF3ID0gdjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldEF1eDEodikge1xyXG4gICAgICAgICAgICBhdXgxID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMiwgdikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0QXV4Mih2KSB7XHJcbiAgICAgICAgICAgIGF1eDIgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigyLCB2KSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRUaHJvdHRsZSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRocm90dGxlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0UGl0Y2goKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwaXRjaDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldFJvbGwoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByb2xsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0WWF3KCkge1xyXG4gICAgICAgICAgICByZXR1cm4geWF3O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0QXV4MSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGF1eDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRBdXgyKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXV4MjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGZvcmNlTmV4dFNlbmQoKSB7XHJcbiAgICAgICAgICAgIHVyZ2VudCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjb25zdHJhaW4oeCwgeG1pbiwgeG1heCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoeG1pbiwgTWF0aC5taW4oeCwgeG1heCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYXBwbHlEZWFkem9uZSh2YWx1ZSwgZGVhZHpvbmUpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID4gZGVhZHpvbmUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAtIGRlYWR6b25lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IC1kZWFkem9uZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICsgZGVhZHpvbmU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KCkpO1xyXG4iLCIoZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2ZseWJyaXhDb21tb24nKS5mYWN0b3J5KCdzZXJpYWwnLCBzZXJpYWwpO1xyXG5cclxuICAgIHNlcmlhbC4kaW5qZWN0ID0gWyckdGltZW91dCcsICckcScsICdjb2JzJywgJ2NvbW1hbmRMb2cnLCAnZmlybXdhcmVWZXJzaW9uJywgJ3NlcmlhbGl6YXRpb25IYW5kbGVyJ107XHJcblxyXG4gICAgZnVuY3Rpb24gc2VyaWFsKCR0aW1lb3V0LCAkcSwgY29icywgY29tbWFuZExvZywgZmlybXdhcmVWZXJzaW9uLCBzZXJpYWxpemF0aW9uSGFuZGxlcikge1xyXG4gICAgICAgIHZhciBNZXNzYWdlVHlwZSA9IHtcclxuICAgICAgICAgICAgU3RhdGU6IDAsXHJcbiAgICAgICAgICAgIENvbW1hbmQ6IDEsXHJcbiAgICAgICAgICAgIERlYnVnU3RyaW5nOiAzLFxyXG4gICAgICAgICAgICBIaXN0b3J5RGF0YTogNCxcclxuICAgICAgICAgICAgUHJvdG9jb2w6IDEyOCxcclxuICAgICAgICAgICAgUmVzcG9uc2U6IDI1NSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgYWNrbm93bGVkZ2VzID0gW107XHJcbiAgICAgICAgdmFyIGJhY2tlbmQgPSBuZXcgQmFja2VuZCgpO1xyXG5cclxuICAgICAgICB2YXIgb25SZWNlaXZlTGlzdGVuZXJzID0gW107XHJcblxyXG4gICAgICAgIHZhciBjb2JzUmVhZGVyID0gbmV3IGNvYnMuUmVhZGVyKDEwMDAwKTtcclxuICAgICAgICB2YXIgYnl0ZXNIYW5kbGVyID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBCYWNrZW5kKCkge1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQmFja2VuZC5wcm90b3R5cGUuYnVzeSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgQmFja2VuZC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgY29tbWFuZExvZygnTm8gXCJzZW5kXCIgZGVmaW5lZCBmb3Igc2VyaWFsIGJhY2tlbmQnKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBCYWNrZW5kLnByb3RvdHlwZS5vblJlYWQgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgIGNvbW1hbmRMb2coJ05vIFwib25SZWFkXCIgZGVmaW5lZCBmb3Igc2VyaWFsIGJhY2tlbmQnKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgTWVzc2FnZVR5cGVJbnZlcnNpb24gPSBbXTtcclxuICAgICAgICBPYmplY3Qua2V5cyhNZXNzYWdlVHlwZSkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgICAgTWVzc2FnZVR5cGVJbnZlcnNpb25bTWVzc2FnZVR5cGVba2V5XV0gPSBrZXk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGFkZE9uUmVjZWl2ZUNhbGxiYWNrKGZ1bmN0aW9uKG1lc3NhZ2VUeXBlLCBtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIGlmIChtZXNzYWdlVHlwZSA9PT0gJ1Jlc3BvbnNlJykge1xyXG4gICAgICAgICAgICAgICAgYWNrbm93bGVkZ2UobWVzc2FnZS5tYXNrLCBtZXNzYWdlLmFjayk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZVR5cGUgPT09ICdQcm90b2NvbCcpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gbWVzc2FnZS5yZXNwb25zZTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VyaWFsaXphdGlvbkhhbmRsZXIuYWRkSGFuZGxlcihkYXRhLnZlcnNpb24sIGRhdGEuc3RydWN0dXJlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBidXN5OiBidXN5LFxyXG4gICAgICAgICAgICBzZW5kU3RydWN0dXJlOiBzZW5kU3RydWN0dXJlLFxyXG4gICAgICAgICAgICBzZXRCYWNrZW5kOiBzZXRCYWNrZW5kLFxyXG4gICAgICAgICAgICBhZGRPblJlY2VpdmVDYWxsYmFjazogYWRkT25SZWNlaXZlQ2FsbGJhY2ssXHJcbiAgICAgICAgICAgIHJlbW92ZU9uUmVjZWl2ZUNhbGxiYWNrOiByZW1vdmVPblJlY2VpdmVDYWxsYmFjayxcclxuICAgICAgICAgICAgc2V0Qnl0ZXNIYW5kbGVyOiBzZXRCeXRlc0hhbmRsZXIsXHJcbiAgICAgICAgICAgIGhhbmRsZVBvc3RDb25uZWN0OiBoYW5kbGVQb3N0Q29ubmVjdCxcclxuICAgICAgICAgICAgQmFja2VuZDogQmFja2VuZCxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXRCYWNrZW5kKHYpIHtcclxuICAgICAgICAgICAgYmFja2VuZCA9IHY7XHJcbiAgICAgICAgICAgIGJhY2tlbmQub25SZWFkID0gcmVhZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVBvc3RDb25uZWN0KCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdEZpcm13YXJlVmVyc2lvbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVxdWVzdEZpcm13YXJlVmVyc2lvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbmRTdHJ1Y3R1cmUoJ0NvbW1hbmQnLCB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0X3Jlc3BvbnNlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgcmVxX3BhcnRpYWxfZWVwcm9tX2RhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZW5kU3RydWN0dXJlKG1lc3NhZ2VUeXBlLCBkYXRhLCBsb2dfc2VuZCwgZXh0cmFNYXNrKSB7XHJcbiAgICAgICAgICAgIGlmIChtZXNzYWdlVHlwZSA9PT0gJ1N0YXRlJykge1xyXG4gICAgICAgICAgICAgICAgZGF0YSA9IHByb2Nlc3NTdGF0ZU91dHB1dChkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgaGFuZGxlcnMgPSBmaXJtd2FyZVZlcnNpb24uc2VyaWFsaXphdGlvbkhhbmRsZXIoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciByZXNwb25zZSA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgIGlmICghKG1lc3NhZ2VUeXBlIGluIE1lc3NhZ2VUeXBlKSkge1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UucmVqZWN0KCdNZXNzYWdlIHR5cGUgXCInICsgbWVzc2FnZVR5cGUgK1xyXG4gICAgICAgICAgICAgICAgICAgICdcIiBub3Qgc3VwcG9ydGVkIGJ5IGFwcCwgc3VwcG9ydGVkIG1lc3NhZ2UgdHlwZXMgYXJlOicgK1xyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKE1lc3NhZ2VUeXBlKS5qb2luKCcsICcpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5wcm9taXNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghKG1lc3NhZ2VUeXBlIGluIGhhbmRsZXJzKSkge1xyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UucmVqZWN0KCdNZXNzYWdlIHR5cGUgXCInICsgbWVzc2FnZVR5cGUgK1xyXG4gICAgICAgICAgICAgICAgICAgICdcIiBub3Qgc3VwcG9ydGVkIGJ5IGZpcm13YXJlLCBzdXBwb3J0ZWQgbWVzc2FnZSB0eXBlcyBhcmU6JyArXHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoaGFuZGxlcnMpLmpvaW4oJywgJykpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnByb21pc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHR5cGVDb2RlID0gTWVzc2FnZVR5cGVbbWVzc2FnZVR5cGVdO1xyXG4gICAgICAgICAgICB2YXIgaGFuZGxlciA9IGhhbmRsZXJzW21lc3NhZ2VUeXBlXTtcclxuXHJcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBuZXcgVWludDhBcnJheShoYW5kbGVyLmJ5dGVDb3VudCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc2VyaWFsaXplciA9IG5ldyBzZXJpYWxpemF0aW9uSGFuZGxlci5TZXJpYWxpemVyKG5ldyBEYXRhVmlldyhidWZmZXIuYnVmZmVyKSk7XHJcbiAgICAgICAgICAgIGhhbmRsZXIuZW5jb2RlKHNlcmlhbGl6ZXIsIGRhdGEsIGV4dHJhTWFzayk7XHJcbiAgICAgICAgICAgIHZhciBtYXNrID0gaGFuZGxlci5tYXNrQXJyYXkoZGF0YSwgZXh0cmFNYXNrKTtcclxuICAgICAgICAgICAgaWYgKG1hc2subGVuZ3RoIDwgNSkge1xyXG4gICAgICAgICAgICAgICAgbWFzayA9IChtYXNrWzBdIDw8IDApIHwgKG1hc2tbMV0gPDwgOCkgfCAobWFza1syXSA8PCAxNikgfCAobWFza1szXSA8PCAyNCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBkYXRhTGVuZ3RoID0gc2VyaWFsaXplci5pbmRleDtcclxuXHJcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSBuZXcgVWludDhBcnJheShkYXRhTGVuZ3RoICsgMyk7XHJcbiAgICAgICAgICAgIG91dHB1dFswXSA9IG91dHB1dFsxXSA9IHR5cGVDb2RlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBkYXRhTGVuZ3RoOyArK2lkeCkge1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0WzBdIF49IG91dHB1dFtpZHggKyAyXSA9IGJ1ZmZlcltpZHhdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG91dHB1dFtkYXRhTGVuZ3RoICsgMl0gPSAwO1xyXG5cclxuICAgICAgICAgICAgYWNrbm93bGVkZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbWFzazogbWFzayxcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlOiByZXNwb25zZSxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGJhY2tlbmQuc2VuZChuZXcgVWludDhBcnJheShjb2JzLmVuY29kZShvdXRwdXQpKSk7XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG5cclxuICAgICAgICAgICAgaWYgKGxvZ19zZW5kKSB7XHJcbiAgICAgICAgICAgICAgICBjb21tYW5kTG9nKCdTZW5kaW5nIGNvbW1hbmQgJyArIHR5cGVDb2RlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnByb21pc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBidXN5KCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYmFja2VuZC5idXN5KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXRCeXRlc0hhbmRsZXIoaGFuZGxlcikge1xyXG4gICAgICAgICAgICBieXRlc0hhbmRsZXIgPSBoYW5kbGVyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVhZChkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChieXRlc0hhbmRsZXIpXHJcbiAgICAgICAgICAgICAgICBieXRlc0hhbmRsZXIoZGF0YSwgcHJvY2Vzc0RhdGEpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBjb2JzUmVhZGVyLnJlYWRCeXRlcyhkYXRhLCBwcm9jZXNzRGF0YSwgcmVwb3J0SXNzdWVzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlcG9ydElzc3Vlcyhpc3N1ZSwgdGV4dCkge1xyXG4gICAgICAgICAgICBjb21tYW5kTG9nKCdDT0JTIGRlY29kaW5nIGZhaWxlZCAoJyArIGlzc3VlICsgJyk6ICcgKyB0ZXh0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZE9uUmVjZWl2ZUNhbGxiYWNrKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIG9uUmVjZWl2ZUxpc3RlbmVycyA9IG9uUmVjZWl2ZUxpc3RlbmVycy5jb25jYXQoW2NhbGxiYWNrXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZW1vdmVPblJlY2VpdmVDYWxsYmFjayhjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBvblJlY2VpdmVMaXN0ZW5lcnMgPSBvblJlY2VpdmVMaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uKGNiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2IgIT09IGNhbGxiYWNrO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFja25vd2xlZGdlKG1hc2ssIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHdoaWxlIChhY2tub3dsZWRnZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHYgPSBhY2tub3dsZWRnZXMuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgIGlmICh2Lm1hc2sgXiBtYXNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdi5yZXNwb25zZS5yZWplY3QoJ01pc3NpbmcgQUNLJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVsYXhlZE1hc2sgPSBtYXNrO1xyXG4gICAgICAgICAgICAgICAgcmVsYXhlZE1hc2sgJj0gfjE7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVsYXhlZE1hc2sgXiB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHYucmVzcG9uc2UucmVqZWN0KCdSZXF1ZXN0IHdhcyBub3QgZnVsbHkgcHJvY2Vzc2VkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2LnJlc3BvbnNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBwcm9jZXNzRGF0YShieXRlcykge1xyXG4gICAgICAgICAgICB2YXIgbWVzc2FnZVR5cGUgPSBNZXNzYWdlVHlwZUludmVyc2lvbltieXRlc1swXV07XHJcbiAgICAgICAgICAgIHZhciBoYW5kbGVyID0gZmlybXdhcmVWZXJzaW9uLnNlcmlhbGl6YXRpb25IYW5kbGVyKClbbWVzc2FnZVR5cGVdO1xyXG4gICAgICAgICAgICBpZiAoIW1lc3NhZ2VUeXBlIHx8ICFoYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICBjb21tYW5kTG9nKCdJbGxlZ2FsIG1lc3NhZ2UgdHlwZSBwYXNzZWQgZnJvbSBmaXJtd2FyZScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VyaWFsaXplciA9IG5ldyBzZXJpYWxpemF0aW9uSGFuZGxlci5TZXJpYWxpemVyKG5ldyBEYXRhVmlldyhieXRlcy5idWZmZXIsIDEpKTtcclxuICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gaGFuZGxlci5kZWNvZGUoc2VyaWFsaXplcik7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgY29tbWFuZExvZygnVW5yZWNvZ25pemVkIG1lc3NhZ2UgZm9ybWF0IHJlY2VpdmVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1lc3NhZ2VUeXBlID09PSAnU3RhdGUnKSB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gcHJvY2Vzc1N0YXRlSW5wdXQobWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb25SZWNlaXZlTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24obGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVyKG1lc3NhZ2VUeXBlLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbGFzdF90aW1lc3RhbXBfdXMgPSAwO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBwcm9jZXNzU3RhdGVJbnB1dChzdGF0ZSkge1xyXG4gICAgICAgICAgICBzdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKTtcclxuICAgICAgICAgICAgdmFyIHNlcmlhbF91cGRhdGVfcmF0ZV9IeiA9IDA7XHJcblxyXG4gICAgICAgICAgICBpZiAoJ3RpbWVzdGFtcF91cycgaW4gc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLnNlcmlhbF91cGRhdGVfcmF0ZV9lc3RpbWF0ZSA9IDEwMDAwMDAgLyAoc3RhdGUudGltZXN0YW1wX3VzIC0gbGFzdF90aW1lc3RhbXBfdXMpO1xyXG4gICAgICAgICAgICAgICAgbGFzdF90aW1lc3RhbXBfdXMgPSBzdGF0ZS50aW1lc3RhbXBfdXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCd0ZW1wZXJhdHVyZScgaW4gc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLnRlbXBlcmF0dXJlIC89IDEwMC4wOyAgLy8gdGVtcGVyYXR1cmUgZ2l2ZW4gaW4gQ2Vsc2l1cyAqIDEwMFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgncHJlc3N1cmUnIGluIHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5wcmVzc3VyZSAvPSAyNTYuMDsgIC8vIHByZXNzdXJlIGdpdmVuIGluIChRMjQuOCkgZm9ybWF0XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHByb2Nlc3NTdGF0ZU91dHB1dChzdGF0ZSkge1xyXG4gICAgICAgICAgICBzdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKTtcclxuICAgICAgICAgICAgaWYgKCd0ZW1wZXJhdHVyZScgaW4gc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLnRlbXBlcmF0dXJlICo9IDEwMC4wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgncHJlc3N1cmUnIGluIHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS5wcmVzc3VyZSAqPSAyNTYuMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KCkpO1xyXG4iLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHNlcmlhbGl6YXRpb25IYW5kbGVyLiRpbmplY3QgPSBbJ2Rlc2NyaXB0b3JzSGFuZGxlciddO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdmbHlicml4Q29tbW9uJykuZmFjdG9yeSgnc2VyaWFsaXphdGlvbkhhbmRsZXInLCBzZXJpYWxpemF0aW9uSGFuZGxlcik7XHJcblxyXG4gICAgZnVuY3Rpb24gc2VyaWFsaXphdGlvbkhhbmRsZXIoZGVzY3JpcHRvcnNIYW5kbGVyKSB7XHJcbiAgICAgICAgdmFyIGhhbmRsZXJDYWNoZSA9IHt9O1xyXG5cclxuICAgICAgICB2YXIgbmV3ZXN0VmVyc2lvbiA9IHsgbWFqb3I6IDAsIG1pbm9yOiAwLCBwYXRjaDogMCB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBpc05ld2VyVmVyc2lvbih2ZXJzaW9uKSB7XHJcbiAgICAgICAgICAgIGlmICh2ZXJzaW9uLm1ham9yICE9PSBuZXdlc3RWZXJzaW9uLm1ham9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmVyc2lvbi5tYWpvciA+IG5ld2VzdFZlcnNpb24ubWFqb3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHZlcnNpb24ubWlub3IgIT09IG5ld2VzdFZlcnNpb24ubWlub3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2ZXJzaW9uLm1pbm9yID4gbmV3ZXN0VmVyc2lvbi5taW5vcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdmVyc2lvbi5wYXRjaCA+IG5ld2VzdFZlcnNpb24ucGF0Y2g7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB2ZXJzaW9uVG9TdHJpbmcodmVyc2lvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gdmVyc2lvbi5tYWpvci50b1N0cmluZygpICsgJy4nICsgdmVyc2lvbi5taW5vci50b1N0cmluZygpICsgJy4nICsgdmVyc2lvbi5wYXRjaC50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc3RyaW5nVG9WZXJzaW9uKHZlcnNpb24pIHtcclxuICAgICAgICAgICAgdmFyIHBhcnRzID0gdmVyc2lvbi5zcGxpdCgnLicpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbWFqb3I6IHBhcnNlSW50KHBhcnRzWzBdKSxcclxuICAgICAgICAgICAgICAgIG1pbm9yOiBwYXJzZUludChwYXJ0c1sxXSksXHJcbiAgICAgICAgICAgICAgICBwYXRjaDogcGFyc2VJbnQocGFydHNbMl0pLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWRkSGFuZGxlcih2ZXJzaW9uLCBzdHJ1Y3R1cmUpIHtcclxuICAgICAgICAgICAgaWYgKGlzTmV3ZXJWZXJzaW9uKHZlcnNpb24pKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdlc3RWZXJzaW9uID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIG1ham9yOiB2ZXJzaW9uLm1ham9yLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbm9yOiB2ZXJzaW9uLm1pbm9yLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoOiB2ZXJzaW9uLnBhdGNoLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBoYW5kbGVyQ2FjaGVbdmVyc2lvblRvU3RyaW5nKHZlcnNpb24pXSA9IEZseWJyaXhTZXJpYWxpemF0aW9uLnBhcnNlKHN0cnVjdHVyZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjb3B5SGFuZGxlcih2ZXJzaW9uLCBzcmNWZXJzaW9uKSB7XHJcbiAgICAgICAgICAgIGlmIChpc05ld2VyVmVyc2lvbih2ZXJzaW9uKSkge1xyXG4gICAgICAgICAgICAgICAgbmV3ZXN0VmVyc2lvbiA9IHtcclxuICAgICAgICAgICAgICAgICAgICBtYWpvcjogdmVyc2lvbi5tYWpvcixcclxuICAgICAgICAgICAgICAgICAgICBtaW5vcjogdmVyc2lvbi5taW5vcixcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaDogdmVyc2lvbi5wYXRjaCxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaGFuZGxlckNhY2hlW3ZlcnNpb25Ub1N0cmluZyh2ZXJzaW9uKV0gPSBoYW5kbGVyQ2FjaGVbdmVyc2lvblRvU3RyaW5nKHNyY1ZlcnNpb24pXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBkZXNjVmVyc2lvbnMgPSBkZXNjcmlwdG9yc0hhbmRsZXIudmVyc2lvbnM7XHJcbiAgICAgICAgdmFyIGRlc2NGaWxlcyA9IGRlc2NyaXB0b3JzSGFuZGxlci5maWxlcztcclxuICAgICAgICB2YXIgZGVzY1JldmVyc2VNYXAgPSB7fTtcclxuICAgICAgICBPYmplY3Qua2V5cyhkZXNjVmVyc2lvbnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAgICAgICAgIHZhciB2ZXJzID0gc3RyaW5nVG9WZXJzaW9uKGtleSk7XHJcbiAgICAgICAgICAgIHZhciBmaWxlbmFtZSA9IGRlc2NGaWxlc1trZXldO1xyXG4gICAgICAgICAgICBpZiAoZmlsZW5hbWUgaW4gZGVzY1JldmVyc2VNYXApIHtcclxuICAgICAgICAgICAgICAgIGNvcHlIYW5kbGVyKHZlcnMsIGRlc2NSZXZlcnNlTWFwW2ZpbGVuYW1lXSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gZGVzY1ZlcnNpb25zW2tleV07XHJcbiAgICAgICAgICAgICAgICBhZGRIYW5kbGVyKHZlcnMsIGRlc2NGaWxlc1tmaWxlbmFtZV0pO1xyXG4gICAgICAgICAgICAgICAgZGVzY1JldmVyc2VNYXBbZmlsZW5hbWVdID0gdmVycztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVGaWVsZHModGFyZ2V0LCBzb3VyY2UpIHtcclxuICAgICAgICAgICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlRmllbGRzQXJyYXkodGFyZ2V0LCBzb3VyY2UpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIE9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUZpZWxkc09iamVjdCh0YXJnZXQsIHNvdXJjZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHNvdXJjZSA9PT0gbnVsbCB8fCBzb3VyY2UgPT09IHVuZGVmaW5lZCkgPyB0YXJnZXQgOiBzb3VyY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUZpZWxkc09iamVjdCh0YXJnZXQsIHNvdXJjZSkge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRhcmdldCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IHVwZGF0ZUZpZWxkcyh0YXJnZXRba2V5XSwgc291cmNlW2tleV0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmtleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkgaW4gcmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB1cGRhdGVGaWVsZHModGFyZ2V0W2tleV0sIHNvdXJjZVtrZXldKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVGaWVsZHNBcnJheSh0YXJnZXQsIHNvdXJjZSkge1xyXG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgodGFyZ2V0Lmxlbmd0aCwgc291cmNlLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyArK2lkeCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godXBkYXRlRmllbGRzKHRhcmdldFtpZHhdLCBzb3VyY2VbaWR4XSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBTZXJpYWxpemVyOiBGbHlicml4U2VyaWFsaXphdGlvbi5TZXJpYWxpemVyLFxyXG4gICAgICAgICAgICBnZXRIYW5kbGVyOiBmdW5jdGlvbiAoZmlybXdhcmUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVyQ2FjaGVbZmlybXdhcmVdO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXROZXdlc3RWZXJzaW9uOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3ZXN0VmVyc2lvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYWRkSGFuZGxlcjogYWRkSGFuZGxlcixcclxuICAgICAgICAgICAgY29weUhhbmRsZXI6IGNvcHlIYW5kbGVyLFxyXG4gICAgICAgICAgICB1cGRhdGVGaWVsZHM6IHVwZGF0ZUZpZWxkcyxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxufSgpKTtcclxuIl19
